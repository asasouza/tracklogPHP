<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0090)https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.output -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Manual do PHPUnit</title><link rel="stylesheet" type="text/css" href="./Manual do PHPUnit_files/docbook.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"></head><body><div xml:lang="pt_br" class="book" lang="pt_br"><div class="titlepage"><div><div><h1 class="title"><a id="phpunit"></a>Manual do PHPUnit</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Sebastian</span> <span class="surname">Bergmann</span></h3></div></div><div><p class="copyright">Copyright © 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015 Sebastian Bergmann</p></div><div><div class="legalnotice"><a id="idp53696"></a><p>Este material é licenciado sob a Licença Não-Adaptada Creative Commons Attribution 3.0.</p></div></div><div><p class="pubdate">Edição para PHPUnit 6.2. Atualizado em 2017-08-01.</p></div></div><hr></div><div class="toc"><dl class="toc"><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#installation">1. Instalando PHPUnit</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#installation.requirements">Requerimentos</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#installation.phar">PHP Archive (PHAR)</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#installation.phar.windows">Windows</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#installation.phar.verification">Verificando lançamentos do PHAR PHPUnit</a></span></dt></dl></dd><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#installation.composer">Composer</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#installation.optional-packages">Pacotes adicionais</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit">2. Escrevendo Testes para o PHPUnit</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.test-dependencies">Dependências de Testes</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.data-providers">Provedores de Dados</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions">Testando Exceções</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.errors">Testando Erros PHP</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.output">Testando Saídas</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.error-output">Saída de Erro</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.error-output.edge-cases">Casos Extremos</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui">3. O executor de testes em linha-de-comando</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures">4. Ambientes</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.more-setup-than-teardown">Mais setUp() que tearDown()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.variations">Variações</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.sharing-fixture">Compartilhando Ambientes</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.global-state">Estado Global</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#organizing-tests">5. Organizando Testes</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#organizing-tests.filesystem">Compondo uma Suíte de Testes usando o Sistema de Arquivos</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#organizing-tests.xml-configuration">Compondo uma Suíte de Testes Usando uma Configuração XML</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests">6. Testes arriscados</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests.useless-tests">Testes Inúteis</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests.unintentionally-covered-code">Cobertura de Código Involuntária</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests.output-during-test-execution">Saída Durante a Execução de Teste</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests.test-execution-timeout">Tempo de Espera de Execução de Teste</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests.global-state-manipulation">Manipulação do Estado Global</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests">7. Testes Incompletos e Pulados</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.incomplete-tests">Testes Incompletos</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.skipping-tests">Pulando Testes</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.skipping-tests-using-requires">Pulando Testes usando @requires</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database">8. Testando Bancos de Dados</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.supported-vendors-for-database-testing">Fornecedores Suportados para Testes de Banco de Dados</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.difficulties-in-database-testing">Dificuldades em Testes de Bancos de Dados</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.the-four-stages-of-a-database-test">Os quatro estágios dos testes com banco de dados</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.clean-up-database">1. Limpar o Banco de Dados</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.set-up-fixture">2. Configurar o ambiente</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.run-test-verify-outcome-and-teardown">3–5. Executar Teste, Verificar resultado e Desmontar (Teardown)</a></span></dt></dl></dd><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.configuration-of-a-phpunit-database-testcase">Configuração de um Caso de Teste de Banco de Dados do PHPUnit</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.implementing-getconnection">Implementando getConnection()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.implementing-getdataset">Implementando getDataSet()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.what-about-the-database-schema-ddl">E quanto ao Esquema do Banco de Dados (DDL)?</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.tip-use-your-own-abstract-database-testcase">Dica: Use seu próprio Caso Abstrato de Teste de Banco de Dados</a></span></dt></dl></dd><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.understanding-datasets-and-datatables">Entendendo Conjunto de Dados e Tabelas de Dados</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.available-implementations">Implementações disponíveis</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.beware-of-foreign-keys">Cuidado com Chaves Estrangeiras</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.implementing-your-own-datasetsdatatables">Implementando seus próprios Conjuntos de Dados/ Tabelas de Dados</a></span></dt></dl></dd><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.the-connection-api">A API de Conexão</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.database-assertions-api">API de Asserções de Banco de Dados</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.asserting-the-row-count-of-a-table">Asseverado a contagem de linhas de uma Tabela</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.asserting-the-state-of-a-table">Asseverando o Estado de uma Tabela</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.asserting-the-result-of-a-query">Asseverando o Resultado de uma Query</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.asserting-the-state-of-multiple-tables">Asseverando o Estado de Múltiplas Tabelas</a></span></dt></dl></dd><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.frequently-asked-questions">Perguntas Mais Frequentes</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.will-phpunit-re-create-the-database-schema-for-each-test">O PHPUnit vai (re)criar o esquema do banco de dados para cada 
             teste?</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.am-i-required-to-use-pdo-in-my-application-for-the-database-extension-to-work">Sou forçado a usar PDO em minha aplicação para que a Extensão para 
             Banco de Dados funcione?</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.what-can-i-do-when-i-get-a-too-much-connections-error">O que posso fazer quando recebo um Erro
             <span class="quote">“<span class="quote">Too much Connections</span>”</span>?</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#database.how-to-handle-null-with-flat-xml-csv-datasets">Como lidar com NULL usando Conjuntos de Dados XML Plano / CSV?</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles">9. Dublês de Testes</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mock-objects">Objetos Falsos</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.prophecy">Profecia</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mocking-traits-and-abstract-classes">Falsificando Traits e Classes Abstratas</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubbing-and-mocking-web-services">Esboçando e Falsificando Serviços Web</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mocking-the-filesystem">Esboçando o Sistema de Arquivos</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#testing-practices">10. Práticas de Teste</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#testing-practices.during-development">Durante o Desenvolvimento</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#testing-practices.during-debugging">Durante a Depuração</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis">11. Análise de Cobertura de Código</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.metrics">Métricas de Software para  Cobertura de Código</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.including-excluding-files">Incluindo e Excluindo Arquivos</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.ignoring-code-blocks">Ignorando Blocos de Código</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.specifying-covered-methods">Especificando métodos cobertos</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.edge-cases">Casos Extremos</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests">12. Outros Usos para Testes</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests.agile-documentation">Documentação Ágil</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests.cross-team-tests">Testes Inter-Equipes</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium">13. PHPUnit e Selenium</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.selenium-rc">Servidor Selenium</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.installation">Instalação</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.selenium2testcase">PHPUnit_Extensions_Selenium2TestCase</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.seleniumtestcase">PHPUnit_Extensions_SeleniumTestCase</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging">14. Registrando</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging.xml">Resultados de Teste (XML)</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging.tap">Resultados de Teste (TAP)</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging.json">Resultados de Teste (JSON)</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging.codecoverage.xml">Cobertura de Código (XML)</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging.codecoverage.text">Cobertura de Código (TEXT)</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit">15. Estendendo o PHPUnit</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Framework_TestCase">Subclasse PHPUnit_Framework_TestCase</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.custom-assertions">Escreva asserções personalizadas</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Framework_TestListener">Implementando PHPUnit_Framework_TestListener</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Extensions_TestDecorator">Subclasse PHPUnit_Extensions_TestDecorator</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Framework_Test">Implementando PHPUnit_Framework_Test</a></span></dt></dl></dd><dt><span class="appendix"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions">A. Asserções</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertArrayHasKey">assertArrayHasKey()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertClassHasAttribute">assertClassHasAttribute()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertArraySubset">assertArraySubset()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertClassHasStaticAttribute">assertClassHasStaticAttribute()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContains">assertContains()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContainsOnly">assertContainsOnly()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContainsOnlyInstancesOf">assertContainsOnlyInstancesOf()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertCount">assertCount()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEmpty">assertEmpty()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEqualXMLStructure">assertEqualXMLStructure()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEquals">assertEquals()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertFalse">assertFalse()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertFileEquals">assertFileEquals()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertFileExists">assertFileExists()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertGreaterThan">assertGreaterThan()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertGreaterThanOrEqual">assertGreaterThanOrEqual()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertInstanceOf">assertInstanceOf()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertInternalType">assertInternalType()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertJsonFileEqualsJsonFile">assertJsonFileEqualsJsonFile()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertJsonStringEqualsJsonFile">assertJsonStringEqualsJsonFile()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertJsonStringEqualsJsonString">assertJsonStringEqualsJsonString()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertLessThan">assertLessThan()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertLessThanOrEqual">assertLessThanOrEqual()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertNull">assertNull()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertObjectHasAttribute">assertObjectHasAttribute()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertRegExp">assertRegExp()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringMatchesFormat">assertStringMatchesFormat()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringMatchesFormatFile">assertStringMatchesFormatFile()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertSame">assertSame()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringEndsWith">assertStringEndsWith()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringEqualsFile">assertStringEqualsFile()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringStartsWith">assertStringStartsWith()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertTrue">assertTrue()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertXmlFileEqualsXmlFile">assertXmlFileEqualsXmlFile()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertXmlStringEqualsXmlFile">assertXmlStringEqualsXmlFile()</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertXmlStringEqualsXmlString">assertXmlStringEqualsXmlString()</a></span></dt></dl></dd><dt><span class="appendix"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations">B. Anotações</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.author">@author</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.after">@after</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.afterClass">@afterClass</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.backupGlobals">@backupGlobals</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.backupStaticAttributes">@backupStaticAttributes</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.before">@before</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.beforeClass">@beforeClass</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.codeCoverageIgnore">@codeCoverageIgnore*</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.covers">@covers</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.coversDefaultClass">@coversDefaultClass</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.coversNothing">@coversNothing</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.dataProvider">@dataProvider</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.depends">@depends</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedException">@expectedException</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedExceptionCode">@expectedExceptionCode</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedExceptionMessage">@expectedExceptionMessage</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedExceptionMessageRegExp">@expectedExceptionMessageRegExp</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.group">@group</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.large">@large</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.medium">@medium</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.preserveGlobalState">@preserveGlobalState</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.requires">@requires</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.runTestsInSeparateProcesses">@runTestsInSeparateProcesses</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.runInSeparateProcess">@runInSeparateProcess</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.small">@small</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.test">@test</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.testdox">@testdox</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.ticket">@ticket</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.uses">@uses</a></span></dt></dl></dd><dt><span class="appendix"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration">C. O arquivo de configuração XML</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.phpunit">PHPUnit</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.testsuites">Suítes de Teste</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.groups">Grupos</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.blacklist-whitelist">Incluindo e Excluindo Arquivos para Cobertura de Código</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.logging">Registrando</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.test-listeners">Ouvintes de Teste</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.php-ini-constants-variables">Definindo configurações PHP INI, Constantes e Variáveis Globais</a></span></dt><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.selenium-rc">Configurando Navegadores para Selenium RC</a></span></dt></dl></dd><dt><span class="appendix"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.upgrading">D. Atualizando</a></span></dt><dd><dl><dt><span class="section"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.upgrading.phpunit-4-0">Atualizando de PHPUnit 3.7 para PHPUnit 4.0</a></span></dt></dl></dd><dt><span class="appendix"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.index">E. Índice</a></span></dt><dd><dl><dt><span class="index"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.index.index"></a></span></dt></dl></dd><dt><span class="appendix"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.bibliography">F. Bibliografia</a></span></dt><dt><span class="appendix"><a href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.copyright">G. Direitos autorais</a></span></dt></dl></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="installation"></a>Capítulo 1. Instalando PHPUnit</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="installation.requirements"></a>Requerimentos</h2></div></div></div><p>
      PHPUnit 6.2 requer PHP 7; Usar a última versão do PHP é altamente recomendável.
    </p><p>
      PHPUnit requer as extensões <a class="ulink" href="http://php.net/manual/en/dom.setup.php" target="_top">dom</a> e <a class="ulink" href="http://php.net/manual/en/json.installation.php" target="_top">json</a>, 
      que são normalmente habilitadas por padrão.
    </p><p>
      PHPUnit também requer as extensões 
      <a class="ulink" href="http://php.net/manual/en/pcre.installation.php" target="_top">pcre</a>,
      <a class="ulink" href="http://php.net/manual/en/reflection.installation.php" target="_top">reflection</a> 
      e <a class="ulink" href="http://php.net/manual/en/spl.installation.php" target="_top">spl</a>.
      Elas são requeridas pelo núcleo do PHP desde 5.3.0 e normalmente não podem 
      ser desabilitadas.
    </p><p>
      A funcionalidade de relatório de cobertura de código requer as extensões  
      <a class="ulink" href="http://xdebug.org/" target="_top">Xdebug</a> (2.1.3 ou superior) e
      <a class="ulink" href="http://php.net/manual/en/tokenizer.installation.php" target="_top">tokenizer</a>.

      Geração de relatórios XML requer a extensão 
      <a class="ulink" href="http://php.net/manual/en/xmlwriter.installation.php" target="_top">xmlwriter</a>.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="installation.phar"></a>PHP Archive (PHAR)</h2></div></div></div><p>
      A maneira mais fácil de obter o PHPUnit é baixar um <a class="ulink" href="http://php.net/phar" target="_top">PHP Archive (PHAR)</a> que tem todas dependências
      requeridas (assim como algumas opcionais) do PHPUnit empacotados em um único 
      arquivo.
    </p><p>
      A extensão <a class="ulink" href="http://php.net/manual/en/phar.installation.php" target="_top">phar</a>
      é requerida para usar PHP Archives (PHAR).
    </p><p>
        A extensão 
        <a class="ulink" href="http://php.net/manual/en/openssl.installation.php" target="_top">openssl</a>
        é requerida para usar a funcionalidade <code class="literal">--self-update</code>
        do PHAR.
    </p><p>
      Se a extensão <a class="ulink" href="http://suhosin.org/" target="_top">Suhosin</a> está
      habilitada, você precisa permitir a execução dos PHARs em seu
      <code class="literal">php.ini</code>:

      </p><pre class="screen">suhosin.executor.include.whitelist = phar
</pre><p>
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        Para baixar de <code class="literal">https://phar.phpunit.de/</code> você precisa de um
        cliente com suporte a
        <a class="ulink" href="http://en.wikipedia.org/wiki/Server_Name_Indication" target="_top">TLS/SNI</a>;
        e.g., wget 1.14 (ou superior).
      </p></div><p>
      Para instalar globalmente o PHAR:
    </p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>wget https://phar.phpunit.de/phpunit.phar</code></strong>
<code class="prompt">$</code> <strong class="userinput"><code>chmod +x phpunit.phar</code></strong>
<code class="prompt">$</code> <strong class="userinput"><code>sudo mv phpunit.phar /usr/local/bin/phpunit</code></strong>
<code class="prompt">$</code> <strong class="userinput"><code>phpunit --version</code></strong>
<code class="computeroutput">PHPUnit x.y.z by Sebastian Bergmann and contributors.</code>
</pre><p>
      Você pode também usar o arquivo PHAR baixado diretamente:
    </p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>wget https://phar.phpunit.de/phpunit.phar</code></strong>
<code class="prompt">$</code> <strong class="userinput"><code>php phpunit.phar --version</code></strong>
<code class="computeroutput">PHPUnit x.y.z by Sebastian Bergmann and contributors.</code>
</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="installation.phar.windows"></a>Windows</h3></div></div></div><p>
        Instalar globalmente o PHAR envolve o mesmo procedimento de instalar manualmente o
        <a class="ulink" href="https://getcomposer.org/doc/00-intro.md#installation-windows" target="_top">
        Composer no Windows</a>:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            Crie um diretório para os binários PHP; e.g., <code class="filename">C:\bin</code>
          </p></li><li class="listitem"><p>
            Acrescente <strong class="userinput"><code>;C:\bin</code></strong> à sua variável de ambiente 
            <code class="varname">PATH</code>
            (<a class="ulink" href="http://stackoverflow.com/questions/6318156/adding-python-path-on-windows-7" target="_top">ajuda relacionada</a>)
          </p></li><li class="listitem"><p>
            Baixe <a class="ulink" href="https://phar.phpunit.de/phpunit.phar" target="_top">https://phar.phpunit.de/phpunit.phar</a> e
            salve o arquivo como <code class="filename">C:\bin\phpunit.phar</code>
          </p></li><li class="listitem"><p>
            Abra uma linha de comando (e.g.,
            pressione <span class="keycap"><strong>Windows</strong></span>+<span class="keycap"><strong>R</strong></span>
            » digite <strong class="userinput"><code>cmd</code></strong>
            » <span class="keycap"><strong>ENTER</strong></span>)
          </p></li><li class="listitem"><p>
            Crie um script de envoltório batch (resulta em
            <code class="filename">C:\bin\phpunit.cmd</code>):
          </p><pre class="screen"><code class="prompt">C:\Users\username&gt;</code> <strong class="userinput"><code>cd C:\bin</code></strong>
<code class="prompt">C:\bin&gt;</code> <strong class="userinput"><code>echo @php "%~dp0phpunit.phar" %* &gt; phpunit.cmd</code></strong>
<code class="prompt">C:\bin&gt;</code> <strong class="userinput"><code>exit</code></strong>
</pre></li><li class="listitem"><p>
            Abra uma nova linha de comando e confirme que você pode executar PHPUnit
            de qualquer caminho:
          </p><pre class="screen"><code class="prompt">C:\Users\username&gt;</code> <strong class="userinput"><code>phpunit --version</code></strong>
<code class="computeroutput">PHPUnit x.y.z by Sebastian Bergmann and contributors.</code>
</pre></li></ol></div><p>
        Para ambientes shell Cygwin e/ou MingW32 (e.g., TortoiseGit), você
        pode pular o passo 5 acima, simplesmente salve o arquivo como
        <code class="filename">phpunit</code> (sem a extensão <code class="filename">.phar</code>),
        e torne-o executável via
        <strong class="userinput"><code>chmod 775 phpunit</code></strong>.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="installation.phar.verification"></a>Verificando lançamentos do PHAR PHPUnit</h3></div></div></div><p>
        Todos lançamentos oficiais do código distribuído pelo Projeto PHPUnit são
        assinados pelo gerenciador de lançamentos para o lançamento. Assinaturas PGP e hashes SHA1
        estão disponíveis para verificação no <a class="ulink" href="https://phar.phpunit.de/" target="_top">phar.phpunit.de</a>.
      </p><p>
        O exemplo a seguir detalha como a verificação de lançamento funciona. Começamos
        baixando <code class="filename">phpunit.phar</code> bem como sua 
        assinatura PGP independente <code class="filename">phpunit.phar.asc</code>:
      </p><pre class="screen"><strong class="userinput"><code>wget https://phar.phpunit.de/phpunit.phar</code></strong>
<strong class="userinput"><code>wget https://phar.phpunit.de/phpunit.phar.asc</code></strong></pre><p>
        Queremos verificar o PHP Archive do PHPUnit (<code class="filename">phpunit.phar</code>)
        contra sua assinatura independente (<code class="filename">phpunit.phar.asc</code>):
      </p><pre class="screen"><strong class="userinput"><code>gpg phpunit.phar.asc</code></strong>
gpg: Signature made Sat 19 Jul 2014 01:28:02 PM CEST using RSA key ID 6372C20A
gpg: Can't check signature: public key not found</pre><p>
        Nós não temos a chave pública do gerenciador de lançamento (<code class="literal">6372C20A</code>)
        no próprio sistema local. A fim de prosseguir com a verificação nós precisamos 
        recuperar a chave pública do gerenciador de lançamentos a partir de um servidor de chaves. 
        Um tal servidor é <code class="filename">pgp.uni-mainz.de</code>. Os servidores de chaves públicas 
        são conectados entre si, então você deve ser capaz de se conectar a qualquer servidor de chaves.
      </p><pre class="screen"><strong class="userinput"><code>gpg --keyserver pgp.uni-mainz.de --recv-keys 0x4AA394086372C20A</code></strong>
gpg: requesting key 6372C20A from hkp server pgp.uni-mainz.de
gpg: key 6372C20A: public key "Sebastian Bergmann &lt;sb@sebastian-bergmann.de&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)</pre><p>
        Agora recebemos uma chave pública para uma entidade conhecida como "Sebastian
        Bergmann &lt;sb@sebastian-bergmann.de&gt;". Porém, nós não temos nenhuma maneira
        de verificar que essa foi criada pela pessoa conhecida como Sebastian
        Bergmann. Mas, vamos tentar verificar a assinatura de lançamento novamente.
      </p><pre class="screen"><strong class="userinput"><code>gpg phpunit.phar.asc</code></strong>
gpg: Signature made Sat 19 Jul 2014 01:28:02 PM CEST using RSA key ID 6372C20A
gpg: Good signature from "Sebastian Bergmann &lt;sb@sebastian-bergmann.de&gt;"
gpg:                 aka "Sebastian Bergmann &lt;sebastian@php.net&gt;"
gpg:                 aka "Sebastian Bergmann &lt;sebastian@thephp.cc&gt;"
gpg:                 aka "Sebastian Bergmann &lt;sebastian@phpunit.de&gt;"
gpg:                 aka "Sebastian Bergmann &lt;sebastian.bergmann@thephp.cc&gt;"
gpg:                 aka "[jpeg image of size 40635]"
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: D840 6D0D 8294 7747 2937  7831 4AA3 9408 6372 C20A</pre><p>
        Neste ponto, a assinatura é boa, mas não confiamos nesta chave. Uma
        boa assinatura significa que o arquivo não foi adulterado. Porém, devido
        a natureza da criptografia de chave pública, você precisa adicionalmente
        verificar que a chave <code class="literal">6372C20A</code> foi criada pelo verdadeiro 
        Sebastian Bergmann.
      </p><p>
        Qualquer invasor pode criar uma chave pública e enviá-la para os servidores 
        de chave pública. Eles podem, então, criar um lançamento malicioso assinado pela 
        chave fake. Então, se você tentar verificar a assinatura desse lançamento corrompido, 
        terá sucesso por quê a chave não é a chave "verdadeira". Portanto, você
        precisa validar o autenticidade dessa chave. Validar a autenticidade da 
        chave pública, no entanto, está fora do escopo desta documentação.
      </p><p>
        Pode ser prudente criar um script shell para gerenciar a instalação do PHPUnit 
        que verifica a assinatura GnuPG antes de rodar sua suíte de teste. Por exemplo: 
      </p><pre class="screen">#!/usr/bin/env bash
clean=1 # Delete phpunit.phar after the tests are complete?
aftercmd="php phpunit.phar --bootstrap bootstrap.php src/tests"
gpg --fingerprint D8406D0D82947747293778314AA394086372C20A
if [ $? -ne 0 ]; then
    echo -e "\033[33mDownloading PGP Public Key...\033[0m"
    gpg --recv-keys D8406D0D82947747293778314AA394086372C20A
    # Sebastian Bergmann &lt;sb@sebastian-bergmann.de&gt;
    gpg --fingerprint D8406D0D82947747293778314AA394086372C20A
    if [ $? -ne 0 ]; then
        echo -e "\033[31mCould not download PGP public key for verification\033[0m"
        exit
    fi
fi

if [ "$clean" -eq 1 ]; then
    # Let's clean them up, if they exist
    if [ -f phpunit.phar ]; then
        rm -f phpunit.phar
    fi
    if [ -f phpunit.phar.asc ]; then
        rm -f phpunit.phar.asc
    fi
fi

# Let's grab the latest release and its signature
if [ ! -f phpunit.phar ]; then
    wget https://phar.phpunit.de/phpunit.phar
fi
if [ ! -f phpunit.phar.asc ]; then
    wget https://phar.phpunit.de/phpunit.phar.asc
fi

# Verify before running
gpg --verify phpunit.phar.asc phpunit.phar
if [ $? -eq 0 ]; then
    echo
    echo -e "\033[33mBegin Unit Testing\033[0m"
    # Run the testing suite
    `$after_cmd`
    # Cleanup
    if [ "$clean" -eq 1 ]; then
        echo -e "\033[32mCleaning Up!\033[0m"
        rm -f phpunit.phar
        rm -f phpunit.phar.asc
    fi
else
    echo
    chmod -x phpunit.phar
    mv phpunit.phar /tmp/bad-phpunit.phar
    mv phpunit.phar.asc /tmp/bad-phpunit.phar.asc
    echo -e "\033[31mSignature did not match! PHPUnit has been moved to /tmp/bad-phpunit.phar\033[0m"
    exit 1
fi
      </pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="installation.composer"></a>Composer</h2></div></div></div><p>
      Simplesmente adicione uma dependência <code class="literal">phpunit/phpunit</code> ao  
      arquivo <code class="literal">composer.json</code> do projeto se você usa o 
      <a class="ulink" href="https://getcomposer.org/" target="_top">Composer</a> para gerenciar as
      dependências do seu projeto. Aqui está um exemplo mínimo de um arquivo 
      <code class="literal">composer.json</code> que define apenas uma dependência em desenvolvimento 
      do PHPUnit 6.2:
    </p><pre class="programlisting">{
    "require-dev": {
        "phpunit/phpunit": "5.5.*"
    }
}</pre><p>
      Para uma instalação em todo o sistema, você pode rodar:
    </p><pre class="screen"><strong class="userinput"><code>composer global require "phpunit/phpunit=5.5.*"</code></strong></pre><p>
      Certifique-se de que você tem <code class="literal">~/.composer/vendor/bin/</code> em seu 
      path.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="installation.optional-packages"></a>Pacotes adicionais</h2></div></div></div><p>
      Os seguintes pacotes opcionais estão disponíveis:
    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
          <code class="literal">PHP_Invoker</code>
        </span></dt><dd><p>
            A classe utilitária para invocar callables com um tempo limite. Este pacote é
            requerido para impor limites de tempo de teste no modo estrito.
          </p><p>
            Este pacote está incluso na distribuição PHAR do PHPUnit. Ele pode ser
            instalado via Composer adicionando a seguinte dependência 
            <code class="literal">"require-dev"</code>:
          </p><pre class="screen"><strong class="userinput"><code>"phpunit/php-invoker": "*"</code></strong></pre></dd><dt><span class="term">
          <code class="literal">DbUnit</code>
        </span></dt><dd><p>
            DbUnit porta para PHP/PHPUnit suportar teste de interação de banco de dados.
          </p><p>
            Este pacote está incluso na distribuição PHAR do PHPUnit. Ele pode ser
            instalado via Composer adicionando a seguinte dependência 
            <code class="literal">"require-dev"</code>:
          </p><pre class="screen"><strong class="userinput"><code>"phpunit/dbunit": "&gt;=1.2"</code></strong></pre></dd><dt><span class="term">
          <code class="literal">PHPUnit_Selenium</code>
        </span></dt><dd><p>
            Integração Selenium RC para PHPUnit.
          </p><p>
            Este pacote está incluso na distribuição PHAR do PHPUnit. Ele pode ser
            instalado via Composer adicionando a seguinte dependência 
            <code class="literal">"require-dev"</code>:
          </p><pre class="screen"><strong class="userinput"><code>"phpunit/phpunit-selenium": "&gt;=1.2"</code></strong></pre></dd></dl></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="writing-tests-for-phpunit"></a>Capítulo 2. Escrevendo Testes para o PHPUnit</h1></div></div></div><p>
    <a id="idp148416" class="indexterm"></a>

    <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.examples.StackTest.php" title="Exemplo 2.1: Testando operações de vetores com o PHPUnit">Exemplo 2.1</a> mostra 
    como podemos escrever testes usando o PHPUnit que exercita operações de vetor do PHP. 
    O exemplo introduz as convenções básicas e passos para escrever testes 
    com o PHPUnit:
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Os testes para uma classe <code class="literal">Classe</code> vão dentro de uma classe <code class="literal">ClasseTest</code>.</p></li><li class="listitem"><p><code class="literal">ClasseTest</code> herda (na maioria das vezes) de <code class="literal">PHPUnit_Framework_TestCase</code>.</p></li><li class="listitem"><p>Os testes são métodos públicos que são nomeados <code class="literal">test*</code>.</p><p><a id="idp265808" class="indexterm"></a><a id="idp266224" class="indexterm"></a>Alternativamente, você pode usar a anotação <code class="literal">@test</code> em um bloco de documentação de um método para marcá-lo como um método de teste.</p></li><li class="listitem"><p>Dentro dos métodos de teste, métodos de confirmação como <code class="literal">assertEquals()</code> (veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions" title="Apêndice A. Asserções">Apêndice A</a>) são usados para confirmar que um valor real equivale a um valor esperado.</p></li></ol></div><div class="example"><a id="writing-tests-for-phpunit.examples.StackTest.php"></a><p class="title"><strong>Exemplo 2.1: Testando operações de vetores com o PHPUnit</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class StackTest extends PHPUnit_Framework_TestCase
{
    public function testPushAndPop()
    {
        $stack = array();
        $this-&gt;assertEquals(0, count($stack));

        array_push($stack, 'foo');
        $this-&gt;assertEquals('foo', $stack[count($stack)-1]);
        $this-&gt;assertEquals(1, count($stack));

        $this-&gt;assertEquals('foo', array_pop($stack));
        $this-&gt;assertEquals(0, count($stack));
    }
}
?&gt;</pre></div></div><br class="example-break"><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tbody><tr><td width="10%" valign="top">&nbsp;</td><td width="80%" valign="top"><p>
      Sempre que você estiver tentado a escrever algo em uma 
      declaração <code class="literal">print</code> ou uma expressão depuradora, escreva 
      como um teste em vez disso.
    </p></td><td width="10%" valign="top">&nbsp;</td></tr><tr><td width="10%" valign="top">&nbsp;</td><td colspan="2" align="right" valign="top">--<span class="attribution">Martin Fowler</span></td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="writing-tests-for-phpunit.test-dependencies"></a>Dependências de Testes</h2></div></div></div><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tbody><tr><td width="10%" valign="top">&nbsp;</td><td width="80%" valign="top"><p>
        Testes Unitários são primeiramente escritos como uma boa prática para ajudar desenvolvedores 
        a identificar e corrigir defeitos, refatorar o código e servir como documentação 
        para uma unidade de programa sob teste. Para conseguir esses benefícios, testes unitários 
        idealmente deveriam cobrir todos os caminhos possíveis em um programa. Um teste unitário 
        geralmente cobre um caminho específico em uma função ou método. Porém um 
        método de teste não é necessariamente uma entidade encapsulada e independente. Às vezes 
        existem dependências implícitas entre métodos de teste, escondidas no 
        cenário de implementação de um teste.
      </p></td><td width="10%" valign="top">&nbsp;</td></tr><tr><td width="10%" valign="top">&nbsp;</td><td colspan="2" align="right" valign="top">--<span class="attribution">Adrian Kuhn et. al.</span></td></tr></tbody></table></div><p>
      <a id="idp276080" class="indexterm"></a>

      O PHPUnit suporta a declaração explícita de dependências entre métodos de teste. 
      Tais dependências não definem a ordem em que os métodos de teste 
      devem ser executados, mas permitem o retorno de uma instância do 
      ambiente do teste por um produtor e a passagem dele para os consumidores dependentes.
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Um produtor é um método de teste que produz a sua unidade sob teste como valor de retorno.</p></li><li class="listitem"><p>Um consumidor é um método de teste que depende de um ou mais produtores e seus valores retornados.</p></li></ul></div><p>
      <a id="idp70272" class="indexterm"></a>
      <a id="idp70848" class="indexterm"></a>

      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.examples.StackTest2.php" title="Exemplo 2.2: Usando a anotação @depends para expressar dependências">Exemplo 2.2</a> mostra 
      como usar a anotação <code class="literal">@depends</code> para expressar 
      dependências entre métodos de teste.
    </p><div class="example"><a id="writing-tests-for-phpunit.examples.StackTest2.php"></a><p class="title"><strong>Exemplo 2.2: Usando a anotação <code class="literal">@depends</code> para expressar dependências</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class StackTest extends PHPUnit_Framework_TestCase
{
    public function testEmpty()
    {
        $stack = array();
        $this-&gt;assertEmpty($stack);

        return $stack;
    }

    /**
     * @depends testEmpty
     */
    public function testPush(array $stack)
    {
        array_push($stack, 'foo');
        $this-&gt;assertEquals('foo', $stack[count($stack)-1]);
        $this-&gt;assertNotEmpty($stack);

        return $stack;
    }

    /**
     * @depends testPush
     */
    public function testPop(array $stack)
    {
        $this-&gt;assertEquals('foo', array_pop($stack));
        $this-&gt;assertEmpty($stack);
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      No exemplo acima, o primeiro teste, <code class="literal">testEmpty()</code>, 
      cria um novo vetor e assegura que o mesmo é vazio. O teste então retorna 
      o ambiente como resultado. O segundo teste, <code class="literal">testPush()</code>,
      depende de <code class="literal">testEmpty()</code> e lhe é passado o resultado do qual
      ele depende como um argumento. Finalmente, <code class="literal">testPop()</code>
      depende de <code class="literal">testPush()</code>.
    </p><p>
      <a id="idp78608" class="indexterm"></a>

      Para localizar defeitos rapidamente, queremos nossa atenção focada nas 
      falhas relevantes dos testes. É por isso que o PHPUnit pula a execução de um teste 
      quando um teste do qual ele depende falha. Isso melhora a localização de defeitos por 
      explorar as dependências entre os testes como mostrado em
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.examples.DependencyFailureTest.php" title="Exemplo 2.3: Explorando as dependências entre os testes">Exemplo 2.3</a>.
    </p><div class="example"><a id="writing-tests-for-phpunit.examples.DependencyFailureTest.php"></a><p class="title"><strong>Exemplo 2.3: Explorando as dependências entre os testes</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class DependencyFailureTest extends PHPUnit_Framework_TestCase
{
    public function testOne()
    {
        $this-&gt;assertTrue(FALSE);
    }

    /**
     * @depends testOne
     */
    public function testTwo()
    {
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit --verbose DependencyFailureTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

FS

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) DependencyFailureTest::testOne
Failed asserting that false is true.

/home/sb/DependencyFailureTest.php:6

There was 1 skipped test:

1) DependencyFailureTest::testTwo
This test depends on "DependencyFailureTest::testOne" to pass.


FAILURES!
Tests: 1, Assertions: 1, Failures: 1, Skipped: 1.</pre></div></div><br class="example-break"><p>
      Um teste pode ter mais de uma anotação <code class="literal">@depends</code>. 
      O PHPUnit não muda a ordem em que os testes são executados, portanto você deve 
      se certificar de que as dependências de um teste podem realmente ser encontradas antes de 
      executar o teste.
    </p><p>
      Um teste que tem mais de uma anotação <code class="literal">@depends</code>
      vai obter um ambiente a partir do primeiro produtor como o primeiro argumento, um ambiente 
      a partir do segundo produtor como o segundo argumento, e assim por diante.
      Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.examples.MultipleDependencies.php" title="Exemplo 2.4: Teste com múltiplas dependências">Exemplo 2.4</a>
    </p><div class="example"><a id="writing-tests-for-phpunit.examples.MultipleDependencies.php"></a><p class="title"><strong>Exemplo 2.4: Teste com múltiplas dependências</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class MultipleDependenciesTest extends PHPUnit_Framework_TestCase
{
    public function testProducerFirst()
    {
        $this-&gt;assertTrue(true);
        return 'first';
    }

    public function testProducerSecond()
    {
        $this-&gt;assertTrue(true);
        return 'second';
    }

    /**
     * @depends testProducerFirst
     * @depends testProducerSecond
     */
    public function testConsumer()
    {
        $this-&gt;assertEquals(
            array('first', 'second'),
            func_get_args()
        );
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit --verbose MultipleDependenciesTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

...

Time: 0 seconds, Memory: 3.25Mb

OK (3 tests, 3 assertions)</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="writing-tests-for-phpunit.data-providers"></a>Provedores de Dados</h2></div></div></div><p>
      <a id="idp90784" class="indexterm"></a>
      <a id="idp91360" class="indexterm"></a>
      Um método de teste pode aceitar argumentos arbitrários. Esses argumentos devem ser 
      fornecidos por um método provedor de dados (<code class="literal">additionProvider()</code> em
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.data-providers.examples.DataTest.php" title="Exemplo 2.5: Usando um provedor de dados que retorna um vetor de vetores">Exemplo 2.5</a>).
      O método provedor de dados a ser usado é especificado usando a 
      anotação <code class="literal">@dataProvider</code>.
    </p><p>
      Um método provedor de dados deve ser <code class="literal">public</code> e ou retornar 
      um vetor de vetores ou um objeto que implementa a interface <code class="literal">Iterator</code> 
      e produz um vetor para cada passo da iteração. Para cada vetor que 
      é parte da coleção o método de teste será chamado com os conteúdos 
      do vetor como seus argumentos.
    </p><div class="example"><a id="writing-tests-for-phpunit.data-providers.examples.DataTest.php"></a><p class="title"><strong>Exemplo 2.5: Usando um provedor de dados que retorna um vetor de vetores</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class DataTest extends PHPUnit_Framework_TestCase
{
    /**
     * @dataProvider additionProvider
     */
    public function testAdd($a, $b, $expected)
    {
        $this-&gt;assertEquals($expected, $a + $b);
    }

    public function additionProvider()
    {
        return array(
          array(0, 0, 0),
          array(0, 1, 1),
          array(1, 0, 1),
          array(1, 1, 3)
        );
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit DataTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

...F

Time: 0 seconds, Memory: 5.75Mb

There was 1 failure:

1) DataTest::testAdd with data set #3 (1, 1, 3)
Failed asserting that 2 matches expected 3.

/home/sb/DataTest.php:9

FAILURES!
Tests: 4, Assertions: 4, Failures: 1.</pre></div></div><br class="example-break"><div class="example"><a id="writing-tests-for-phpunit.data-providers.examples.DataTest2.php"></a><p class="title"><strong>Exemplo 2.6: Usando um provedor de dados que retorna um objeto Iterador</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require 'CsvFileIterator.php';

class DataTest extends PHPUnit_Framework_TestCase
{
    /**
     * @dataProvider additionProvider
     */
    public function testAdd($a, $b, $expected)
    {
        $this-&gt;assertEquals($expected, $a + $b);
    }

    public function additionProvider()
    {
        return new CsvFileIterator('data.csv');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit DataTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

...F

Time: 0 seconds, Memory: 5.75Mb

There was 1 failure:

1) DataTest::testAdd with data set #3 ('1', '1', '3')
Failed asserting that 2 matches expected '3'.

/home/sb/DataTest.php:11

FAILURES!
Tests: 4, Assertions: 4, Failures: 1.</pre></div></div><br class="example-break"><div class="example"><a id="writing-tests-for-phpunit.data-providers.examples.CsvFileIterator.php"></a><p class="title"><strong>Exemplo 2.7: A classe CsvFileIterator</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class CsvFileIterator implements Iterator {
    protected $file;
    protected $key = 0;
    protected $current;

    public function __construct($file) {
        $this-&gt;file = fopen($file, 'r');
    }

    public function __destruct() {
        fclose($this-&gt;file);
    }

    public function rewind() {
        rewind($this-&gt;file);
        $this-&gt;current = fgetcsv($this-&gt;file);
        $this-&gt;key = 0;
    }

    public function valid() {
        return !feof($this-&gt;file);
    }

    public function key() {
        return $this-&gt;key;
    }

    public function current() {
        return $this-&gt;current;
    }

    public function next() {
        $this-&gt;current = fgetcsv($this-&gt;file);
        $this-&gt;key++;
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      <a id="idp363424" class="indexterm"></a>
      <a id="idp364000" class="indexterm"></a>
      <a id="idp364576" class="indexterm"></a>

      Quando um teste recebe uma entrada tanto de um método <code class="literal">@dataProvider</code>
      quanto de um ou mais testes dos quais ele <code class="literal">@depends</code>, os 
      argumentos do provedor de dados virão antes daqueles dos quais ele 
      é dependente. Os argumentos dos quais o teste depende serão os 
      mesmos para cada conjunto de dados.
      Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.data-providers.examples.DependencyAndDataProviderCombo.php" title="Exemplo 2.8: Combinação de @depends e @dataProvider no mesmo teste">Exemplo 2.8</a>
    </p><div class="example"><a id="writing-tests-for-phpunit.data-providers.examples.DependencyAndDataProviderCombo.php"></a><p class="title"><strong>Exemplo 2.8: Combinação de @depends e @dataProvider no mesmo teste</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class DependencyAndDataProviderComboTest extends PHPUnit_Framework_TestCase
{
    public function provider()
    {
        return array(array('provider1'), array('provider2'));
    }

    public function testProducerFirst()
    {
        $this-&gt;assertTrue(true);
        return 'first';
    }

    public function testProducerSecond()
    {
        $this-&gt;assertTrue(true);
        return 'second';
    }

    /**
     * @depends testProducerFirst
     * @depends testProducerSecond
     * @dataProvider provider
     */
    public function testConsumer()
    {
        $this-&gt;assertEquals(
            array('provider1', 'first', 'second'),
            func_get_args()
        );
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit --verbose DependencyAndDataProviderComboTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

...F

Time: 0 seconds, Memory: 3.50Mb

There was 1 failure:

1) DependencyAndDataProviderComboTest::testConsumer with data set #1 ('provider2')
Failed asserting that two arrays are equal.
--- Expected
+++ Actual
@@ @@
Array (
-    0 =&gt; 'provider1'
+    0 =&gt; 'provider2'
1 =&gt; 'first'
2 =&gt; 'second'
)

/home/sb/DependencyAndDataProviderComboTest.php:31

FAILURES!
Tests: 4, Assertions: 4, Failures: 1.
</pre></div></div><br class="example-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        <a id="idp371296" class="indexterm"></a>
        <a id="idp371872" class="indexterm"></a>
        <a id="idp372448" class="indexterm"></a>

        Quando um teste depende de um teste que usa provedores de dados, o teste dependente 
        será executado quando o teste do qual ele depende for bem sucedido em pelo 
        menos um conjunto de dados. O resultado de um teste que usa provedores de dados não pode 
        ser injetado dentro de um teste dependente.
      </p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        <a id="idp374240" class="indexterm"></a>
        <a id="idp374816" class="indexterm"></a>
        <a id="idp375392" class="indexterm"></a>

        Todos provedores de dados são executados antes da chamada ao método estático <code class="literal">setUpBeforeClass</code>
        e a primeira chamada ao método <code class="literal">setUp</code>.
        Por isso você não pode acessar quaisquer variáveis que criar 
        ali de dentro de um provedor de dados. Isto é necessário para que o PHPUnit seja capaz 
        de calcular o número total de testes.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="writing-tests-for-phpunit.exceptions"></a>Testando Exceções</h2></div></div></div><p>
      <a id="idp378976" class="indexterm"></a>
      <a id="idp379552" class="indexterm"></a>

      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions.examples.ExceptionTest.php" title="Exemplo 2.9: Usando a anotação @expectedException">Exemplo 2.9</a>
      mostra como usar a anotação <code class="literal">@expectedException</code> para 
      testar se uma exceção é lançada dentro do código de teste.
    </p><div class="example"><a id="writing-tests-for-phpunit.exceptions.examples.ExceptionTest.php"></a><p class="title"><strong>Exemplo 2.9: Usando a anotação @expectedException</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ExceptionTest extends PHPUnit_Framework_TestCase
{
    /**
     * @expectedException InvalidArgumentException
     */
    public function testException()
    {
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ExceptionTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 4.75Mb

There was 1 failure:

1) ExceptionTest::testException
Expected exception InvalidArgumentException


FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p>
      <a id="idp384512" class="indexterm"></a>
      <a id="idp385088" class="indexterm"></a>
      <a id="idp385664" class="indexterm"></a>
      <a id="idp386256" class="indexterm"></a>
      <a id="idp386848" class="indexterm"></a>

      Adicionalmente, você pode usar <code class="literal">@expectedExceptionMessage</code>,
      <code class="literal">@expectedExceptionMessageRegExp</code> e
      <code class="literal">@expectedExceptionCode</code> em combinação com
      <code class="literal">@expectedException</code> para testar a mensagem de exceção e 
      o código de exceção como mostrado em
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions.examples.ExceptionTest2.php" title="Exemplo 2.10: Usando as anotações @expectedExceptionMessage, @expectedExceptionMessageRegExp e @expectedExceptionCode">Exemplo 2.10</a>.
    </p><div class="example"><a id="writing-tests-for-phpunit.exceptions.examples.ExceptionTest2.php"></a><p class="title"><strong>Exemplo 2.10: 
        Usando as anotações <code class="literal">@expectedExceptionMessage</code>,
        <code class="literal">@expectedExceptionMessageRegExp</code> e
        <code class="literal">@expectedExceptionCode</code>
      </strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ExceptionTest extends PHPUnit_Framework_TestCase
{
    /**
     * @expectedException        InvalidArgumentException
     * @expectedExceptionMessage Right Message
     */
    public function testExceptionHasRightMessage()
    {
        throw new InvalidArgumentException('Some Message', 10);
    }

    /**
     * @expectedException              InvalidArgumentException
     * @expectedExceptionMessageRegExp #Right.*#
     */
    public function testExceptionMessageMatchesRegExp()
    {
        throw new InvalidArgumentException('Some Message', 10);
    }

    /**
     * @expectedException     InvalidArgumentException
     * @expectedExceptionCode 20
     */
    public function testExceptionHasRightCode()
    {
        throw new InvalidArgumentException('Some Message', 10);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ExceptionTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

FFF

Time: 0 seconds, Memory: 3.00Mb

There were 3 failures:

1) ExceptionTest::testExceptionHasRightMessage
Failed asserting that exception message 'Some Message' contains 'Right Message'.

2) ExceptionTest::testExceptionMessageMatchesRegExp
Failed asserting that exception message 'Some Message' matches '#Right.*#'.

3) ExceptionTest::testExceptionHasRightCode
Failed asserting that expected exception code 20 is equal to 10.


FAILURES!
Tests: 3, Assertions: 6, Failures: 3.</pre></div></div><br class="example-break"><p>
      Mais exemplos de <code class="literal">@expectedExceptionMessage</code>,
      <code class="literal">@expectedExceptionMessageRegExp</code> e
      <code class="literal">@expectedExceptionCode</code> são mostrados em 
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedExceptionMessage" title="@expectedExceptionMessage">“@expectedExceptionMessage”</a>,
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedExceptionMessageRegExp" title="@expectedExceptionMessageRegExp">“@expectedExceptionMessageRegExp”</a> e
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedExceptionCode" title="@expectedExceptionCode">“@expectedExceptionCode”</a> respectivamente.
    </p><p>
      Alternativamente, você pode usar o método <code class="literal">setExpectedException()</code> ou
      <code class="literal">setExpectedExceptionRegExp()</code> para definir a exceção esperada 
      como mostrado em <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions.examples.ExceptionTest3.php" title="Exemplo 2.11: Esperando uma exceção surgir do código de teste">Exemplo 2.11</a>.
    </p><div class="example"><a id="writing-tests-for-phpunit.exceptions.examples.ExceptionTest3.php"></a><p class="title"><strong>Exemplo 2.11: Esperando uma exceção surgir do código de teste</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ExceptionTest extends PHPUnit_Framework_TestCase
{
    public function testException()
    {
        $this-&gt;setExpectedException('InvalidArgumentException');
    }

    public function testExceptionHasRightMessage()
    {
        $this-&gt;setExpectedException(
          'InvalidArgumentException', 'Right Message'
        );
        throw new InvalidArgumentException('Some Message', 10);
    }

    public function testExceptionMessageMatchesRegExp()
    {
        $this-&gt;setExpectedExceptionRegExp(
          'InvalidArgumentException', '/Right.*/', 10
        );
        throw new InvalidArgumentException('The Wrong Message', 10);
    }

    public function testExceptionHasRightCode()
    {
        $this-&gt;setExpectedException(
          'InvalidArgumentException', 'Right Message', 20
        );
        throw new InvalidArgumentException('The Right Message', 10);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ExceptionTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

FFFF

Time: 0 seconds, Memory: 3.00Mb

There were 4 failures:

1) ExceptionTest::testException
Expected exception InvalidArgumentException

2) ExceptionTest::testExceptionHasRightMessage
Failed asserting that exception message 'Some Message' contains 'Right Message'.

3) ExceptionTest::testExceptionMessageMatchesRegExp
Failed asserting that exception message 'The Wrong Message' contains '/Right.*/'.

4) ExceptionTest::testExceptionHasRightCode
Failed asserting that expected exception code 20 is equal to 10.


FAILURES!
Tests: 4, Assertions: 8, Failures: 4.</pre></div></div><br class="example-break"><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions.tables.api" title="Tabela 2.1. Métodos para testar exceções">Tabela 2.1</a>
      mostra os métodos fornecidos para testar exceções.
    </p><div class="table"><a id="writing-tests-for-phpunit.exceptions.tables.api"></a><p class="title"><strong>Tabela 2.1. Métodos para testar exceções</strong></p><div class="table-contents"><table class="table" summary="Métodos para testar exceções" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">Método</th><th align="left">Significado</th></tr></thead><tbody><tr><td align="left"><code class="literal">void setExpectedException(string $nomeExcecao[, string $mensagemExcecao = '', inteiro $codigoExcecao = NULL])</code></td><td align="left">Define o <code class="literal">$exceptionName</code>, <code class="literal">$exceptionMessage</code> e <code class="literal">$exceptionCode</code> esperados.</td></tr><tr><td align="left"><code class="literal">void setExpectedExceptionRegExp(string $exceptionName[, string $exceptionMessageRegExp = '', integer $exceptionCode = NULL])</code></td><td align="left">Define o <code class="literal">$exceptionName</code>, <code class="literal">$exceptionMessageRegExp</code> e <code class="literal">$exceptionCode</code> esperados.</td></tr><tr><td align="left"><code class="literal">String getExpectedException()</code></td><td align="left">Retorna o nome da exceção esperada.</td></tr></tbody></table></div></div><br class="table-break"><p>
      Você também pode usar a abordagem mostrada em
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions.examples.ExceptionTest4.php" title="Exemplo 2.12: Abordagem alternativa para testar exceções">Exemplo 2.12</a>
      para testar exceções
    </p><div class="example"><a id="writing-tests-for-phpunit.exceptions.examples.ExceptionTest4.php"></a><p class="title"><strong>Exemplo 2.12: Abordagem alternativa para testar exceções</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ExceptionTest extends PHPUnit_Framework_TestCase {
    public function testException() {
        try {
            // ... Código que se espera que lance uma exceção ...
        }

        catch (InvalidArgumentException $expected) {
            return;
        }

        $this-&gt;fail('Uma exceção esperada não foi criada.');
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Se o código que deve lançar uma exceção no <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions.examples.ExceptionTest4.php" title="Exemplo 2.12: Abordagem alternativa para testar exceções">Exemplo 2.12</a>
      não lançá-la, a chamada subsequente ao
      <code class="literal">fail()</code> vai parar o teste e sinalizar um problema com o 
      teste. Se a exceção esperada é lançada, o bloco <code class="literal">catch</code> 
      será executado, e o teste terminará com sucesso.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="writing-tests-for-phpunit.errors"></a>Testando Erros PHP</h2></div></div></div><p>
      <a id="idp425040" class="indexterm"></a>
      <a id="idp425616" class="indexterm"></a>
      <a id="idp426192" class="indexterm"></a>
      <a id="idp426768" class="indexterm"></a>
      <a id="idp427344" class="indexterm"></a>

      Por padrão, o PHPUnit converte os erros, avisos e notificações do PHP que são 
      disparados durante a execução de um teste para uma exceção. Usando essas 
      exceções, você pode, por exemplo, esperar que um teste dispare um erro PHP como 
      mostrado no <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions.examples.ErrorTest.php" title="Exemplo 2.13: Esperando um erro PHP usando @expectedException">Exemplo 2.13</a>.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        A configuração em tempo de execução <code class="literal">error_reporting</code> do PHP pode
        limitar quais erros o PHPUnit irá converter para exceções. Se você 
        está tendo problemas com essa funcionalidade, certifique-se que o PHP não está configurado para
        suprimir os tipos de erros que você esta testando.
      </p></div><div class="example"><a id="writing-tests-for-phpunit.exceptions.examples.ErrorTest.php"></a><p class="title"><strong>Exemplo 2.13: Esperando um erro PHP usando @expectedException</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ExpectedErrorTest extends PHPUnit_Framework_TestCase
{
    /**
     * @expectedException PHPUnit\Framework\Error
     */
    public function testFailingInclude()
    {
        include 'not_existing_file.php';
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit -d error_reporting=2 ExpectedErrorTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

.

Time: 0 seconds, Memory: 5.25Mb

OK (1 test, 1 assertion)</pre></div></div><br class="example-break"><p>
      <a id="idp433648" class="indexterm"></a>
      <a id="idp434240" class="indexterm"></a>

      <code class="literal">PHPUnit\Framework\Error\Notice</code> e
      <code class="literal">PHPUnit\Framework\Error\Warning</code> representam notificações 
      e avisos do PHP, respectivamente.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        Você deve ser o mais específico possível quando testar exceções. Testar 
        por classes que são muito genéricas pode causar efeitos colaterais 
        indesejáveis. Da mesma forma, testar para a classe <code class="literal">Exception</code>
        com <code class="literal">@expectedException</code> ou
        <code class="literal">setExpectedException()</code> não é mais permitido.
      </p></div><p>
        Ao testar com funções que dependem de funções php que disparam erros como
        <code class="literal">fopen</code> pode ser útil algumas vezes usar a supressão de 
        erros enquanto testa. Isso permite a você verificar os valores retornados por 
        suprimir notificações que levariam a uma
        <code class="literal">PHPUnit\Framework\Error\Notice</code> phpunit.
        </p><div class="example"><a id="writing-tests-for-phpunit.exceptions.examples.TriggerErrorReturnValue.php"></a><p class="title"><strong>Exemplo 2.14: Testando valores de retorno de código que utiliza PHP Errors</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ErrorSuppressionTest extends PHPUnit_Framework_TestCase
{
    public function testFileWriting() {
        $writer = new FileWriter;
        $this-&gt;assertFalse(@$writer-&gt;write('/is-not-writeable/file', 'stuff'));
    }
}
class FileWriter
{
    public function write($file, $content) {
        $file = fopen($file, 'w');
        if($file == false) {
            return false;
        }
        // ...
    }
}

?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ErrorSuppressionTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

.

Time: 1 seconds, Memory: 5.25Mb

OK (1 test, 1 assertion)</pre></div></div><p><br class="example-break">
    Sem a supressão de erros o teste teria relatado uma falha
    <code class="literal">fopen(/is-not-writeable/file): failed to open stream:
    No such file or directory</code>.

    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="writing-tests-for-phpunit.output"></a>Testando Saídas</h2></div></div></div><p>
      Às vezes você quer assegurar que a execução de um método, por 
      exemplo, gere uma saída esperada (via <code class="literal">echo</code> ou 
      <code class="literal">print</code>, por exemplo). A 
      classe <code class="literal">PHPUnit_Framework_TestCase</code> usa a funcionalidade
      <a class="ulink" href="http://www.php.net/manual/en/ref.outcontrol.php" target="_top">Output
      Buffering</a> do PHP para fornecer a funcionalidade que é 
      necessária para isso.
    </p><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.output.examples.OutputTest.php" title="Exemplo 2.15: Testando a saída de uma função ou método">Exemplo 2.15</a>
      mostra como usar o método <code class="literal">expectOutputString()</code> para 
      definir a saída esperada. Se essa saída esperada não for gerada, o 
      teste será contado como uma falha.
    </p><div class="example"><a id="writing-tests-for-phpunit.output.examples.OutputTest.php"></a><p class="title"><strong>Exemplo 2.15: Testando a saída de uma função ou método</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class OutputTest extends PHPUnit_Framework_TestCase
{
    public function testExpectFooActualFoo()
    {
        $this-&gt;expectOutputString('foo');
        print 'foo';
    }

    public function testExpectBarActualBaz()
    {
        $this-&gt;expectOutputString('bar');
        print 'baz';
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit OutputTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

.F

Time: 0 seconds, Memory: 5.75Mb

There was 1 failure:

1) OutputTest::testExpectBarActualBaz
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'bar'
+'baz'


FAILURES!
Tests: 2, Assertions: 2, Failures: 1.</pre></div></div><br class="example-break"><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.output.tables.api" title="Tabela 2.2. Métodos para testar a saída">Tabela 2.2</a>
      mostra os métodos fornecidos para testar saídas.
    </p><div class="table"><a id="writing-tests-for-phpunit.output.tables.api"></a><p class="title"><strong>Tabela 2.2. Métodos para testar a saída</strong></p><div class="table-contents"><table class="table" summary="Métodos para testar a saída" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">Método</th><th align="left">Significado</th></tr></thead><tbody><tr><td align="left"><code class="literal">void expectOutputRegex(string $regularExpression)</code></td><td align="left">Define a saída que se espera combinar com a <code class="literal">$regularExpression</code>.</td></tr><tr><td align="left"><code class="literal">void expectOutputString(string $expectedString)</code></td><td align="left">Define a saída que se espera ser igual a uma <code class="literal">$expectedString</code>.</td></tr><tr><td align="left"><code class="literal">booleano setOutputCallback(callable $callback)</code></td><td align="left">Define um callback que é usado, por exemplo, para normalizar a saída real.</td></tr></tbody></table></div></div><br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        Um teste que emite saída irá falhar no modo estrito.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="writing-tests-for-phpunit.error-output"></a>Saída de Erro</h2></div></div></div><p>
      Sempre que um teste falha o PHPUnit faz o melhor para fornecer a você o 
      máximo possível de conteúdo que possa ajudar a identificar o problema.
    </p><div class="example"><a id="writing-tests-for-phpunit.error-output.examples.ArrayDiffTest.php"></a><p class="title"><strong>Exemplo 2.16: Saída de erro gerada quando uma comparação de vetores falha</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ArrayDiffTest extends PHPUnit_Framework_TestCase
{
    public function testEquality() {
        $this-&gt;assertEquals(
            array(1,2,3 ,4,5,6),
            array(1,2,33,4,5,6)
        );
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ArrayDiffTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) ArrayDiffTest::testEquality
Failed asserting that two arrays are equal.
--- Expected
+++ Actual
@@ @@
 Array (
     0 =&gt; 1
     1 =&gt; 2
-    2 =&gt; 3
+    2 =&gt; 33
     3 =&gt; 4
     4 =&gt; 5
     5 =&gt; 6
 )

/home/sb/ArrayDiffTest.php:7

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p>
      Neste exemplo apenas um dos valores dos vetores diferem e os outros valores 
      são exibidos para fornecer o contexto onde o erro ocorreu.
    </p><p>
      Quando a saída gerada for longa demais para ler o PHPUnit vai quebrá-la 
      e fornecer algumas linhas de contexto ao redor de cada diferença.
    </p><div class="example"><a id="writing-tests-for-phpunit.error-output.examples.LongArrayDiffTest.php"></a><p class="title"><strong>Exemplo 2.17: Saída de erro quando uma comparação de um vetor longo falha</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class LongArrayDiffTest extends PHPUnit_Framework_TestCase
{
    public function testEquality() {
        $this-&gt;assertEquals(
            array(0,0,0,0,0,0,0,0,0,0,0,0,1,2,3 ,4,5,6),
            array(0,0,0,0,0,0,0,0,0,0,0,0,1,2,33,4,5,6)
        );
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit LongArrayDiffTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) LongArrayDiffTest::testEquality
Failed asserting that two arrays are equal.
--- Expected
+++ Actual
@@ @@
     13 =&gt; 2
-    14 =&gt; 3
+    14 =&gt; 33
     15 =&gt; 4
     16 =&gt; 5
     17 =&gt; 6
 )


/home/sb/LongArrayDiffTest.php:7

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="writing-tests-for-phpunit.error-output.edge-cases"></a>Casos Extremos</h3></div></div></div><p>
        Quando uma comparação falha o PHPUnit cria uma representação textual da 
        entrada de valores e as compara. Devido a essa implementação uma diferenciação 
        pode mostrar mais problemas do que realmente existem.
      </p><p>
        Isso só acontece quando se usa assertEquals ou outra função de comparação 'fraca'
        em vetores ou objetos.
      </p><div class="example"><a id="writing-tests-for-phpunit.error-output.edge-cases.examples.ArrayWeakComparisonTest.php"></a><p class="title"><strong>Exemplo 2.18: Caso extremo na geração de diferenciação quando se usa uma comparação fraca</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ArrayWeakComparisonTest extends PHPUnit_Framework_TestCase
{
    public function testEquality() {
        $this-&gt;assertEquals(
            array(1  ,2,3 ,4,5,6),
            array('1',2,33,4,5,6)
        );
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ArrayWeakComparisonTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) ArrayWeakComparisonTest::testEquality
Failed asserting that two arrays are equal.
--- Expected
+++ Actual
@@ @@
 Array (
-    0 =&gt; 1
+    0 =&gt; '1'
     1 =&gt; 2
-    2 =&gt; 3
+    2 =&gt; 33
     3 =&gt; 4
     4 =&gt; 5
     5 =&gt; 6
 )


/home/sb/ArrayWeakComparisonTest.php:7

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p>
        Neste exemplo a diferença no primeiro índice entre
        <code class="literal">1</code> e <code class="literal">'1'</code> é 
        relatada ainda que o assertEquals considere os valores como uma combinação.
      </p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="textui"></a>Capítulo 3. O executor de testes em linha-de-comando</h1></div></div></div><p>
    O executor de testes em linha-de-comando do PHPUnit pode ser invocado através do comando
    <code class="filename">phpunit</code>. O código seguinte mostra como executar 
    testes com o executor de testes em linha-de-comando do PHPUnit:
  </p><pre class="screen"><strong class="userinput"><code>phpunit ArrayTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

..

Time: 0 seconds


OK (2 tests, 2 assertions)</pre><p>
    Quando invocado como mostrado acima, o executor de testes em linha-de-comando do PHPUnit irá procurar
    por um arquivo-fonte <code class="filename">ArrayTest.php</code> no diretório de trabalho atual,
    carregá-lo, e espera encontrar uma classe de caso de teste <code class="literal">ArrayTest</code>.
    Irá então executar os testes desta classe.
  </p><p>
    Para cada teste executado, a ferramenta de linha-de-comando do PHPUnit imprime um caractere para 
      indicar o progresso:
  </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">.</code></span></dt><dd><p>
          Impresso quando um teste é bem sucedido.
        </p></dd><dt><span class="term"><code class="literal">F</code></span></dt><dd><p>
          Impresso quando uma asserção falha enquanto o método de teste executa.
        </p></dd><dt><span class="term"><code class="literal">E</code></span></dt><dd><p>
          Impresso quando um erro ocorre enquanto o método de teste executa.
        </p></dd><dt><span class="term"><code class="literal">R</code></span></dt><dd><p>
          Impresso quando o teste foi marcado como arriscado (veja
          <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests" title="Capítulo 6. Testes arriscados">Capítulo 6</a>).
        </p></dd><dt><span class="term"><code class="literal">S</code></span></dt><dd><p>
          Impresso quando o teste é pulado (veja
          <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests" title="Capítulo 7. Testes Incompletos e Pulados">Capítulo 7</a>).
        </p></dd><dt><span class="term"><code class="literal">I</code></span></dt><dd><p>
          Impresso quando o teste é marcado como incompleto ou ainda não 
          implementado (veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests" title="Capítulo 7. Testes Incompletos e Pulados">Capítulo 7</a>).
        </p></dd></dl></div><p>
    <a id="idp325008" class="indexterm"></a>
    <a id="idp325584" class="indexterm"></a>

    O PHPUnit distingue entre <span class="emphasis"><em>falhas</em></span> e
    <span class="emphasis"><em>erros</em></span>. Uma falha é uma asserção do PHPUnit violada
    assim como uma chamada falha ao <code class="literal">assertEquals()</code>.
    Um erro é uma exceção inesperada ou um erro do PHP. Às vezes 
    essa distinção se mostra útil já que erros tendem a ser mais fáceis de consertar 
    do que falhas. Se você tiver uma grande lista de problemas, é melhor 
    enfrentar os erros primeiro e ver se quaisquer falhas continuam depois de 
    todos consertados.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="textui.clioptions"></a>Opções de linha-de-comando</h2></div></div></div><p>
      Vamos dar uma olhada nas opções do executor de testes em linha-de-comando
      no código seguinte:
    </p><pre class="screen"><strong class="userinput"><code>phpunit --help</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

Usage: phpunit [options] UnitTest [UnitTest.php]
       phpunit [options] &lt;directory&gt;

Code Coverage Options:

  --coverage-clover &lt;file&gt;  Generate code coverage report in Clover XML format.
  --coverage-crap4j &lt;file&gt;  Generate code coverage report in Crap4J XML format.
  --coverage-html &lt;dir&gt;     Generate code coverage report in HTML format.
  --coverage-php &lt;file&gt;     Export PHP_CodeCoverage object to file.
  --coverage-text=&lt;file&gt;    Generate code coverage report in text format.
                            Default: Standard output.
  --coverage-xml &lt;dir&gt;      Generate code coverage report in PHPUnit XML format.

Logging Options:

  --log-junit &lt;file&gt;        Log test execution in JUnit XML format to file.
  --log-tap &lt;file&gt;          Log test execution in TAP format to file.
  --log-json &lt;file&gt;         Log test execution in JSON format.
  --testdox-html &lt;file&gt;     Write agile documentation in HTML format to file.
  --testdox-text &lt;file&gt;     Write agile documentation in Text format to file.

Test Selection Options:

  --filter &lt;pattern&gt;        Filter which tests to run.
  --testsuite &lt;pattern&gt;     Filter which testsuite to run.
  --group ...               Only runs tests from the specified group(s).
  --exclude-group ...       Exclude tests from the specified group(s).
  --list-groups             List available test groups.
  --test-suffix ...         Only search for test in files with specified
                            suffix(es). Default: Test.php,.phpt

Test Execution Options:

  --report-useless-tests    Be strict about tests that do not test anything.
  --strict-coverage         Be strict about unintentionally covered code.
  --strict-global-state     Be strict about changes to global state
  --disallow-test-output    Be strict about output during tests.
  --enforce-time-limit      Enforce time limit based on test size.
  --disallow-todo-tests     Disallow @todo-annotated tests.

  --process-isolation       Run each test in a separate PHP process.
  --no-globals-backup       Do not backup and restore $GLOBALS for each test.
  --static-backup           Backup and restore static attributes for each test.

  --colors=&lt;flag&gt;           Use colors in output ("never", "auto" or "always").
  --columns &lt;n&gt;             Number of columns to use for progress output.
  --columns max             Use maximum number of columns for progress output.
  --stderr                  Write to STDERR instead of STDOUT.
  --stop-on-error           Stop execution upon first error.
  --stop-on-failure         Stop execution upon first error or failure.
  --stop-on-risky           Stop execution upon first risky test.
  --stop-on-skipped         Stop execution upon first skipped test.
  --stop-on-incomplete      Stop execution upon first incomplete test.
  -v|--verbose              Output more verbose information.
  --debug                   Display debugging information during test execution.

  --loader &lt;loader&gt;         TestSuiteLoader implementation to use.
  --repeat &lt;times&gt;          Runs the test(s) repeatedly.
  --tap                     Report test execution progress in TAP format.
  --testdox                 Report test execution progress in TestDox format.
  --printer &lt;printer&gt;       TestListener implementation to use.

Configuration Options:

  --bootstrap &lt;file&gt;        A "bootstrap" PHP file that is run before the tests.
  -c|--configuration &lt;file&gt; Read configuration from XML file.
  --no-configuration        Ignore default configuration file (phpunit.xml).
  --include-path &lt;path(s)&gt;  Prepend PHP's include_path with given path(s).
  -d key[=value]            Sets a php.ini value.

Miscellaneous Options:

  -h|--help                 Prints this usage information.
  --version                 Prints the version and exits.</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">phpunit UnitTest</code></span></dt><dd><p>
            Executa os testes que são fornecidos pela classe
            <code class="literal">UnitTest</code>. Espera-se que essa classe seja declarada 
            no arquivo-fonte <code class="filename">UnitTest.php</code>.
          </p><p>
            <code class="literal">UnitTest</code> deve ser ou uma classe que herda 
            de <code class="literal">PHPUnit_Framework_TestCase</code> ou uma classe que 
            fornece um método <code class="literal">public static suite()</code> que 
            retorna um objeto <code class="literal">PHPUnit_Framework_Test</code>, 
            por exemplo uma instância da classe
            <code class="literal">PHPUnit_Framework_TestSuite</code>.
          </p></dd><dt><span class="term"><code class="literal">phpunit UnitTest UnitTest.php</code></span></dt><dd><p>
            Executa os testes que são fornecidos pela classe
            <code class="literal">UnitTest</code>. Espera-se que esta classe seja declarada 
            no arquivo-fonte especificado.
          </p></dd><dt><span class="term"><code class="literal">--coverage-clover</code></span></dt><dd><p>
            Gera uma arquivo de registro no formato XML com as informações da cobertura de código 
            para a execução dos testes. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging" title="Capítulo 14. Registrando">Capítulo 14</a> para mais detlahes.
          </p><p>
            Por favor, note que essa funcionalidade está disponível somente quando as
            extensões tokenizer e Xdebug estão instaladas.
          </p></dd><dt><span class="term"><code class="literal">--coverage-crap4j</code></span></dt><dd><p>
            Gera um relatório de cobertura de código no formato Crap4j. Veja
            <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis" title="Capítulo 11. Análise de Cobertura de Código">Capítulo 11</a> para mais detalhes.
          </p><p>
            Por favor, note que essa funcionalidade está disponível somente quando as
            extensões tokenizer e Xdebug estão instaladas.
          </p></dd><dt><span class="term"><code class="literal">--coverage-html</code></span></dt><dd><p>
            Gera um relatório no formato HTML. Veja
            <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis" title="Capítulo 11. Análise de Cobertura de Código">Capítulo 11</a> para mais detalhes.
          </p></dd><dt><span class="term"><code class="literal">--coverage-php</code></span></dt><dd><p>
            Gera um objeto PHP_CodeCoverage serializado com as 
            informações de cobertura de código.
          </p><p>
            Por favor, note que essa funcionalidade está disponível somente quando as
            extensões tokenizer e Xdebug estão instaladas.
          </p></dd><dt><span class="term"><code class="literal">--coverage-text</code></span></dt><dd><p>
            Gera um arquivo de registro ou saída de linha de comando no formato legível por humanos
            com a informação de cobertura de código para a execução dos testes.
            Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging" title="Capítulo 14. Registrando">Capítulo 14</a> para mais detalhes.
          </p><p>
            Por favor, note que essa funcionalidade está disponível somente quando as
            extensões tokenizer e Xdebug estão instaladas.
          </p></dd><dt><span class="term"><code class="literal">--log-junit</code></span></dt><dd><p>
            Gera um arquivo de registro no formato XML Junit para a execução dos testes. 
            Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging" title="Capítulo 14. Registrando">Capítulo 14</a> para mais detalhes.
          </p></dd><dt><span class="term"><code class="literal">--log-tap</code></span></dt><dd><p>
            Gera um arquivo de registro usando o formato <a class="ulink" href="http://testanything.org/" target="_top">Test Anything Protocol (TAP)</a> 
            para a execução dos testes. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging" title="Capítulo 14. Registrando">Capítulo 14</a> para mais 
            detalhes.
          </p></dd><dt><span class="term"><code class="literal">--log-json</code></span></dt><dd><p>
            Gera um arquivo de registro usando o 
            formato <a class="ulink" href="http://www.json.org/" target="_top">JSON</a>. 
            Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging" title="Capítulo 14. Registrando">Capítulo 14</a> para mais detalhes.
          </p></dd><dt><span class="term"><code class="literal">--testdox-html</code> e <code class="literal">--testdox-text</code></span></dt><dd><p>
            Gera documentação ágil no formato HTML ou texto plano para os 
            testes que são executados. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests" title="Capítulo 12. Outros Usos para Testes">Capítulo 12</a> para 
            mais detalhes.
          </p></dd><dt><span class="term"><code class="literal">--filter</code></span></dt><dd><p>
            Apenas executa os testes cujos nomes combinam com o padrão 
            fornecido. Se o padrão não for colocado entre delimitadores, o PHPUnit
            irá colocar o padrão no delimitador <code class="literal">/</code>.
          </p><p>
            Os nomes de teste para combinar estará em um dos seguintes formatos:
          </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">TestNamespace\TestCaseClass::testMethod</code></span></dt><dd><p>
                  O formato do nome de teste padrão é o equivalente ao usar 
                  a constante mágica <code class="literal">__METHOD__</code> dentro 
                  do método de teste.
                </p></dd><dt><span class="term"><code class="literal">TestNamespace\TestCaseClass::testMethod with data set #0</code></span></dt><dd><p>
                  Quando um teste tem um provedor de dados, cada iteração dos 
                  dados obtém o índice atual acrescido ao final do 
                  nome do teste padrão.
                </p></dd><dt><span class="term"><code class="literal">TestNamespace\TestCaseClass::testMethod with data set "my named data"</code></span></dt><dd><p>
                  Quando um teste tem um provedor de dados que usa conjuntos nomeados, cada
                  iteração dos dados obtém o nome atual acrescido ao 
                  final do nome do teste padrão. Veja 
                  <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.examples.TestCaseClass.php" title="Exemplo 3.1: Conjunto de dados nomeados">Exemplo 3.1</a> para um 
                  exemplo de conjunto de dados nomeados.
                </p><div class="example"><a id="textui.examples.TestCaseClass.php"></a><p class="title"><strong>Exemplo 3.1: Conjunto de dados nomeados</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
namespace TestNamespace;

class TestCaseClass extends \PHPUnit_Framework_TestCase
{
    /**
     * @dataProvider provider
     */
    public function testMethod($data)
    {
        $this-&gt;assertTrue($data);
    }

    public function provider()
    {
        return array(
           'my named data' =&gt; array(true),
           'my data'       =&gt; array(true)
        );
    }
}
?&gt;</pre></div></div><br class="example-break"></dd><dt><span class="term"><code class="literal">/path/to/my/test.phpt</code></span></dt><dd><p>
                  O nome do teste para um teste PHPT é o caminho do sistema de arquivos.
                </p></dd></dl></div><p>
            Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.examples.filter-patterns" title="Exemplo 3.2: Exmplos de padrão de filtro">Exemplo 3.2</a> para exemplos 
            de padrões de filtros válidos.
          </p><div class="example"><a id="textui.examples.filter-patterns"></a><p class="title"><strong>Exemplo 3.2: Exmplos de padrão de filtro</strong></p><div class="example-contents"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">--filter 'TestNamespace\\TestCaseClass::testMethod'</code></p></li><li class="listitem"><p><code class="literal">--filter 'TestNamespace\\TestCaseClass'</code></p></li><li class="listitem"><p><code class="literal">--filter TestNamespace</code></p></li><li class="listitem"><p><code class="literal">--filter TestCaseClass</code></p></li><li class="listitem"><p><code class="literal">--filter testMethod</code></p></li><li class="listitem"><p><code class="literal">--filter '/::testMethod .*"my named data"/'</code></p></li><li class="listitem"><p><code class="literal">--filter '/::testMethod .*#5$/'</code></p></li><li class="listitem"><p><code class="literal">--filter '/::testMethod .*#(5|6|7)$/'</code></p></li></ul></div></div></div><br class="example-break"><p>
            Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.examples.filter-shortcuts" title="Exemplo 3.3: Atalhos de filtro">Exemplo 3.3</a> para alguns 
            atalhos adicionais que estão disponíveis para combinar provedores de dados
          </p><div class="example"><a id="textui.examples.filter-shortcuts"></a><p class="title"><strong>Exemplo 3.3: Atalhos de filtro</strong></p><div class="example-contents"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">--filter 'testMethod#2'</code></p></li><li class="listitem"><p><code class="literal">--filter 'testMethod#2-4'</code></p></li><li class="listitem"><p><code class="literal">--filter '#2'</code></p></li><li class="listitem"><p><code class="literal">--filter '#2-4'</code></p></li><li class="listitem"><p><code class="literal">--filter 'testMethod@my named data'</code></p></li><li class="listitem"><p><code class="literal">--filter 'testMethod@my.*data'</code></p></li><li class="listitem"><p><code class="literal">--filter '@my named data'</code></p></li><li class="listitem"><p><code class="literal">--filter '@my.*data'</code></p></li></ul></div></div></div><br class="example-break"></dd><dt><span class="term"><code class="literal">--testsuite</code></span></dt><dd><p>
            Só roda o conjunto de teste cujo nome combina com o padrão dado.
          </p></dd><dt><span class="term"><code class="literal">--group</code></span></dt><dd><p>
            Apenas executa os testes do(s) grupo(s) especificado(s). Um teste pode ser marcado como 
            pertencente a um grupo usando a anotação <code class="literal">@group</code>.
          </p><p>
            A anotação <code class="literal">@author</code> é um apelido para
            <code class="literal">@group</code>, permitindo filtrar os testes com base em seus 
            autores.
          </p></dd><dt><span class="term"><code class="literal">--exclude-group</code></span></dt><dd><p>
            Exclui testes do(s) grupo(s) especificado(s). Um teste pode ser marcado como 
            pertencente a um grupo usando a anotação <code class="literal">@group</code>.
          </p></dd><dt><span class="term"><code class="literal">--list-groups</code></span></dt><dd><p>
            Lista os grupos de teste disponíveis.
          </p></dd><dt><span class="term"><code class="literal">--test-suffix</code></span></dt><dd><p>
            Só procurar por arquivos de teste com o sufixo(s) especificado..
          </p></dd><dt><span class="term"><code class="literal">--report-useless-tests</code></span></dt><dd><p>
            Seja estrito sobre testes que não testam nada. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests" title="Capítulo 6. Testes arriscados">Capítulo 6</a> para detalhes.
          </p></dd><dt><span class="term"><code class="literal">--strict-coverage</code></span></dt><dd><p>
            Seja estrito sobre a cobertura de código involuntariamente. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests" title="Capítulo 6. Testes arriscados">Capítulo 6</a> para detalhes.
          </p></dd><dt><span class="term"><code class="literal">--strict-global-state</code></span></dt><dd><p>
            Seja estrito sobre manipulação de estado global. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests" title="Capítulo 6. Testes arriscados">Capítulo 6</a> para detalhes.
          </p></dd><dt><span class="term"><code class="literal">--disallow-test-output</code></span></dt><dd><p>
            Seja estrito sobre a saída durante os testes. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests" title="Capítulo 6. Testes arriscados">Capítulo 6</a> para detalhes.
          </p></dd><dt><span class="term"><code class="literal">--disallow-todo-tests</code></span></dt><dd><p>
            Não executa teste que tem a anotação <code class="literal">@todo</code> em seu bloco de documentação.
          </p></dd><dt><span class="term"><code class="literal">--enforce-time-limit</code></span></dt><dd><p>
            Impõem limite de tempo baseado no tamanho do teste. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests" title="Capítulo 6. Testes arriscados">Capítulo 6</a> para detalhes.
          </p></dd><dt><span class="term"><code class="literal">--process-isolation</code></span></dt><dd><p>
            Executa cada teste em um processo PHP separado.
          </p></dd><dt><span class="term"><code class="literal">--no-globals-backup</code></span></dt><dd><p>
            Não faz cópia de segurança e restaura $GLOBALS. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.global-state" title="Estado Global">“Estado Global”</a>
            para mais detalhes.
          </p></dd><dt><span class="term"><code class="literal">--static-backup</code></span></dt><dd><p>
            Faz cópia de segurança e restaura atributos estáticos das classes definidas pelo usuário. 
            Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.global-state" title="Estado Global">“Estado Global”</a> para mais detalhes.
          </p></dd><dt><span class="term"><code class="literal">--colors</code></span></dt><dd><p>
            Usa cores na saída.
            No Windows, usar <a class="ulink" href="https://github.com/adoxa/ansicon" target="_top">ANSICON</a> ou <a class="ulink" href="https://github.com/Maximus5/ConEmu" target="_top">ConEmu</a>.
          </p></dd><dt><span class="term"><code class="literal">--stderr</code></span></dt><dd><p>
            Opcionalmente imprime para <code class="literal">STDERR</code> em vez de
            <code class="literal">STDOUT</code>.
          </p></dd><dt><span class="term"><code class="literal">--stop-on-error</code></span></dt><dd><p>
            Para a execução no primeiro erro.
          </p></dd><dt><span class="term"><code class="literal">--stop-on-failure</code></span></dt><dd><p>
            Para a execução no primeiro erro ou falha.
          </p></dd><dt><span class="term"><code class="literal">--stop-on-risky</code></span></dt><dd><p>
            Para a execução no primeiro teste arriscado.
          </p></dd><dt><span class="term"><code class="literal">--stop-on-skipped</code></span></dt><dd><p>
            Para a execução no primeiro teste pulado.
          </p></dd><dt><span class="term"><code class="literal">--stop-on-incomplete</code></span></dt><dd><p>
            Para a execução no primeiro teste incompleto.
          </p></dd><dt><span class="term"><code class="literal">--verbose</code></span></dt><dd><p>
            Saída mais verbosa de informações, por exemplo os nomes dos testes 
            que ficaram incompletos ou foram pulados.
          </p></dd><dt><span class="term"><code class="literal">--debug</code></span></dt><dd><p>
            Informação de saída da depuração como o nome de um teste quando a 
            execução começa.
          </p></dd><dt><span class="term"><code class="literal">--loader</code></span></dt><dd><p>
            Especifica a implementação <code class="literal">PHPUnit_Runner_TestSuiteLoader</code>
            a ser usada.
          </p><p>
            O carregador de suíte de teste padrão irá procurar pelo arquivo-fonte no 
            diretório de trabalho atual e em cada diretório que está especificado na 
            configuração de diretiva <code class="literal">include_path</code> do PHP.
            Um nome de classe como <code class="literal">Project_Package_Class</code> é 
            mapeado para o nome de arquivo-fonte 
            <code class="filename">Project/Package/Class.php</code>.
          </p></dd><dt><span class="term"><code class="literal">--repeat</code></span></dt><dd><p>
            Executa repetidamente o(s) teste(s) um determinado número de vezes.
          </p></dd><dt><span class="term"><code class="literal">--tap</code></span></dt><dd><p>
            Relata o progresso do teste usando o <a class="ulink" href="http://testanything.org/" target="_top">Test Anything Protocol (TAP)</a>.
            Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging" title="Capítulo 14. Registrando">Capítulo 14</a> para mais detalhes.
          </p></dd><dt><span class="term"><code class="literal">--testdox</code></span></dt><dd><p>
            Relata o progresso do teste como uma documentação ágil. Veja
            <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests" title="Capítulo 12. Outros Usos para Testes">Capítulo 12</a> para mais detalhes.
          </p></dd><dt><span class="term"><code class="literal">--printer</code></span></dt><dd><p>
            Especifica o impressor de resultados a ser usado. A classe impressora deve estender
            <code class="literal">PHPUnit_Util_Printer</code> e implementar a interface
            <code class="literal">PHPUnit_Framework_TestListener</code>.
          </p></dd><dt><span class="term"><code class="literal">--bootstrap</code></span></dt><dd><p>
            Um arquivo PHP "bootstrap" que é executado antes dos testes.
          </p></dd><dt><span class="term"><code class="literal">--configuration</code>, </span><span class="term"><code class="literal">-c</code></span></dt><dd><p>
            Lê a configuração de um arquivo XML. 
            Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration" title="Apêndice C. O arquivo de configuração XML">Apêndice C</a> para mais detalhes.
          </p><p>
            Se <code class="filename">phpunit.xml</code> ou
            <code class="filename">phpunit.xml.dist</code> (nessa ordem) existirem no 
            diretório de trabalho atual e <code class="literal">--configuration</code> 
            <span class="emphasis"><em>não</em></span> for usado, a configuração será lida automaticamente 
            desse arquivo.
          </p></dd><dt><span class="term"><code class="literal">--no-configuration</code></span></dt><dd><p>
            Ignora <code class="filename">phpunit.xml</code> e
            <code class="filename">phpunit.xml.dist</code> do diretório de trabalho 
            atual.
          </p></dd><dt><span class="term"><code class="literal">--include-path</code></span></dt><dd><p>
            Precede o <code class="literal">include_path</code> do PHP com o(s) caminho(s) fornecido(s).
          </p></dd><dt><span class="term"><code class="literal">-d</code></span></dt><dd><p>
            Define o valor da opção de configuração do PHP fornecida.
          </p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        Por favor, note que as opções não devem ser colocadas depois do(s) argumento(s).
      </p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="fixtures"></a>Capítulo 4. Ambientes</h1></div></div></div><p>
    <a id="idp18256" class="indexterm"></a>

    Uma das partes que mais consomem tempo ao se escrever testes é escrever o 
    código para ajustar o ambiente para um estado conhecido e então retorná-lo ao seu 
    estado original quando o teste está completo. Esse estado conhecido é chamado 
    de <span class="emphasis"><em>ambiente</em></span> do teste.
  </p><p>
    Em <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.examples.StackTest.php" title="Exemplo 2.1: Testando operações de vetores com o PHPUnit">Exemplo 2.1</a>, o 
    ambiente era simplesmente o vetor que está guardado na variável <code class="literal">$stack</code>.
    Na maior parte do tempo, porém, o ambiente será mais complexo 
    que um simples vetor, e a quantidade de código necessária para defini-lo aumentará 
    na mesma proporção. O conteúdo real do teste se perde na bagunça 
    da configuração do ambiente. Esse problema piora ainda mais quando você escreve 
    vários testes com ambientes similares. Sem alguma ajuda do framework de teste, 
    teríamos que duplicar o código que define o ambiente 
    para cada teste que escrevermos.
  </p><p>
    <a id="idp532704" class="indexterm"></a>
    <a id="idp533280" class="indexterm"></a>
    <a id="idp533856" class="indexterm"></a>

    O PHPUnit suporta compartilhamento do código de configuração. Antes que um método seja executado, um 
    método modelo chamado <code class="literal">setUp()</code> é invocado.
    <code class="literal">setUp()</code> é onde você cria os objetos que serão 
    alvo dos testes. Uma vez que o método de teste tenha terminado sua execução, seja 
    bem-sucedido ou falho, outro método modelo chamado
    <code class="literal">tearDown()</code> é invocado. <code class="literal">tearDown()</code>
    é onde você limpa os objetos que foram alvo dos testes.
  </p><p>
    Em <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.examples.StackTest2.php" title="Exemplo 2.2: Usando a anotação @depends para expressar dependências">Exemplo 2.2</a> usamos 
    a relação produtor-consumidor entre testes para compartilhar ambientes. Isso 
    nem sempre é desejável, ou mesmo possível. <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.examples.StackTest.php" title="Exemplo 4.1: Usando setUp() para criar o ambiente stack">Exemplo 4.1</a>
    mostra como podemos escrever os testes do <code class="literal">StackTest</code> de forma 
    que o próprio ambiente não é reutilizado, mas o código que o cria. 
    Primeiro declaramos a variável de instância <code class="literal">$stack</code>, que 
    usaremos no lugar de uma variável do método local. Então colocamos a 
    criação do ambiente <code class="literal">vetor</code> dentro do método
    <code class="literal">setUp()</code>. Finalmente, removemos o código redundante 
    dos métodos de teste e usamos a nova variável de instância,
    <code class="literal">$this-&gt;stack</code>, em vez da variável de método local
    <code class="literal">$stack</code> com o método de asserção <code class="literal">assertEquals()</code>.
  </p><div class="example"><a id="fixtures.examples.StackTest.php"></a><p class="title"><strong>Exemplo 4.1: Usando setUp() para criar o ambiente stack</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class StackTest extends PHPUnit_Framework_TestCase
{
    protected $stack;

    protected function setUp()
    {
        $this-&gt;stack = array();
    }

    public function testEmpty()
    {
        $this-&gt;assertTrue(empty($this-&gt;stack));
    }

    public function testPush()
    {
        array_push($this-&gt;stack, 'foo');
        $this-&gt;assertEquals('foo', $this-&gt;stack[count($this-&gt;stack)-1]);
        $this-&gt;assertFalse(empty($this-&gt;stack));
    }

    public function testPop()
    {
        array_push($this-&gt;stack, 'foo');
        $this-&gt;assertEquals('foo', array_pop($this-&gt;stack));
        $this-&gt;assertTrue(empty($this-&gt;stack));
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
    <a id="idp237024" class="indexterm"></a>
    <a id="idp237600" class="indexterm"></a>
    <a id="idp238176" class="indexterm"></a>
    <a id="idp238752" class="indexterm"></a>
    <a id="idp239328" class="indexterm"></a>

    Os métodos-modelo <code class="literal">setUp()</code> e <code class="literal">tearDown()</code> 
    são executados uma vez para cada método de teste (e em novas instâncias) da 
    classe do caso de teste.
  </p><p>
    <a id="idp244464" class="indexterm"></a>
    <a id="idp245040" class="indexterm"></a>
    <a id="idp245616" class="indexterm"></a>
    <a id="idp246192" class="indexterm"></a>
    <a id="idp246768" class="indexterm"></a>
    <a id="idp247344" class="indexterm"></a>
    <a id="idp247920" class="indexterm"></a>
    <a id="idp248496" class="indexterm"></a>

    Além disso, os métodos-modelo <code class="literal">setUpBeforeClass()</code> e
    <code class="literal">tearDownAfterClass()</code> são chamados antes 
    do primeiro teste da classe do caso de teste ser executado e após o último teste da 
    classe do caso de teste ser executado, respectivamente.
  </p><p>
    <a id="idp250592" class="indexterm"></a>

    O exemplo abaixo mostra todos os métodos-modelo que estão disponíveis em uma classe 
    de casos de teste.
  </p><div class="example"><a id="fixtures.examples.TemplateMethodsTest.php"></a><p class="title"><strong>Exemplo 4.2: Exemplo mostrando todos os métodos-modelo disponíveis</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class TemplateMethodsTest extends PHPUnit_Framework_TestCase
{
    public static function setUpBeforeClass()
    {
        fwrite(STDOUT, __METHOD__ . "\n");
    }

    protected function setUp()
    {
        fwrite(STDOUT, __METHOD__ . "\n");
    }

    protected function assertPreConditions()
    {
        fwrite(STDOUT, __METHOD__ . "\n");
    }

    public function testOne()
    {
        fwrite(STDOUT, __METHOD__ . "\n");
        $this-&gt;assertTrue(TRUE);
    }

    public function testTwo()
    {
        fwrite(STDOUT, __METHOD__ . "\n");
        $this-&gt;assertTrue(FALSE);
    }

    protected function assertPostConditions()
    {
        fwrite(STDOUT, __METHOD__ . "\n");
    }

    protected function tearDown()
    {
        fwrite(STDOUT, __METHOD__ . "\n");
    }

    public static function tearDownAfterClass()
    {
        fwrite(STDOUT, __METHOD__ . "\n");
    }

    protected function onNotSuccessfulTest(Exception $e)
    {
        fwrite(STDOUT, __METHOD__ . "\n");
        throw $e;
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit TemplateMethodsTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

TemplateMethodsTest::setUpBeforeClass
TemplateMethodsTest::setUp
TemplateMethodsTest::assertPreConditions
TemplateMethodsTest::testOne
TemplateMethodsTest::assertPostConditions
TemplateMethodsTest::tearDown
.TemplateMethodsTest::setUp
TemplateMethodsTest::assertPreConditions
TemplateMethodsTest::testTwo
TemplateMethodsTest::tearDown
TemplateMethodsTest::onNotSuccessfulTest
FTemplateMethodsTest::tearDownAfterClass


Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) TemplateMethodsTest::testTwo
Failed asserting that &lt;boolean:false&gt; is true.
/home/sb/TemplateMethodsTest.php:30

FAILURES!
Tests: 2, Assertions: 2, Failures: 1.</pre></div></div><br class="example-break"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fixtures.more-setup-than-teardown"></a>Mais setUp() que tearDown()</h2></div></div></div><p>
      <code class="literal">setUp()</code> e <code class="literal">tearDown()</code> são bastante 
      simétricos em teoria, mas não na prática. Na prática, você só precisa 
      implementar <code class="literal">tearDown()</code> se você tiver alocado 
      recursos externos como arquivos ou sockets no <code class="literal">setUp()</code>.
      Se seu <code class="literal">setUp()</code> apenas cria objetos planos do PHP, você 
      pode geralmente ignorar o <code class="literal">tearDown()</code>. Porém, se você 
      criar muitos objetos em seu <code class="literal">setUp()</code>, você pode querer 
      <code class="literal">unset()</code> as variáveis que apontam para aqueles objetos
      em seu <code class="literal">tearDown()</code> para que eles possam ser coletados como lixo. 
      A coleta de lixo dos objetos dos casos de teste não é previsível.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fixtures.variations"></a>Variações</h2></div></div></div><p>
      O que acontece quando você tem dois testes com definições (setups) ligeiramente diferentes? 
      Existem duas possibilidades:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Se o código <code class="literal">setUp()</code> diferir só um pouco, mova 
          o código que difere do código do <code class="literal">setUp()</code> para 
          o método de teste.
        </p></li><li class="listitem"><p>
          Se você tiver um <code class="literal">setUp()</code> realmente diferente, você precisará 
          de uma classe de caso de teste diferente. Nomeie a classe após a diferença 
          na configuração.
        </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fixtures.sharing-fixture"></a>Compartilhando Ambientes</h2></div></div></div><p>
      Existem algumas boas razões para compartilhar ambientes entre testes, mas na maioria 
        dos casos a necessidade de compartilhar um ambiente entre testes deriva de um problema 
        de design não resolvido.
    </p><p>
      Um bom exemplo de um ambiente que faz sentido compartilhar através de vários 
        testes é a conexão ao banco de dados: você loga no banco de dados uma vez e 
        reutiliza essa conexão em vez de criar uma nova conexão para cada 
        teste. Isso faz seus testes serem executados mais rápido.
    </p><p>
      <a id="idp308640" class="indexterm"></a>
      <a id="idp309216" class="indexterm"></a>

      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.sharing-fixture.examples.DatabaseTest.php" title="Exemplo 4.3: Compartilhando ambientes entre os testes de uma suíte de testes">Exemplo 4.3</a>
      usa os métodos-modelo <code class="literal">setUpBeforeClass()</code> e
      <code class="literal">tearDownAfterClass()</code> para conectar ao 
      banco de dados antes do primeiro teste da classe de casos de teste e para desconectar do 
      banco de dados após o último teste dos casos de teste, respectivamente.
    </p><div class="example"><a id="fixtures.sharing-fixture.examples.DatabaseTest.php"></a><p class="title"><strong>Exemplo 4.3: Compartilhando ambientes entre os testes de uma suíte de testes</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class DatabaseTest extends PHPUnit_Framework_TestCase
{
    protected static $dbh;

    public static function setUpBeforeClass()
    {
        self::$dbh = new PDO('sqlite::memory:');
    }

    public static function tearDownAfterClass()
    {
        self::$dbh = NULL;
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Não dá pra enfatizar o suficiente o quanto o compartilhamento de ambientes entre testes 
      reduz o custo dos testes. O problema de design subjacente é 
      que objetos não são de baixo acoplamento. Você vai conseguir 
      melhores resultados resolvendo o problema de design subjacente e então escrevendo testes 
      usando pontas (veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles" title="Capítulo 9. Dublês de Testes">Capítulo 9</a>), do que criando 
      dependências entre os testes em tempo de execução e ignorando a oportunidade 
      de melhorar seu design.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="fixtures.global-state"></a>Estado Global</h2></div></div></div><p>
      <a class="ulink" href="http://googletesting.blogspot.com/2008/05/tott-using-dependancy-injection-to.html" target="_top">É difícil testar um código que usa singletons (instâncias únicas de objetos).</a>
      Isso também vale para os códigos que usam variáveis globais. Tipicamente, o código 
      que você quer testar é fortemente acoplado com uma variável global e você não pode 
      controlar sua criação. Um problema adicional é o fato de que uma alteração em uma
      variável global para um teste pode quebrar um outro teste.
    </p><p>
      Em PHP, variáveis globais trabalham desta forma:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Uma variável global <code class="literal">$foo = 'bar';</code> é guardada como <code class="literal">$GLOBALS['foo'] = 'bar';</code>.</p></li><li class="listitem"><p>A variável <code class="literal">$GLOBALS</code> é chamada de variável <span class="emphasis"><em>super-global</em></span>.</p></li><li class="listitem"><p>Variáveis super-globais são variáveis embutidas que estão sempre disponíveis em todos os escopos.</p></li><li class="listitem"><p>No escopo de uma função ou método, você pode acessar a variável global <code class="literal">$foo</code> tanto por acesso direto à <code class="literal">$GLOBALS['foo']</code> ou usando <code class="literal">global $foo;</code> para criar uma variável local com uma referência à variável global.</p></li></ul></div><p>
      Além das variáveis globais, atributos estáticos de classes também são parte do 
      estado global.
    </p><p>
      <a id="idp489728" class="indexterm"></a>
      <a id="idp490304" class="indexterm"></a>

      Por padrão, o PHPUnit executa seus testes de forma que mudanças às 
      variáveis globais ou super-globais (<code class="literal">$GLOBALS</code>,
      <code class="literal">$_ENV</code>, <code class="literal">$_POST</code>,
      <code class="literal">$_GET</code>, <code class="literal">$_COOKIE</code>,
      <code class="literal">$_SERVER</code>, <code class="literal">$_FILES</code>,
      <code class="literal">$_REQUEST</code>) não afetem outros testes. Opcionalmente, este 
      isolamento pode ser estendido a atributos estáticos de classes.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        A operações de cópia de segurança e restauração para variáveis globais e atributos 
        estáticos de classes usa <code class="literal">serialize()</code> e
        <code class="literal">unserialize()</code>.
      </p><p>
        Objetos de algumas classes (e.g., <code class="literal">PDO</code>) não podem ser 
        serializadas e a operação de cópia de segurança vai quebrar quando esse tipo de objeto 
        for guardado no vetor <code class="literal">$GLOBALS</code>, por exemplo.
      </p></div><p>
      <a id="idp498480" class="indexterm"></a>
      <a id="idp499184" class="indexterm"></a>

      A anotação <code class="literal">@backupGlobals</code> que é discutida na
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.backupGlobals" title="@backupGlobals">“@backupGlobals”</a> pode ser usada para 
      controlar as operações de cópia de segurança e restauração para variáveis globais. 
      Alternativamente, você pode fornecer uma lista-negra de variáveis globais que deverão 
      ser excluídas das operações de backup e restauração como esta:
      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    protected $backupGlobalsBlacklist = array('globalVariable');

    // ...
}</pre><p>
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        Definir a propriedade <code class="literal">$backupGlobalsBlacklist</code> dentro 
        do método <code class="literal">setUp()</code>, por exemplo, não tem efeito.
      </p></div><p>
      <a id="idp504048" class="indexterm"></a>
      <a id="idp504752" class="indexterm"></a>
      
      A anotação <code class="literal">@backupStaticAttributes</code> que é discutida na
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.backupStaticAttributes" title="@backupStaticAttributes">“@backupStaticAttributes”</a> 
      pode ser usado para fazer backup de todos os valores de propriedades estáticas em todas as classes declaradas 
      antes de cada teste e restaurá-los depois.
    </p><p>
      Ele processa todas as classes que são declaradas no momento que um teste começa, 
      não só a classe de teste. Ele só se aplica a propriedades da classe estática, 
      e não variáveis estáticas dentro de funções.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        A operação <code class="literal">@backupStaticAttributes</code> é executada 
        antes de um método de teste, mas somente se ele está habilitado. Se um valor estático foi 
        alterado por um teste executado anteriormente que não 
        tinha ativado <code class="literal">@backupStaticAttributes</code>, esse valor então será 
        feito o backup e restaurado - não o valor padrão originalmente declarado. 
        O PHP não registra o valor padrão originalmente declarado de nenhuma variável 
        estática.
      </p><p>
        O mesmo se aplica a propriedades estáticas de classes que foram 
        recém-carregadas/declaradas dentro de um teste. Elas não podem ser redefinidas para o seu valor 
        padrão originalmente declarado após o teste, uma vez que esse valor é desconhecido. 
        Qualquer que seja o valor definido irá vazar para testes subsequentes.
      </p><p>
        Para testes de unidade, recomenda-se redefinir explicitamente os valores das 
        propriedades estáticas em teste em seu código <code class="literal">setUp()</code> 
        ao invés (e, idealmente, também <code class="literal">tearDown()</code>, de modo a não 
        afetar os testes posteriormente executados).
      </p></div><p>
      Você pode fornecer uma lista-negra de atributos estáticos que serão excluídos
      das operações de cópia de segurança e restauração:

      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    protected $backupStaticAttributesBlacklist = array(
      'className' =&gt; array('attributeName')
    );

    // ...
}
</pre><p>
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        Definir a propriedade <code class="literal">$backupStaticAttributesBlacklist</code>
        dentro do método <code class="literal">setUp()</code> , por exemplo, não tem efeito.
      </p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="organizing-tests"></a>Capítulo 5. Organizando Testes</h1></div></div></div><p>
    <a id="idp539872" class="indexterm"></a>

    Um dos objetivos do PHPUnit é que os testes 
    devem ser combináveis: queremos ser capazes de executar qualquer quantidade ou combinação 
    de testes juntos, por exemplo todos os testes para um projeto inteiro, ou os 
    testes para todas as classes de um ambiente que é parte do projeto, ou apenas 
    os testes para uma só classe.
  </p><p>
    O PHPUnit suporta diferentes formas de organizar testes e combiná-los em uma 
    suíte de testes. Este capítulo mostra as abordagens mais comuns.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="organizing-tests.filesystem"></a>Compondo uma Suíte de Testes usando o Sistema de Arquivos</h2></div></div></div><p>
      Provavelmente o jeito mais fácil de compor uma suíte de testes é manter todos 
      os arquivos-fonte dos casos de teste em um diretório de testes. O PHPUnit pode descobrir 
      automaticamente e executar os testes atravessando recursivamente o diretório de testes.
    </p><p>
      Vamos dar uma olhada na suíte de testes da 
      biblioteca <a class="ulink" href="http://github.com/sebastianbergmann/money/" target="_top">sebastianbergmann/money</a>.
      Observando a estrutura de diretórios desse projeto, podemos ver que as 
      classes dos casos de teste no diretório <code class="filename">tests</code> espelha o 
      pacote e estrutura de classes do Sistema Sob Teste (SST – ou SUT: System Under Teste) no diretório
      <code class="filename">src</code>:
    </p><pre class="screen">src                                 tests
`-- Currency.php                    `-- CurrencyTest.php
`-- IntlFormatter.php               `-- IntlFormatterTest.php
`-- Money.php                       `-- MoneyTest.php
`-- autoload.php</pre><p>
      Para executar todos os testes para a biblioteca precisamos apenas apontar o 
      executor de testes em linha-de-comando do PHPUnit para o diretório de teste:
    </p><pre class="screen"><strong class="userinput"><code>phpunit --bootstrap src/autoload.php tests</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann.

.................................

Time: 636 ms, Memory: 3.50Mb

OK (33 tests, 52 assertions)</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        Se você apontar o executor de testes em linha-de-comando do PHPUnit para um diretório, 
        ele irá procurar por arquivos <code class="filename">*Test.php</code>.
      </p></div><p>
      Para executar apenas os testes declarados na classe de casos de teste <code class="literal">CurrencyTest</code>
      em <code class="filename">tests/CurrencyTest.php</code>, podemos usar o seguinte comando:
    </p><pre class="screen"><strong class="userinput"><code>phpunit --bootstrap src/autoload.php tests/CurrencyTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann.

........

Time: 280 ms, Memory: 2.75Mb

OK (8 tests, 8 assertions)</pre><p>
      Para um controle mais refinado sobre quais testes executar, podemos usar a opção 
      <code class="literal">--filter</code>:
    </p><pre class="screen"><strong class="userinput"><code>phpunit --bootstrap src/autoload.php --filter testObjectCanBeConstructedForValidConstructorArgument tests</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann.

..

Time: 167 ms, Memory: 3.00Mb

OK (2 test, 2 assertions)</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        Uma desvantagem dessa abordagem é que não temos controle sobre a ordem em 
        que os testes são executados. Isso pode causar problemas com relação às 
        dependências dos testes, veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.test-dependencies" title="Dependências de Testes">“Dependências de Testes”</a>.
        Na próxima seção você vai ver como pode tornar explícita a ordem de execução 
        de testes usando o arquivo de configuração XML.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="organizing-tests.xml-configuration"></a>Compondo uma Suíte de Testes Usando uma Configuração XML</h2></div></div></div><a id="idp225008" class="indexterm"></a><p>
      O arquivo de configuração XML do PHPUnit (<a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration" title="Apêndice C. O arquivo de configuração XML">Apêndice C</a>)
      também pode ser usado para compor uma suíte de testes.
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#organizing-tests.xml-configuration.examples.phpunit.xml" title="Exemplo 5.1: Compondo uma Suíte de Testes Usando uma Configuração XML">Exemplo 5.1</a>
      mostra um arquivo mínimo <code class="filename">phpunit.xml</code> que adicionará todas 
      as classes <code class="literal">*Test</code> que forem encontradas em 
      arquivos <code class="filename">*Test.php</code> quando o diretório <code class="filename">tests</code> 
      é atravessados recursivamente.
    </p><div class="example"><a id="organizing-tests.xml-configuration.examples.phpunit.xml"></a><p class="title"><strong>Exemplo 5.1: Compondo uma Suíte de Testes Usando uma Configuração XML</strong></p><div class="example-contents"><pre class="programlisting">&lt;phpunit bootstrap="src/autoload.php"&gt;
  &lt;testsuites&gt;
    &lt;testsuite name="money"&gt;
      &lt;directory&gt;tests&lt;/directory&gt;
    &lt;/testsuite&gt;
  &lt;/testsuites&gt;
&lt;/phpunit&gt;</pre></div></div><br class="example-break"><p>
      A ordem de execução dos testes pode ser explicitada:
    </p><p>
      Se <code class="filename">phpunit.xml</code> ou 
      <code class="filename">phpunit.xml.dist</code> (nesta ordem) existem no
      diretório de trabalho atual e <code class="literal">--configuration</code> 
      <span class="emphasis"><em>não</em></span> é usado, a configuração será automaticamente 
      lida desse arquivo.
    </p><p>
      A ordem em que os testes são executados pode ser explicitada:
    </p><div class="example"><a id="organizing-tests.xml-configuration.examples.phpunit.xml2"></a><p class="title"><strong>Exemplo 5.2: Compondo uma Suíte de Testes Usando uma Configuração XML</strong></p><div class="example-contents"><pre class="programlisting">&lt;phpunit bootstrap="src/autoload.php"&gt;
  &lt;testsuites&gt;
    &lt;testsuite name="money"&gt;
      &lt;file&gt;tests/IntlFormatterTest.php&lt;/file&gt;
      &lt;file&gt;tests/MoneyTest.php&lt;/file&gt;
      &lt;file&gt;tests/CurrencyTest.php&lt;/file&gt;
    &lt;/testsuite&gt;
  &lt;/testsuites&gt;
&lt;/phpunit&gt;</pre></div></div><br class="example-break"></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="risky-tests"></a>Capítulo 6. Testes arriscados</h1></div></div></div><p>
    PHPUnit pode realizar verificações adicionais documentadas abaixo enquanto executa 
    os testes.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="risky-tests.useless-tests"></a>Testes Inúteis</h2></div></div></div><p>
      PHPUnit pode ser estrito sobre testes que não testam nada. Esta verificação
      pode ser habilitada usando a opção <code class="literal">--report-useless-tests</code>
      na linha de comando ou pela definição
      <code class="literal">beStrictAboutTestsThatDoNotTestAnything="true"</code> no
      arquivo de configuração XML do PHPUnit.
    </p><p>
      Um teste que não realiza uma afirmação irá ser marcado como arriscado
      quando essa verificação está habilitada. Expectativas sobre objetos falsificados ou anotações
      tais como <code class="code">@expectedException</code> contam com uma afirmação.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="risky-tests.unintentionally-covered-code"></a>Cobertura de Código Involuntária</h2></div></div></div><p>
      PHPUnit pode ser estrito sobre cobertura de código involuntária. Esta verificação
      pode ser habilitada usando a opção <code class="literal">--strict-coverage</code>
      na linha de comando ou pela definição 
      <code class="literal">checkForUnintentionallyCoveredCode="true"</code> no
      arquivo de configuração XML do PHPUnit.
    </p><p>
      Um teste que é anotado com <code class="code">@covers</code> e executa código que 
      não está na lista utilizando uma anotação <code class="code">@covers</code> ou <code class="code">@uses</code>
      será marcado como arriscado quando essa verificação é habilitada.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="risky-tests.output-during-test-execution"></a>Saída Durante a Execução de Teste</h2></div></div></div><p>
      PHPUnit pode ser estrito sobre a saída durante os testes. Esta verificação pode ser habilitada 
      usando a opção <code class="literal">--disallow-test-output</code> na 
      linha de comando ou pela definição 
      <code class="literal">beStrictAboutOutputDuringTests="true"</code> no
      arquivo de configuração XML do PHPUnit.
    </p><p>
      Um teste que emite saída, por exemplo pela invocação de <code class="code">print</code> 
      tanto no código de teste ou no código testado, será marcado como arriscado quando esta
      verificação está habilitada.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="risky-tests.test-execution-timeout"></a>Tempo de Espera de Execução de Teste</h2></div></div></div><p>
      Um limite de tempo pode ser forçado para a execução de um teste se o
      pacote <code class="literal">PHP_Invoker</code> está instalado e a 
      extensão <code class="literal">pcntl</code> está disponível. A imposição deste 
      tempo de espera pode ser habilitado pelo uso da opção 
      <code class="literal">--enforce-time-limit</code> na linha de comando ou pela definição
      <code class="literal">beStrictAboutTestSize="true"</code> no
      arquivo de configuração XML do PHPUnit.
    </p><p>
      Um teste anotado com <code class="literal">@large</code> irá falhar se ele demorar 
      mais que 60 segundos para executar. Esse tempo de espera é configurável através 
      do atributo <code class="literal">timeoutForLargeTests</code> no arquivo
      de configuração XML.
    </p><p>
      Um teste anotado com <code class="literal">@medium</code> irá falhar se ele demorar 
      mais que 10 segundos para executar. Esse tempo de espera é configurável através 
      do atributo <code class="literal">timeoutForMediumTests</code> no arquivo
      de configuração XML.
    </p><p>
      Um teste que não é anotado com <code class="literal">@medium</code> ou
      <code class="literal">@large</code> será tratado como se fosse anotado com 
      <code class="literal">@small</code>. Um teste pequeno irá falhar se demorar mais que 
      1 segundo para executar. Esse tempo de espera é configurável através 
      do atributo <code class="literal">timeoutForSmallTests</code> no arquivo
      de configuração XML.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="risky-tests.global-state-manipulation"></a>Manipulação do Estado Global</h2></div></div></div><p>
      PHPUnit pode ser estrito sobre testes que manipulam o estado global. Esta verificação 
      pode ser habilitada usando a opção <code class="literal">--strict-global-state</code> na 
      linha de comando ou pela definição 
      <code class="literal">beStrictAboutOutputDuringTests="true"</code> no
      arquivo de configuração XML do PHPUnit.
    </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="incomplete-and-skipped-tests"></a>Capítulo 7. Testes Incompletos e Pulados</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="incomplete-and-skipped-tests.incomplete-tests"></a>Testes Incompletos</h2></div></div></div><p>
      Quando você está trabalhando em uma nova classe de caso de teste, você pode querer começar 
      a escrever métodos de teste vazios, como: </p><pre class="programlisting">public function testSomething()
{
}</pre><p> para manter o controle sobre os testes que você já escreveu. O 
      problema com os métodos de teste vazios é que eles são interpretados como 
      bem-sucedidos pelo framework do PHPUnit. Esse erro de interpretação leva à 
      inutilização dos relatórios de testes -- você não pode ver se um teste foi 
      realmente bem-sucedido ou simplesmente ainda não foi implementado. Chamar 
      <code class="literal">$this-&gt;fail()</code> no teste não implementado 
      não ajuda em nada, já que o teste será interpretado como uma 
      falha. Isso seria tão errado quanto interpretar um teste não implementado 
      como bem-sucedido.
    </p><p>
      <a id="idp105104" class="indexterm"></a>
      <a id="idp105680" class="indexterm"></a>
      <a id="idp106272" class="indexterm"></a>

      Se imaginarmos que um teste bem-sucedido é uma luz verde e um teste mal-sucedido (falho) 
      é uma luz vermelha, precisaremos de uma luz amarela adicional para marcar um teste 
      como incompleto ou ainda não implementado. 
      O <code class="literal">PHPUnit_Framework_IncompleteTest</code> é uma interface 
      marcadora para marcar uma exceção que surge de um método de teste como 
      resultado do teste ser incompleto ou atualmente não implementado. 
      O <code class="literal">PHPUnit_Framework_IncompleteTestError</code> é a 
      implementação padrão dessa interface.
    </p><p>
      O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.incomplete-tests.examples.SampleTest.php" title="Exemplo 7.1: Marcando um teste como incompleto">Exemplo 7.1</a>
      mostra uma classe de caso de teste, <code class="literal">SampleTest</code>, que contém um método 
      de teste, <code class="literal">testSomething()</code>. Chamando o método de conveniência 
      <code class="literal">markTestIncomplete()</code> (que automaticamente 
      traz uma exceção <code class="literal">PHPUnit_Framework_IncompleteTestError</code>) 
      no método de teste, marcamos o teste como sendo incompleto.
    </p><div class="example"><a id="incomplete-and-skipped-tests.incomplete-tests.examples.SampleTest.php"></a><p class="title"><strong>Exemplo 7.1: Marcando um teste como incompleto</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class SampleTest extends PHPUnit_Framework_TestCase
{
    public function testSomething()
    {
        // Opcional: Teste alguma coisa aqui, se quiser
        $this-&gt;assertTrue(TRUE, 'This should already work.');

        // Pare aqui e marque este teste como incompleto.
        $this-&gt;markTestIncomplete(
          'This test has not been implemented yet.'
        );
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Um teste incompleto é denotado por um <code class="literal">I</code> na saída 
      do executor de testes em linha-de-comando do PHPUnit, como mostrado no exemplo 
      abaixo:
    </p><pre class="screen"><strong class="userinput"><code>phpunit --verbose SampleTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

I

Time: 0 seconds, Memory: 3.95Mb

There was 1 incomplete test:

1) SampleTest::testSomething
This test has not been implemented yet.

/home/sb/SampleTest.php:12
OK, but incomplete or skipped tests!
Tests: 1, Assertions: 1, Incomplete: 1.</pre><p>
      A <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.incomplete-tests.tables.api" title="Tabela 7.1. API para Testes Incompletos">Tabela 7.1</a>
      mostra a API para marcar testes como incompletos.
    </p><div class="table"><a id="incomplete-and-skipped-tests.incomplete-tests.tables.api"></a><p class="title"><strong>Tabela 7.1. API para Testes Incompletos</strong></p><div class="table-contents"><table class="table" summary="API para Testes Incompletos" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">Método</th><th align="left">Significado</th></tr></thead><tbody><tr><td align="left"><code class="literal">void markTestIncomplete()</code></td><td align="left">Marca o teste atual como incompleto.</td></tr><tr><td align="left"><code class="literal">void markTestIncomplete(string $message)</code></td><td align="left">Marca o teste atual como incompleto usando <code class="literal">$message</code> como uma mensagem explanatória.</td></tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="incomplete-and-skipped-tests.skipping-tests"></a>Pulando Testes</h2></div></div></div><p>
      Nem todos os testes podem ser executados em qualquer ambiente. Considere, por exemplo, 
      uma camada de abstração de banco de dados contendo vários drivers para os diversos
      sistemas de banco de dados que suporta. Os testes para o driver MySQL podem ser 
      executados apenas, é claro, se um servidor MySQL estiver disponível.
    </p><p>
      O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.skipping-tests.examples.DatabaseTest.php" title="Exemplo 7.2: Pulando um teste">Exemplo 7.2</a>
      mostra uma classe de caso de teste, <code class="literal">DatabaseTest</code>, que contém um método 
      de teste, <code class="literal">testConnection()</code>. No método-modelo <code class="literal">setUp()</code> 
      da classe de caso de teste, verificamos se a extensão MySQLi 
      está disponível e usamos o método <code class="literal">markTestSkipped()</code> 
      para pular o teste caso contrário.
    </p><div class="example"><a id="incomplete-and-skipped-tests.skipping-tests.examples.DatabaseTest.php"></a><p class="title"><strong>Exemplo 7.2: Pulando um teste</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class DatabaseTest extends PHPUnit_Framework_TestCase
{
    protected function setUp()
    {
        if (!extension_loaded('mysqli')) {
            $this-&gt;markTestSkipped(
              'The MySQLi extension is not available.'
            );
        }
    }

    public function testConnection()
    {
        // ...
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Um teste que tenha sido pulado é denotado por um <code class="literal">S</code> na 
      saída do executor de testes em linha-de-comando do PHPUnit, como mostrado 
      no seguinte exemplo:
    </p><pre class="screen"><strong class="userinput"><code>phpunit --verbose DatabaseTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

S

Time: 0 seconds, Memory: 3.95Mb

There was 1 skipped test:

1) DatabaseTest::testConnection
The MySQLi extension is not available.

/home/sb/DatabaseTest.php:9
OK, but incomplete or skipped tests!
Tests: 1, Assertions: 0, Skipped: 1.</pre><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.skipped-tests.tables.api" title="Tabela 7.2. API para Pular Testes">Tabela 7.2</a>
      mostra a API para pular testes.
    </p><div class="table"><a id="incomplete-and-skipped-tests.skipped-tests.tables.api"></a><p class="title"><strong>Tabela 7.2. API para Pular Testes</strong></p><div class="table-contents"><table class="table" summary="API para Pular Testes" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">Método</th><th align="left">Significado</th></tr></thead><tbody><tr><td align="left"><code class="literal">void markTestSkipped()</code></td><td align="left">Marca o teste atual como pulado.</td></tr><tr><td align="left"><code class="literal">void markTestSkipped(string $message)</code></td><td align="left">Marca o teste atual como pulado usando <code class="literal">$message</code> como uma mensagem explanatória.</td></tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="incomplete-and-skipped-tests.skipping-tests-using-requires"></a>Pulando Testes usando @requires</h2></div></div></div><p>
      Além do método acima também é possível usar a 
      anotação <code class="literal">@requires</code> para expressar pré-condições comuns para um caso de teste.
    </p><div class="table"><a id="incomplete-and-skipped-tests.requires.tables.api"></a><p class="title"><strong>Tabela 7.3. Possíveis usos para @requires</strong></p><div class="table-contents"><table class="table" summary="Possíveis usos para @requires" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Tipo</th><th align="left">Valores Possíveis</th><th align="left">Exemplos</th><th align="left">Outro exemplo</th></tr></thead><tbody><tr><td align="left"><code class="literal">PHP</code></td><td align="left">Qualquer identificador de versão do PHP</td><td align="left">@requires PHP 5.3.3</td><td align="left">@requires PHP 7.1-dev</td></tr><tr><td align="left"><code class="literal">PHPUnit</code></td><td align="left">Qualquer identificador de versão do PHPUnit</td><td align="left">@requires PHPUnit 3.6.3</td><td align="left">@requires PHPUnit 5.0</td></tr><tr><td align="left"><code class="literal">OS</code></td><td align="left">Uma expressão regular que combine <a class="ulink" href="http://php.net/manual/en/reserved.constants.php#constant.php-os" target="_top">PHP_OS</a></td><td align="left">@requires OS Linux</td><td align="left">@requires OS WIN32|WINNT</td></tr><tr><td align="left"><code class="literal">função</code></td><td align="left">Qualquer parâmetro válido para <a class="ulink" href="http://php.net/function_exists" target="_top">function_exists</a></td><td align="left">@requires function imap_open</td><td align="left">@requires function ReflectionMethod::setAccessible</td></tr><tr><td align="left"><code class="literal">extensão</code></td><td align="left">Qualquer nome de extensão</td><td align="left">@requires extension mysqli</td><td align="left">@requires extension curl</td></tr></tbody></table></div></div><br class="table-break"><div class="example"><a id="incomplete-and-skipped-tests.skipping-tests.examples.DatabaseClassSkippingTest.php"></a><p class="title"><strong>Exemplo 7.3: Pulando casos de teste usando @requires</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
/**
 * @requires extension mysqli
 */
class DatabaseTest extends PHPUnit_Framework_TestCase
{
    /**
     * @requires PHP 5.3
     */
    public function testConnection()
    {
        // O Teste requer as extensões mysqli e PHP &gt;= 5.3
    }

    // ... Todos os outros testes requerem a extensão mysqli
}
?&gt;</pre></div></div><br class="example-break"><p>
      Se você está usando uma sintaxe que não compila com uma certa versão do PHP, procure dentro da configuração 
      xml por includes dependentes de versão na <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.testsuites" title="Suítes de Teste">“Suítes de Teste”</a>.
    </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="database"></a>Capítulo 8. Testando Bancos de Dados</h1></div></div></div><p>
    Muitos exemplos de testes unitários iniciantes e intermediários em qualquer linguagem de 
    programação sugerem que é perfeitamente fácil testar a lógica de sua aplicação 
    com testes simples. Para aplicações centradas em bancos de dados isso está longe 
    da realidade. Comece a usar WordPress, TYPO3 ou Symfony com Doctrine ou Propel, 
    por exemplo, e você vai experimentar facilmente problemas consideráveis com o 
    PHPUnit: apenas porque o banco de dados é fortemente acoplado com essas bibliotecas.
  </p><p>
    Você provavelmente conhece esse cenário dos seus trabalhos e projetos diários, 
    onde você quer colocar em prática suas habilidades (novas ou não) com PHPUnit 
    e acaba ficando preso por um dos seguintes problemas:
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
        O método que você quer testar executa uma operação JOIN muito grande e 
        usa os dados para calcular alguns resultados importantes.
      </p></li><li class="listitem"><p>
        Sua lógica de negócios faz uma mistura de declarações SELECT, INSERT, UPDATE 
        e DELETE.
      </p></li><li class="listitem"><p>
        Você precisa definir os dados de teste em (provavelmente muito) mais de duas tabelas 
        para conseguir dados iniciais razoáveis para os métodos que deseja testar.
      </p></li></ol></div><p>
    A extensão DbUnit simplifica consideravelmente a configuração de um banco de dados 
    para fins de teste e permite a você verificar os conteúdos de um banco de dados após 
    fazer uma série de operações.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="database.supported-vendors-for-database-testing"></a>Fornecedores Suportados para Testes de Banco de Dados</h2></div></div></div><p>
      DbUnit atualmente suporta MySQL, PostgreSQL, Oracle e SQLite. Através 
      das integrações <a class="ulink" href="http://framework.zend.com/" target="_top">Zend Framework</a> ou
      <a class="ulink" href="http://www.doctrine-project.org/" target="_top">Doctrine 2</a>
      ele tem acesso a outros sistemas como IBM DB2 ou 
      Microsoft SQL Server.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="database.difficulties-in-database-testing"></a>Dificuldades em Testes de Bancos de Dados</h2></div></div></div><p>
      Existe uma boa razão pela qual todos os exemplos de testes unitários não incluírem 
      interações com bancos de dados: esses tipos de testes são complexos tanto em 
      configuração quanto em manutenção. Enquanto testar contra seu banco de dados você 
      precisará ter cuidado com as seguintes variáveis:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Esquema e tabelas do banco de dados
        </p></li><li class="listitem"><p>
          Inserção das linhas exigidas para o teste nessas tabelas
        </p></li><li class="listitem"><p>
          Verificação do estado do banco de dados depois de executar os testes
        </p></li><li class="listitem"><p>
          Limpeza do banco de dados para cada novo teste
        </p></li></ul></div><p>
      Por causa de muitas APIs de bancos de dados como PDO, MySQLi ou OCI8 serem incômodos 
      de usar e verbosas para escrever, fazer esses passos manualmente é um completo 
      pesadelo.
    </p><p>
      O código de teste deve ser o mais curto e preciso possível por várias razões:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Você não quer modificar uma considerável quantidade de código de teste por 
          pequenas mudanças em seu código de produção.
        </p></li><li class="listitem"><p>
          Você quer ser capaz de ler e entender o código de teste facilmente, 
          mesmo meses depois de tê-lo escrito.
        </p></li></ul></div><p>
      Adicionalmente você tem que perceber que o banco de dados é essencialmente 
      uma variável global de entrada para seu código. Dois testes em sua suíte de testes 
      podem executar contra o mesmo banco de dados, possivelmente reutilizando dados 
      múltiplas vezes. Falhas em um teste podem facilmente afetar o resultado dos 
      testes seguintes, fazendo sua experiência com os testes muito difícil. O 
      passo de limpeza mencionado anteriormente é de maior importância 
      para resolver o problema do <span class="quote">“<span class="quote">banco de dados ser uma entrada global</span>”</span>.
    </p><p>
      DbUnit ajuda a simplificar todos esses problemas com testes de bancos de dados de uma
      forma elegante.
    </p><p>
      O PHPUnit só não pode ajudá-lo no fato de que testes de banco de dados 
      são muito lentos comparados aos testes que não usam bancos de dados. Dependendo 
      do tamanho das interações com seu banco de dados, seus testes 
      podem levar um tempo considerável para executar. Porém se você mantiver pequena 
      a quantidade de dados usados para cada teste e tentar testar o máximo possível 
      sem usar testes com bancos de dados, você facilmente conseguirá tempos abaixo de um minuto, 
      mesmo para grandes suítes de teste.
    </p><p>
      A suíte de testes do <a class="ulink" href="http://www.doctrine-project.org/" target="_top">projeto 
      Doctrine 2</a> por exemplo, atualmente tem uma suíte com 
      cerca de 1000 testes onde aproximadamente a metade deles tem acesso ao banco 
      de dados e ainda executa em 15 segundos contra um banco de dados MySQL em 
      um computador desktop comum.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="database.the-four-stages-of-a-database-test"></a>Os quatro estágios dos testes com banco de dados</h2></div></div></div><p>
      Em seu livro sobre Padrões de Teste xUnit, Gerard Meszaros lista os quatro 
      estágios de um teste unitário:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          Configurar o ambiente (fixture)
        </p></li><li class="listitem"><p>
          Exercitar o Sistema Sob Teste
        </p></li><li class="listitem"><p>
          Verificar o resultado
        </p></li><li class="listitem"><p>
          Desmontagem (Teardown)
        </p></li></ol></div><div class="blockquote"><blockquote class="blockquote"><p>
        <span class="strong"><strong>O que é um ambiente (fixture)?</strong></span>
      </p><p>
        Um ambiente (fixture) descreve o estado inicial em que sua aplicação e seu banco de dados 
        estão ao executar um teste.
      </p></blockquote></div><p>
      Testar o banco de dados exige que você utilize pelo menos o 
      setup (configuração) e teardown (desmontagem) para limpar e escrever em suas tabelas 
      os dados de ambiente exigidos. Porém a extensão do banco de dados tem uma boa razão para 
      reverter esses quatro estágios em um teste de banco de dados para assemelhar o seguinte 
      fluxo de trabalho que é executado para cada teste:
    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.clean-up-database"></a>1. Limpar o Banco de Dados</h3></div></div></div><p>
        Já que sempre existe um primeiro teste que é executado contra o banco de dados, 
        você não sabe exatamente se já existem dados nas tabelas. 
        O PHPUnit vai executar um TRUNCATE contra todas as tabelas que 
        você especificou para redefinir seus estados para vazio.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.set-up-fixture"></a>2. Configurar o ambiente</h3></div></div></div><p>
        O PHPUnit então vai iterar sobre todas as linhas do ambiente especificado e 
        inseri-las em suas respectivas tabelas.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.run-test-verify-outcome-and-teardown"></a>3–5. Executar Teste, Verificar resultado e Desmontar (Teardown)</h3></div></div></div><p>
        Depois de redefinir o banco de dados e carregá-lo com seu estado inicial, 
        o verdadeiro teste é executado pelo PHPUnit. Esta parte do código de teste 
        não exige conhecimento sobre a Extensão do Banco de Dados, então você pode 
        prosseguir e testar o que quiser com seu código.
      </p><p>
        Em seu teste use uma asserção especial chamada
        <code class="literal">assertDataSetsEqual()</code> para fins de verificação, 
        porém isso é totalmente opcional. Esta função será explicada 
        na seção <span class="quote">“<span class="quote">Asserções em Bancos de Dados</span>”</span>.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="database.configuration-of-a-phpunit-database-testcase"></a>Configuração de um Caso de Teste de Banco de Dados do PHPUnit</h2></div></div></div><p>
      Ao usar o PHPUnit seus casos de teste vão estender a 
      classe <code class="literal">PHPUnit_Framework_TestCase</code> da 
      seguinte forma:
    </p><pre class="programlisting">&lt;?php
class MyTest extends PHPUnit_Framework_TestCase
{
    public function testCalculate()
    {
        $this-&gt;assertEquals(2, 1 + 1);
    }
}
?&gt;</pre><p>
      Se você quer um código de teste que trabalha com a Extensão para Banco de Dados a 
      configuração é um pouco mais complexa e você terá que estender um TestCase abstrato 
      diferente, exigindo que você implemente dois métodos abstratos
      <code class="literal">getConnection()</code> e
      <code class="literal">getDataSet()</code>:
    </p><pre class="programlisting">&lt;?php
class MyGuestbookTest extends PHPUnit_Extensions_Database_TestCase
{
    /**
     * @return PHPUnit_Extensions_Database_DB_IDatabaseConnection
     */
    public function getConnection()
    {
        $pdo = new PDO('sqlite::memory:');
        return $this-&gt;createDefaultDBConnection($pdo, ':memory:');
    }

    /**
     * @return PHPUnit_Extensions_Database_DataSet_IDataSet
     */
    public function getDataSet()
    {
        return $this-&gt;createFlatXMLDataSet(dirname(__FILE__).'/_files/guestbook-seed.xml');
    }
}
?&gt;</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.implementing-getconnection"></a>Implementando getConnection()</h3></div></div></div><p>
        Para permitir que a limpeza e o carregamento de funcionalidades do ambiente funcionem, 
        a Extensão do Banco de Dados do PHPUnit exige acesso a uma conexão 
        abstrata do banco de dados através dos fornecedores da biblioteca PDO. É 
        importante notar que sua aplicação não precisa ser 
        baseada em PDO para usar a Extensão para Banco de Dados do PHPUnit, pois a conexão é 
        meramente usada para limpeza e configuração de ambiente.
      </p><p>
        No exemplo anterior criamos uma conexão Sqlite na memória e 
        a passamos ao método <code class="literal">createDefaultDBConnection</code>
        que embrulha a instância do PDO e o segundo parâmetro (o 
        nome do banco de dados) em uma camada simples de abstração para conexões 
        do banco de dados do tipo
        <code class="literal">PHPUnit_Extensions_Database_DB_IDatabaseConnection</code>.
      </p><p>
        A seção <span class="quote">“<span class="quote">Usando a Conexão de Banco de Dados</span>”</span> explica 
        a API desta interface e como você pode usá-la da melhor forma possível.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.implementing-getdataset"></a>Implementando getDataSet()</h3></div></div></div><p>
        O método <code class="literal">getDataSet()</code> define como deve ser o estado 
        inicial do banco de dados antes de cada teste ser 
        executado. O estado do banco de dados é abstraído através de 
        conceitos DataSet (Conjunto de Dados) e DataTable (Tabela de Dados), ambos sendo representados 
        pelas interfaces
        <code class="literal">PHPUnit_Extensions_Database_DataSet_IDataSet</code> e
        <code class="literal">PHPUnit_Extensions_Database_DataSet_IDataTable</code>.
        A próxima seção vai descrever em detalhes como esses conceitos trabalham 
        e quais os benefícios de usá-los nos testes com bancos de dados.
      </p><p>
        Para a implementação precisaremos apenas saber que o 
        método <code class="literal">getDataSet()</code> é chamado uma vez durante o
        <code class="literal">setUp()</code> para recuperar o conjunto de dados do ambiente e 
        inseri-lo no banco de dados. No exemplo estamos usando um método de fábrica 
        <code class="literal">createFlatXMLDataSet($filename)</code> que 
        representa um conjunto de dados através de uma representação XML.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.what-about-the-database-schema-ddl"></a>E quanto ao Esquema do Banco de Dados (DDL)?</h3></div></div></div><p>
        O PHPUnit assume que o esquema do banco de dados com todas as suas tabelas, 
        gatilhos, sequências e visualizações é criado antes que um teste seja executado. Isso 
        quer dizer que você como desenvolvedor deve se certificar que o banco de dados está 
        corretamente configurado antes de executar a suíte.
      </p><p>
        Existem vários meios para realizar esta pré-condição para 
        testar bancos de dados.
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            Se você está usando um banco de dados persistente (não Sqlite Memory) você pode 
            facilmente configurar o banco de dados uma vez com ferramentas como phpMyAdmin para 
            MySQL e reutilizar o banco de dados para cada execução de teste.
          </p></li><li class="listitem"><p>
            Se você estiver usando bibliotecas como
            <a class="ulink" href="http://www.doctrine-project.org/" target="_top">Doctrine 2</a> ou
            <a class="ulink" href="http://www.propelorm.org/" target="_top">Propel</a>
            você pode usar suas APIs para criar o esquema de banco de dados que 
            precisa antes de rodar os testes. Você pode utilizar as capacidades de 
            <a class="ulink" href="https://phpunit.de/manual/current/pt_br/textui.html" target="_top">Configuração e Bootstrap do PHPUnit</a>
            para executar esse código sempre que seus testes forem executados.
          </p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.tip-use-your-own-abstract-database-testcase"></a>Dica: Use seu próprio Caso Abstrato de Teste de Banco de Dados</h3></div></div></div><p>
        Do exemplo prévio de implementação você pode facilmente perceber que 
        o método <code class="literal">getConnection()</code> é bastante estático e 
        pode ser reutilizado em diferentes casos de teste de banco de dados. Adicionalmente para 
        manter uma boa performance dos seus testes e pouca carga sobre seu banco de dados, você 
        pode refatorar o código um pouco para obter um caso de teste abstrato genérico 
        para sua aplicação, o que ainda permite a você especificar um 
        ambiente de dados diferente para cada caso de teste:
      </p><pre class="programlisting">&lt;?php
abstract class MyApp_Tests_DatabaseTestCase extends PHPUnit_Extensions_Database_TestCase
{
    // only instantiate pdo once for test clean-up/fixture load
    static private $pdo = null;

    // only instantiate PHPUnit_Extensions_Database_DB_IDatabaseConnection once per test
    private $conn = null;

    final public function getConnection()
    {
        if ($this-&gt;conn === null) {
            if (self::$pdo == null) {
                self::$pdo = new PDO('sqlite::memory:');
            }
            $this-&gt;conn = $this-&gt;createDefaultDBConnection(self::$pdo, ':memory:');
        }

        return $this-&gt;conn;
    }
}
?&gt;</pre><p>
        Entretanto, isso tem a conexão ao banco de dados codificada na conexão do PDO. 
        O PHPUnit tem outra incrível característica que pode fazer este 
        caso de teste ainda mais genérico. Se você usar a
        <a class="ulink" href="https://phpunit.de/manual/current/pt_br/appendixes.configuration.html#appendixes.configuration.php-ini-constants-variables" target="_top">Configuração XML</a>
        você pode tornar a conexão com o banco de dados configurável por execução de teste. 
        Primeiro vamos criar um arquivo <span class="quote">“<span class="quote">phpunit.xml</span>”</span> em nosso diretório/de/teste 
        da aplicação, de forma semelhante a isto:
      </p><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;phpunit&gt;
    &lt;php&gt;
        &lt;var name="DB_DSN" value="mysql:dbname=myguestbook;host=localhost" /&gt;
        &lt;var name="DB_USER" value="user" /&gt;
        &lt;var name="DB_PASSWD" value="passwd" /&gt;
        &lt;var name="DB_DBNAME" value="myguestbook" /&gt;
    &lt;/php&gt;
&lt;/phpunit&gt;
</pre><p>
        Agora podemos modificar seu caso de teste para parecer com isso:
      </p><pre class="programlisting">&lt;?php
abstract class Generic_Tests_DatabaseTestCase extends PHPUnit_Extensions_Database_TestCase
{
    // only instantiate pdo once for test clean-up/fixture load
    static private $pdo = null;

    // only instantiate PHPUnit_Extensions_Database_DB_IDatabaseConnection once per test
    private $conn = null;

    final public function getConnection()
    {
        if ($this-&gt;conn === null) {
            if (self::$pdo == null) {
                self::$pdo = new PDO( $GLOBALS['DB_DSN'], $GLOBALS['DB_USER'], $GLOBALS['DB_PASSWD'] );
            }
            $this-&gt;conn = $this-&gt;createDefaultDBConnection(self::$pdo, $GLOBALS['DB_DBNAME']);
        }

        return $this-&gt;conn;
    }
}
?&gt;</pre><p>
        Agora podemos executar a suíte de testes de banco de dados usando diferentes 
        configurações através da interface de linha-de-comando:
      </p><pre class="screen"><strong class="userinput"><code>user@desktop&gt; phpunit --configuration developer-a.xml MyTests/</code></strong>
<strong class="userinput"><code>user@desktop&gt; phpunit --configuration developer-b.xml MyTests/</code></strong></pre><p>
        A possibilidade de executar facilmente os testes de banco de dados contra diferentes 
        alvos é muito importante se você está desenvolvendo na 
        máquina de desenvolvimento. Se vários desenvolvedores executarem os testes de banco 
        de dados contra a mesma conexão de banco de dados você experimentará facilmente 
        falhas de testes devido à condição de execução.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="database.understanding-datasets-and-datatables"></a>Entendendo Conjunto de Dados e Tabelas de Dados</h2></div></div></div><p>
      Um conceito central da Extensão para Banco de Dados do PHPUnit são 
      os Conjuntos de Dados e as Tabelas de Dados. Você deveria tentar entender este conceito simples para 
      dominar os testes de banco de dados com PHPUnit. Conjunto de Dados e Tabela de Dados formam 
      uma camada abstrata em torno das tabelas, linhas e 
      colunas do seu banco de dados. Uma simples API esconde os conteúdos subjacentes do banco de dados em uma 
      estrutura de objetos, que também podem ser implementada por outra 
      fonte que não seja um banco de dados.
    </p><p>
      Essa abstração é necessária para comparar os conteúdos reais de um 
      banco de dados contra os conteúdos esperados. Expectativas podem ser 
      representadas como arquivos XML, YAML, CSV ou vetores PHP, por exemplo. As 
      interfaces DataSet (Conjunto de Dados) e DataTable (Tabela de Dados)  permitem a comparação dessas 
      fontes conceitualmente diferentes, emulando o armazenamento de banco de dados 
      relacional em uma abordagem semanticamente similar.
    </p><p>
      Um fluxo de trabalho para asserções em banco de dados em seus testes então consiste de 
      três passos simples:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Especificar uma ou mais tabelas em seu banco de dados por nome de tabela (conjunto de dados 
          real)
        </p></li><li class="listitem"><p>
          Especificar o Conjunto de Dados esperado no seu formato preferido (YAML, XML, 
          ...)
        </p></li><li class="listitem"><p>
          Asseverar que ambas as representações de conjunto de dados se equivalem.
        </p></li></ul></div><p>
      Asserções não são o único caso de uso para o Conjunto de Dados e a Tabela de Dados 
      na Extensão para Banco de Dados do PHPUnit. Como mostrado na seção anterior, 
      eles também descrevem os conteúdos iniciais de um banco de dados. Você é 
      forçado a definir um conjunto de dados de ambiente pelo Caso de Teste de Banco de Dados, que 
      então é usado para:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Deletar todas as linhas das tabelas especificadas no conjunto de dados.
        </p></li><li class="listitem"><p>
          Escrever todas as linhas nas tabelas de dados do banco de dados.
        </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.available-implementations"></a>Implementações disponíveis</h3></div></div></div><p>
        Existem três tipos diferentes de conjuntos de dados/tabelas de dados:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Conjuntos de Dados e Tabelas de Dados baseados em arquivo
          </p></li><li class="listitem"><p>
            Conjuntos de Dados e Tabelas de Dados baseados em query
          </p></li><li class="listitem"><p>
            Filtro e Composição de Conjunto de Dados e Tabelas de Dados
          </p></li></ul></div><p>
        Os Conjuntos de Dados e Tabelas de Dados baseadas em arquivo são geralmente usados para o 
        ambiente inicial e para descrever os estados esperados do banco de dados.
      </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.flat-xml-dataset"></a>Conjunto de Dados de XML Plano</h4></div></div></div><p>
          O Conjunto de Dados mais comum é chamado XML Plano. É um formato xml simples 
          onde uma tag dentro do nó-raiz
          <code class="literal">&lt;dataset&gt;</code> representa exatamente uma linha no 
          banco de dados. Os nomes das tags equivalem à tabela onde inserir a linha e 
          um atributo representa a coluna. Um exemplo para uma simples aplicação de 
          livro de visitas poderia se parecer com isto:
        </p><pre class="screen">&lt;?xml version="1.0" ?&gt;
&lt;dataset&gt;
    &lt;guestbook id="1" content="Hello buddy!" user="joe" created="2010-04-24 17:15:23" /&gt;
    &lt;guestbook id="2" content="I like it!" user="nancy" created="2010-04-26 12:14:20" /&gt;
&lt;/dataset&gt;
</pre><p>
          Isso é, obviamente, fácil de escrever. Aqui
          <code class="literal">&lt;guestbook&gt;</code> é o nome da tabela onde duas linhas 
          são inseridas dentro de cada com quatro colunas <span class="quote">“<span class="quote">id</span>”</span>,
          <span class="quote">“<span class="quote">content</span>”</span>, <span class="quote">“<span class="quote">user</span>”</span> e
          <span class="quote">“<span class="quote">created</span>”</span> com seus respectivos valores.
        </p><p>
          Porém essa simplicidade tem um preço.
        </p><p>
          O exemplo anterior não deixa tão óbvio como você pode fazer para especificar uma 
          tabela vazia. Você pode inserir uma tag sem atributos com o nome da 
          tabela vazia. Um arquivo xml plano para uma tabela vazia do livro de visitas 
          ficaria parecido com isso:
        </p><pre class="screen">&lt;?xml version="1.0" ?&gt;
&lt;dataset&gt;
    &lt;guestbook /&gt;
&lt;/dataset&gt;
</pre><p>
          A manipulação de valores NULL com o xml plano é tedioso. Um 
          valor NULL é diferente de uma string com valor vazio em quase todos 
          os bancos de dados (Oracle é uma exceção), algo difícil 
          de descrever no formato xml plano. Você pode representar um valor NULL 
          omitindo o atributo da especificação da linha. Se nosso 
          livro de visitas vai permitir entradas anônimas representadas por um valor NULL 
          na coluna user, um estado hipotético para a tabela do livro de visitas 
          seria parecido com:
        </p><pre class="screen">&lt;?xml version="1.0" ?&gt;
&lt;dataset&gt;
    &lt;guestbook id="1" content="Hello buddy!" user="joe" created="2010-04-24 17:15:23" /&gt;
    &lt;guestbook id="2" content="I like it!" created="2010-04-26 12:14:20" /&gt;
&lt;/dataset&gt;
</pre><p>
          Nesse caso a segunda entrada é postada anonimamente. Porém isso 
          acarreta um problema sério no reconhecimento de colunas. Durante as asserções de igualdade 
          do conjunto de dados, cada conjunto de dados tem que especificar quais colunas uma 
          tabela possui. Se um atributo for NULL para todas as linhas de uma 
          tabela de dados, como a Extensão para Banco de Dados vai saber que a coluna 
          deve ser parte da tabela?
        </p><p>
          O conjunto de dados em xml plano faz uma presunção crucial agora, definindo que 
          os atributos na primeira linha definida de uma tabela define as 
          colunas dessa tabela. No exemplo anterior isso significaria que
          <span class="quote">“<span class="quote">id</span>”</span>, <span class="quote">“<span class="quote">content</span>”</span>, <span class="quote">“<span class="quote">user</span>”</span> e
          <span class="quote">“<span class="quote">created</span>”</span> são colunas da tabela guestbook. Para a 
          segunda linha, onde <span class="quote">“<span class="quote">user</span>”</span> não está definido, um NULL seria 
          inserido no banco de dados.
        </p><p>
          Quando a primeira entrada do guestbook for apagada do conjunto de dados, apenas
          <span class="quote">“<span class="quote">id</span>”</span>, <span class="quote">“<span class="quote">content</span>”</span> e
          <span class="quote">“<span class="quote">created</span>”</span> seriam colunas da tabela guestbook, 
          já que <span class="quote">“<span class="quote">user</span>”</span> não é especificado.
        </p><p>
          Para usar o Conjunto de Dados em XML Plano efetivamente, quando valores NULL forem 
          relevantes, a primeira linha de cada tabela não deve conter qualquer valor NULL 
          e apenas as linhas seguintes poderão omitir atributos. Isso 
          pode parecer estranho, já que a ordem das linhas é um fator relevante 
          para as asserções com bancos de dados.
        </p><p>
          Em troca, se você especificar apenas um subconjunto das colunas da tabela no 
          Conjunto de Dados do XML Plano, todos os valores omitidos serão definidos para seus valores 
          padrão. Isso vai induzir a erros se uma das colunas omitidas estiver 
          definida como <span class="quote">“<span class="quote">NOT NULL DEFAULT NULL</span>”</span>.
        </p><p>
          Para concluir eu posso dizer que os conjuntos de dados XML Plano só devem ser usadas se você 
          não precisar de valores NULL.
        </p><p>
          Você pode criar uma instância de conjunto de dados xml plano de dentro de seu 
          Caso de Teste de Banco de Dados chamando o método
          <code class="literal">createFlatXmlDataSet($filename)</code>:
        </p><pre class="programlisting">&lt;?php
class MyTestCase extends PHPUnit_Extensions_Database_TestCase
{
    public function getDataSet()
    {
        return $this-&gt;createFlatXmlDataSet('myFlatXmlFixture.xml');
    }
}
?&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.xml-dataset"></a>Conjunto de Dados XML</h4></div></div></div><p>
          Existe um outro Conjunto de Dados em XML mais estruturado, que é um pouco mais 
          verboso para escrever mas evita os problemas do NULL nos conjuntos de dados em 
          XML Plano. Dentro do nó-raiz <code class="literal">&lt;dataset&gt;</code> você 
          pode especificar as tags <code class="literal">&lt;table&gt;</code>,
          <code class="literal">&lt;column&gt;</code>, <code class="literal">&lt;row&gt;</code>,
          <code class="literal">&lt;value&gt;</code> e
          <code class="literal">&lt;null /&gt;</code>. Um Conjunto de Dados equivalente ao 
          definido anteriormente no Guestbook em XML Plano seria como:
        </p><pre class="screen">&lt;?xml version="1.0" ?&gt;
&lt;dataset&gt;
    &lt;table name="guestbook"&gt;
        &lt;column&gt;id&lt;/column&gt;
        &lt;column&gt;content&lt;/column&gt;
        &lt;column&gt;user&lt;/column&gt;
        &lt;column&gt;created&lt;/column&gt;
        &lt;row&gt;
            &lt;value&gt;1&lt;/value&gt;
            &lt;value&gt;Hello buddy!&lt;/value&gt;
            &lt;value&gt;joe&lt;/value&gt;
            &lt;value&gt;2010-04-24 17:15:23&lt;/value&gt;
        &lt;/row&gt;
        &lt;row&gt;
            &lt;value&gt;2&lt;/value&gt;
            &lt;value&gt;I like it!&lt;/value&gt;
            &lt;null /&gt;
            &lt;value&gt;2010-04-26 12:14:20&lt;/value&gt;
        &lt;/row&gt;
    &lt;/table&gt;
&lt;/dataset&gt;
</pre><p>
          Qualquer <code class="literal">&lt;table&gt;</code> definida tem um nome e requer 
          uma definição de todas as colunas com seus nomes. Pode conter zero 
          ou qualquer número positivo de elementos <code class="literal">&lt;row&gt;</code> 
          aninhados. Não definir nenhum elemento <code class="literal">&lt;row&gt;</code> significa 
          que a tabela está vazia. As tags <code class="literal">&lt;value&gt;</code> e
          <code class="literal">&lt;null /&gt;</code> têm que ser especificadas na 
          ordem dos elementos fornecidos previamente em 
          <code class="literal">&lt;column&gt;</code>. A tag <code class="literal">&lt;null /&gt;</code> obviamente significa 
          que o valor é NULL.
        </p><p>
          Você pode criar uma instância de conjunto de dados xml de dentro de seu 
          Caso de Teste de Banco de Dados chamando o método 
          <code class="literal">createXmlDataSet($filename)</code>:
        </p><pre class="programlisting">&lt;?php
class MyTestCase extends PHPUnit_Extensions_Database_TestCase
{
    public function getDataSet()
    {
        return $this-&gt;createXMLDataSet('myXmlFixture.xml');
    }
}
?&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.mysql-xml-dataset"></a>Conjunto de Dados XML MySQL</h4></div></div></div><p>
          Este novo formato XML é específico para o
          <a class="ulink" href="http://www.mysql.com/" target="_top">servidor de banco de dados MySQL</a>.
          O suporte para ele foi adicionado no PHPUnit 3.5. Arquivos nesse formato podem 
          ser gerados usando o utilitário 
          <a class="ulink" href="http://dev.mysql.com/doc/refman/5.0/en/mysqldump.html" target="_top"><code class="literal">mysqldump</code></a>. 
          Diferente dos conjuntos de dados CSV, que o <code class="literal">mysqldump</code>
          também suporta, um único arquivo neste formato XML pode conter dados 
          para múltiplas tabelas. Você pode criar um arquivo nesse formato 
          invocando o <code class="literal">mysqldump</code> desta forma:
        </p><pre class="screen"><strong class="userinput"><code>mysqldump --xml -t -u [username] --password=[password] [database] &gt; /path/to/file.xml</code></strong></pre><p>
          Esse arquivo pode ser usado em seu Caso de Teste de Banco de Dados chamando o método
          <code class="literal">createMySQLXMLDataSet($filename)</code>:
        </p><pre class="programlisting">&lt;?php
class MyTestCase extends PHPUnit_Extensions_Database_TestCase
{
    public function getDataSet()
    {
        return $this-&gt;createMySQLXMLDataSet('/path/to/file.xml');
    }
}
?&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.yaml-dataset"></a>Conjunto de Dados YAML</h4></div></div></div><p>
          Alternativamente, você pode usar o Conjunto de dados YAML para o exemplo guestbook:
        </p><pre class="screen">guestbook:
  -
    id: 1
    content: "Hello buddy!"
    user: "joe"
    created: 2010-04-24 17:15:23
  -
    id: 2
    content: "I like it!"
    user:
    created: 2010-04-26 12:14:20
</pre><p>
          Isso é simples, conveniente E resolve o problema do NULL que o 
          Conjunto de Dados similar do XML Plano tem. Um NULL em um YAML é apenas o nome 
          da coluna sem nenhum valor especificado. Uma string vazia é especificada como
          <code class="literal">column1: ""</code>.
        </p><p>
          O Conjunto de Dados YAML atualmente não possui método fábrica no Caso de Teste 
          de Banco de Dados, então você tem que instanciar manualmente:
        </p><pre class="programlisting">&lt;?php
class YamlGuestbookTest extends PHPUnit_Extensions_Database_TestCase
{
    protected function getDataSet()
    {
        return new PHPUnit_Extensions_Database_DataSet_YamlDataSet(
            dirname(__FILE__)."/_files/guestbook.yml"
        );
    }
}
?&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.csv-dataset"></a>Conjunto de Dados CSV</h4></div></div></div><p>
          Outro Conjunto de Dados baseado em arquivo, com arquivos CSV. Cada tabela do 
          conjunto de dados é representada como um único arquivo CSV. Para nosso exemplo 
          do guestbook, vamos definir um arquivo guestbook-table.csv:
        </p><pre class="screen">id,content,user,created
1,"Hello buddy!","joe","2010-04-24 17:15:23"
2,"I like it!","nancy","2010-04-26 12:14:20"
</pre><p>
          Apesar disso ser muito conveniente para edição no Excel ou OpenOffice, 
          você não pode especificar valores NULL em um Conjunto de Dados CSV. Uma coluna 
          vazia levaria a um valor vazio padrão de banco de dados a ser inserido 
          na coluna.
        </p><p>
          Você pode criar um Conjunto de Dados CSV chamando:
        </p><pre class="programlisting">&lt;?php
class CsvGuestbookTest extends PHPUnit_Extensions_Database_TestCase
{
    protected function getDataSet()
    {
        $dataSet = new PHPUnit_Extensions_Database_DataSet_CsvDataSet();
        $dataSet-&gt;addTable('guestbook', dirname(__FILE__)."/_files/guestbook.csv");
        return $dataSet;
    }
}
?&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.array-dataset"></a>Conjunto de Dados em Vetor</h4></div></div></div><p>
          Desde a versão 1.3.2 da Extensão de Banco de dados do PHPUnit há um array 
          baseado em Conjunto de dados. Nosso exemplo do guestbook 
          deveria ficar parecido com:
        </p><pre class="programlisting">&lt;?php
class ArrayGuestbookTest extends PHPUnit_Extensions_Database_TestCase
{
    protected function getDataSet()
    {
        return $this-&gt;createArrayDataSet(array(
            'guestbook' =&gt; array(
                array('id' =&gt; 1, 'content' =&gt; 'Hello buddy!', 'user' =&gt; 'joe', 'created' =&gt; '2010-04-24 17:15:23'),
                array('id' =&gt; 2, 'content' =&gt; 'I like it!',   'user' =&gt; null,  'created' =&gt; '2010-04-26 12:14:20'),
            ),
        ));
    }
}
?&gt;</pre><p>
          Um Conjunto de Dados do PHP tem algumas vantagens óbvias sobre todas os outros 
          conjuntos de dados baseados em arquivos:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              Vetores PHP podem, obviamente, trabalhar com valores <code class="literal">NULL</code>.
            </p></li><li class="listitem"><p>
              Você não precisa de arquivos adicionais para asserções e pode especificá-las diretamente 
              no Caso de Teste.
            </p></li></ul></div><p>
          Para este Conjunto de Dados, como nos Conjuntos de Dados em XML Plano, CSV e YAML, as chaves 
          da primeira linha especificada definem os nomes das colunas das tabelas, que no 
          caso anterior seriam <span class="quote">“<span class="quote">id</span>”</span>,
          <span class="quote">“<span class="quote">content</span>”</span>, <span class="quote">“<span class="quote">user</span>”</span> e
          <span class="quote">“<span class="quote">created</span>”</span>.
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.query-sql-dataset"></a>Conjunto de Dados Query (SQL)</h4></div></div></div><p>
          Para asserções de banco de dados você não precisa somente de conjuntos de dados baseados em arquivos, 
          mas também de conjuntos de dados baseados em Query/SQL que contenha os conteúdos 
          reais do banco de dados. É aí que entra o Query DataSet:
        </p><pre class="programlisting">&lt;?php
$ds = new PHPUnit_Extensions_Database_DataSet_QueryDataSet($this-&gt;getConnection());
$ds-&gt;addTable('guestbook');
?&gt;</pre><p>
          Adicionar uma tabela apenas por nome é um modo implícito de definir a 
          tabela de dados com a seguinte query:
        </p><pre class="programlisting">&lt;?php
$ds = new PHPUnit_Extensions_Database_DataSet_QueryDataSet($this-&gt;getConnection());
$ds-&gt;addTable('guestbook', 'SELECT * FROM guestbook');
?&gt;</pre><p>
          Você pode fazer uso disso especificando queries arbitrárias para suas 
          tabelas, por exemplo restringindo linhas, colunas, ou adicionando 
          cláusulas <code class="literal">ORDER BY</code>:
        </p><pre class="programlisting">&lt;?php
$ds = new PHPUnit_Extensions_Database_DataSet_QueryDataSet($this-&gt;getConnection());
$ds-&gt;addTable('guestbook', 'SELECT id, content FROM guestbook ORDER BY created DESC');
?&gt;</pre><p>
          A seção nas Asserções de Banco de Dados mostrará mais alguns detalhes sobre 
          como fazer uso do Conjunto de Dados Query.
        </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.database-db-dataset"></a>Conjunto de Dados de Banco de Dados (BD)</h4></div></div></div><p>
          Acessando a Conexão de Teste você pode criar automaticamente um 
          Conjunto de Dados que consiste de todas as tabelas com seus conteúdos no 
          banco de dados especificado como segundo parâmetro ao método 
          Fábrica de Conexões.
        </p><p>
          Você pode tanto criar um Conjunto de Dados para todo o banco de dados como mostrado 
          em  <code class="literal">testGuestbook()</code>, ou restringi-lo a um conjunto de 
          nomes específicos de tabelas com uma lista branca, como mostrado no 
          método <code class="literal">testFilteredGuestbook()</code>.
        </p><pre class="programlisting">&lt;?php
class MySqlGuestbookTest extends PHPUnit_Extensions_Database_TestCase
{
    /**
     * @return PHPUnit_Extensions_Database_DB_IDatabaseConnection
     */
    public function getConnection()
    {
        $database = 'my_database';
        $user = 'my_user';
        $password = 'my_password';
        $pdo = new PDO('mysql:...', $user, $password);
        return $this-&gt;createDefaultDBConnection($pdo, $database);
    }

    public function testGuestbook()
    {
        $dataSet = $this-&gt;getConnection()-&gt;createDataSet();
        // ...
    }

    public function testFilteredGuestbook()
    {
        $tableNames = array('guestbook');
        $dataSet = $this-&gt;getConnection()-&gt;createDataSet($tableNames);
        // ...
    }
}
?&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.replacement-dataset"></a>Conjunto de Dados de Reposição</h4></div></div></div><p>
          Eu tenho falado sobre problemas com NULL nos Conjunto de Dados XML Plano e 
          CSV, mas existe uma alternativa um pouco complicada para fazer ambos 
          funcionarem com NULLs.
        </p><p>
          O Conjunto de Dados de Reposição é um decorador para um Conjunto de Dados existente e 
          permite que você substitua valores em qualquer coluna do conjunto de dados por outro 
          valor de reposição. Para fazer nosso exemplo do guestbook funcionar com valores NULL 
          devemos especificar o arquivo como:
        </p><pre class="screen">&lt;?xml version="1.0" ?&gt;
&lt;dataset&gt;
    &lt;guestbook id="1" content="Hello buddy!" user="joe" created="2010-04-24 17:15:23" /&gt;
    &lt;guestbook id="2" content="I like it!" user="##NULL##" created="2010-04-26 12:14:20" /&gt;
&lt;/dataset&gt;
</pre><p>
          Então envolvemos o Conjunto de Dados em XML Plano dentro de um Conjunto de Dados de Reposição:
        </p><pre class="programlisting">&lt;?php
class ReplacementTest extends PHPUnit_Extensions_Database_TestCase
{
    public function getDataSet()
    {
        $ds = $this-&gt;createFlatXmlDataSet('myFlatXmlFixture.xml');
        $rds = new PHPUnit_Extensions_Database_DataSet_ReplacementDataSet($ds);
        $rds-&gt;addFullReplacement('##NULL##', null);
        return $rds;
    }
}
?&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.dataset-filter"></a>Filtro de Conjunto de Dados</h4></div></div></div><p>
          Se você tiver um arquivo grande de ambiente você pode usar o Filtro de Conjunto de Dados para 
          as listas branca e negra das tabelas e colunas que deveriam estar 
          contidas em um sub-conjunto de dados. Isso ajuda especialmente em combinação 
          com o DB DataSet para filtrar as colunas dos conjuntos de dados.
        </p><pre class="programlisting">&lt;?php
class DataSetFilterTest extends PHPUnit_Extensions_Database_TestCase
{
    public function testIncludeFilteredGuestbook()
    {
        $tableNames = array('guestbook');
        $dataSet = $this-&gt;getConnection()-&gt;createDataSet();

        $filterDataSet = new PHPUnit_Extensions_Database_DataSet_DataSetFilter($dataSet);
        $filterDataSet-&gt;addIncludeTables(array('guestbook'));
        $filterDataSet-&gt;setIncludeColumnsForTable('guestbook', array('id', 'content'));
        // ..
    }

    public function testExcludeFilteredGuestbook()
    {
        $tableNames = array('guestbook');
        $dataSet = $this-&gt;getConnection()-&gt;createDataSet();

        $filterDataSet = new PHPUnit_Extensions_Database_DataSet_DataSetFilter($dataSet);
        $filterDataSet-&gt;addExcludeTables(array('foo', 'bar', 'baz')); // only keep the guestbook table!
        $filterDataSet-&gt;setExcludeColumnsForTable('guestbook', array('user', 'created'));
        // ..
    }
}
?&gt;</pre><div class="blockquote"><blockquote class="blockquote"><p>
            <span class="strong"><strong>NOTA</strong></span> Você não pode usar ambos os 
            filtros de coluna excluir e incluir na mesma tabela, apenas em tabelas 
            diferentes. E mais: só é possível para a lista branca ou negra, 
            mas não para ambas.
          </p></blockquote></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="database.composite-dataset"></a>Conjunto de Dados Composto</h4></div></div></div><p>
          O Conjunto de Dados composto é muito útil para agregar vários 
          conjuntos de dados já existentes em um único Conjunto de Dados. Quando vários 
          conjuntos de dados contém as mesmas tabelas, as linhas são anexadas na 
          ordem especificada. Por exemplo se tivermos dois conjuntos de dados
          <span class="emphasis"><em>fixture1.xml</em></span>:
        </p><pre class="screen">&lt;?xml version="1.0" ?&gt;
&lt;dataset&gt;
    &lt;guestbook id="1" content="Hello buddy!" user="joe" created="2010-04-24 17:15:23" /&gt;
&lt;/dataset&gt;
</pre><p>
          e <span class="emphasis"><em>fixture2.xml</em></span>:
        </p><pre class="screen">&lt;?xml version="1.0" ?&gt;
&lt;dataset&gt;
    &lt;guestbook id="2" content="I like it!" user="##NULL##" created="2010-04-26 12:14:20" /&gt;
&lt;/dataset&gt;
</pre><p>
          Usando o Conjunto de Dados Composto podemos agregar os dois arquivos de ambiente:
        </p><pre class="programlisting">&lt;?php
class CompositeTest extends PHPUnit_Extensions_Database_TestCase
{
    public function getDataSet()
    {
        $ds1 = $this-&gt;createFlatXmlDataSet('fixture1.xml');
        $ds2 = $this-&gt;createFlatXmlDataSet('fixture2.xml');

        $compositeDs = new PHPUnit_Extensions_Database_DataSet_CompositeDataSet();
        $compositeDs-&gt;addDataSet($ds1);
        $compositeDs-&gt;addDataSet($ds2);

        return $compositeDs;
    }
}
?&gt;</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.beware-of-foreign-keys"></a>Cuidado com Chaves Estrangeiras</h3></div></div></div><p>
        Durante a Configuração do Ambiente a Extensão para Banco de Dados do PHPUnit insere as linhas 
        no banco de dados na ordem que são especificadas em seu ambiente. 
        Se seu esquema de banco de dados usa chaves estrangeiras isso significa que você tem que 
        especificar as tabelas em uma ordem que não faça as restrições das chaves estrangeiras 
        falharem.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.implementing-your-own-datasetsdatatables"></a>Implementando seus próprios Conjuntos de Dados/ Tabelas de Dados</h3></div></div></div><p>
        Para entender os interiores dos Conjuntos de Dados e Tabelas de Dados, vamos dar uma 
        olhada na interface de um Conjunto de Dados. Você pode pular esta parte se você 
        não planeja implementar seu próprio Conjunto de Dados ou Tabela de Dados.
      </p><pre class="programlisting">&lt;?php
interface PHPUnit_Extensions_Database_DataSet_IDataSet extends IteratorAggregate
{
    public function getTableNames();
    public function getTableMetaData($tableName);
    public function getTable($tableName);
    public function assertEquals(PHPUnit_Extensions_Database_DataSet_IDataSet $other);

    public function getReverseIterator();
}
?&gt;</pre><p>
        A interface pública é usada internamente pela asserção
        <code class="literal">assertDataSetsEqual()</code> no Caso de Teste de 
        Banco de Dados para verificar a qualidade do conjunto de dados. Da interface
        <code class="literal">IteratorAggregate</code> o IDataSet 
        herda o método <code class="literal">getIterator()</code> para iterar 
        sobre todas as tabelas do conjunto de dados. O iterador reverso permite o PHPUnit 
        truncar corretamente as tabelas em ordem reversa à que foi criada para satisfazer 
        as restrições de chaves estrangeiras.
      </p><p>
        Dependendo da implementação, diferentes abordagens são usadas para 
        adicionar instâncias de tabela a um Conjunto de Dados. Por exemplo, tabelas são adicionadas 
        internamente durante a construção a partir de um arquivo fonte em todos 
        os conjuntos de dados baseados em arquivo como <code class="literal">YamlDataSet</code>,
        <code class="literal">XmlDataSet</code> ou <code class="literal">FlatXmlDataSet</code>.
      </p><p>
        Uma tabela também é representada pela seguinte interface:
      </p><pre class="programlisting">&lt;?php
interface PHPUnit_Extensions_Database_DataSet_ITable
{
    public function getTableMetaData();
    public function getRowCount();
    public function getValue($row, $column);
    public function getRow($row);
    public function assertEquals(PHPUnit_Extensions_Database_DataSet_ITable $other);
}
?&gt;</pre><p>
        Com exceção do método <code class="literal">getTableMetaData()</code> isso é 
        bastante auto-explicativo. Os métodos usados são todos requeridos para 
        as diferentes asserções da Extensão para Banco de Dados que são 
        explicados no próximo capítulo. O método
        <code class="literal">getTableMetaData()</code> deve retornar uma 
        implementação da interface
        <code class="literal">PHPUnit_Extensions_Database_DataSet_ITableMetaData</code>
        que descreve a estrutura da tabela. Possui informações 
        sobre:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            O nome da tabela
          </p></li><li class="listitem"><p>
            Um vetor de nomes de coluna da tabela, ordenado por suas aparições 
            nos conjuntos de resultados.
          </p></li><li class="listitem"><p>
            Um vetor de colunas de chaves-primárias.
          </p></li></ul></div><p>
        Essa interface também tem uma asserção que verifica se duas instâncias 
        de Metadados de Tabela se equivalem, o que é usado pela asserção de igualdade 
        do conjunto de dados.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="database.the-connection-api"></a>A API de Conexão</h2></div></div></div><p>
      Existem três métodos interessantes na interface Connection 
      que devem ser retornados do método
      <code class="literal">getConnection()</code> no Caso de Teste de Banco de Dados:
    </p><pre class="programlisting">&lt;?php
interface PHPUnit_Extensions_Database_DB_IDatabaseConnection
{
    public function createDataSet(Array $tableNames = NULL);
    public function createQueryTable($resultName, $sql);
    public function getRowCount($tableName, $whereClause = NULL);

    // ...
}
?&gt;</pre><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          O método <code class="literal">createDataSet()</code> cria um Conjunto de Dados 
          de Banco de Dados (BD) como descrito na seção de implementações de Conjunto de Dados.
        </p><pre class="programlisting">&lt;?php
class ConnectionTest extends PHPUnit_Extensions_Database_TestCase
{
    public function testCreateDataSet()
    {
        $tableNames = array('guestbook');
        $dataSet = $this-&gt;getConnection()-&gt;createDataSet();
    }
}
?&gt;</pre></li><li class="listitem"><p>
          O método <code class="literal">createQueryTable()</code> pode ser usado para 
          criar instâncias de uma QueryTable, dado um nome de resultado e uma query 
          SQL. Este é um método conveniente quando se fala sobre asserções de resultado/tabela
          como será mostrado na próxima seção de API de Asserções 
          de Banco de Dados.
        </p><pre class="programlisting">&lt;?php
class ConnectionTest extends PHPUnit_Extensions_Database_TestCase
{
    public function testCreateQueryTable()
    {
        $tableNames = array('guestbook');
        $queryTable = $this-&gt;getConnection()-&gt;createQueryTable('guestbook', 'SELECT * FROM guestbook');
    }
}
?&gt;</pre></li><li class="listitem"><p>
          O método <code class="literal">getRowCount()</code> é uma forma conveniente de 
          acessar o número de linhas em uma tabela, opcionalmente filtradas por uma 
          cláusula where adicional. Isso pode ser usado com uma simples asserção 
          de igualdade:
        </p><pre class="programlisting">&lt;?php
class ConnectionTest extends PHPUnit_Extensions_Database_TestCase
{
    public function testGetRowCount()
    {
        $this-&gt;assertEquals(2, $this-&gt;getConnection()-&gt;getRowCount('guestbook'));
    }
}
?&gt;</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="database.database-assertions-api"></a>API de Asserções de Banco de Dados</h2></div></div></div><p>
      Para uma ferramenta de testes, a Extensão para Banco de Dados certamente fornece algumas 
      asserções que você pode usar para verificar o estado atual do banco de dados, 
      tabelas e a contagem de linhas de tabelas. Esta seção 
      descreve essa funcionalidade em detalhes:
    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.asserting-the-row-count-of-a-table"></a>Asseverado a contagem de linhas de uma Tabela</h3></div></div></div><p>
        Às vezes ajuda verificar se uma tabela contém uma quantidade específica 
        de linhas. Você pode conseguir isso facilmente sem colar códigos adicionais 
        usando a API de Conexão. Suponha que queiramos verificar se após a 
        inserção de uma linha em nosso guestbook não apenas temos as duas entradas 
        iniciais que nos acompanharam em todos os exemplos 
        anteriores, mas uma terceira:
      </p><pre class="programlisting">&lt;?php
class GuestbookTest extends PHPUnit_Extensions_Database_TestCase
{
    public function testAddEntry()
    {
        $this-&gt;assertEquals(2, $this-&gt;getConnection()-&gt;getRowCount('guestbook'), "Pre-Condition");

        $guestbook = new Guestbook();
        $guestbook-&gt;addEntry("suzy", "Hello world!");

        $this-&gt;assertEquals(3, $this-&gt;getConnection()-&gt;getRowCount('guestbook'), "Inserting failed");
    }
}
?&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.asserting-the-state-of-a-table"></a>Asseverando o Estado de uma Tabela</h3></div></div></div><p>
       A asserção anterior ajuda, mas certamente queremos verificar os 
        conteúdos reais da tabela para verificar se todos os valores foram 
        escritos nas colunas corretas. Isso pode ser conseguido com uma 
        asserção de tabela.
      </p><p>
        Para isso vamos definir uma instância de Tabela Query que deriva seu 
        conteúdo de um nome de tabela e de uma query SQL e compara isso a um 
        Conjunto de Dados baseado em Arquivo/Vetor:
      </p><pre class="programlisting">&lt;?php
class GuestbookTest extends PHPUnit_Extensions_Database_TestCase
{
    public function testAddEntry()
    {
        $guestbook = new Guestbook();
        $guestbook-&gt;addEntry("suzy", "Hello world!");

        $queryTable = $this-&gt;getConnection()-&gt;createQueryTable(
            'guestbook', 'SELECT * FROM guestbook'
        );
        $expectedTable = $this-&gt;createFlatXmlDataSet("expectedBook.xml")
                              -&gt;getTable("guestbook");
        $this-&gt;assertTablesEqual($expectedTable, $queryTable);
    }
}
?&gt;</pre><p>
        Agora temos que escrever o arquivo XML Plano <span class="emphasis"><em>expectedBook.xml</em></span> 
        para esta asserção:
      </p><pre class="screen">&lt;?xml version="1.0" ?&gt;
&lt;dataset&gt;
    &lt;guestbook id="1" content="Hello buddy!" user="joe" created="2010-04-24 17:15:23" /&gt;
    &lt;guestbook id="2" content="I like it!" user="nancy" created="2010-04-26 12:14:20" /&gt;
    &lt;guestbook id="3" content="Hello world!" user="suzy" created="2010-05-01 21:47:08" /&gt;
&lt;/dataset&gt;
</pre><p>
        Apesar disso, esta asserção só vai passar em exatamente um segundo 
        do universo, em <span class="emphasis"><em>2010–05–01 21:47:08</em></span>. Datas 
        possuem um problema especial nos testes de bancos de dados e podemos circundar 
        a falha omitindo a coluna <span class="quote">“<span class="quote">created</span>”</span> 
        da asserção.
      </p><p>
        O arquivo ajustado <span class="emphasis"><em>expectedBook.xml</em></span> em XML Plano 
        provavelmente vai ficar parecido com o seguinte para fazer a 
        asserção passar:
      </p><pre class="screen">&lt;?xml version="1.0" ?&gt;
&lt;dataset&gt;
    &lt;guestbook id="1" content="Hello buddy!" user="joe" /&gt;
    &lt;guestbook id="2" content="I like it!" user="nancy" /&gt;
    &lt;guestbook id="3" content="Hello world!" user="suzy" /&gt;
&lt;/dataset&gt;
</pre><p>
        Nós temos que consertar a chamada da Tabela Query:
      </p><pre class="programlisting">&lt;?php
$queryTable = $this-&gt;getConnection()-&gt;createQueryTable(
    'guestbook', 'SELECT id, content, user FROM guestbook'
);
?&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.asserting-the-result-of-a-query"></a>Asseverando o Resultado de uma Query</h3></div></div></div><p>
        Você também pode asseverar o resultado de querys complexas com a abordagem 
        da Tabela Query, apenas especificando um nome de resultado com uma query e 
        comparando isso a um conjunto de dados:
      </p><pre class="programlisting">&lt;?php
class ComplexQueryTest extends PHPUnit_Extensions_Database_TestCase
{
    public function testComplexQuery()
    {
        $queryTable = $this-&gt;getConnection()-&gt;createQueryTable(
            'myComplexQuery', 'SELECT complexQuery...'
        );
        $expectedTable = $this-&gt;createFlatXmlDataSet("complexQueryAssertion.xml")
                              -&gt;getTable("myComplexQuery");
        $this-&gt;assertTablesEqual($expectedTable, $queryTable);
    }
}
?&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.asserting-the-state-of-multiple-tables"></a>Asseverando o Estado de Múltiplas Tabelas</h3></div></div></div><p>
        Certamente você pode asseverar o estado de múltiplas tabelas de uma vez e 
        comparar um conjunto de dados de query contra um conjunto de dados baseado em arquivo. Existem duas 
        formas diferentes de asserções de Conjuntos de Dados.
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
            Você pode usar o Database (Banco de Dados - DB) e o DataSet (Conjunto de Dados) da Connection (Conexão) e 
            compará-lo com um Conjunto de Dados Baseado em Arquivo.
          </p><pre class="programlisting">&lt;?php
class DataSetAssertionsTest extends PHPUnit_Extensions_Database_TestCase
{
    public function testCreateDataSetAssertion()
    {
        $dataSet = $this-&gt;getConnection()-&gt;createDataSet(array('guestbook'));
        $expectedDataSet = $this-&gt;createFlatXmlDataSet('guestbook.xml');
        $this-&gt;assertDataSetsEqual($expectedDataSet, $dataSet);
    }
}
?&gt;</pre></li><li class="listitem"><p>
            Você pode construir o Conjunto de Dados por si próprio:
          </p><pre class="programlisting">&lt;?php
class DataSetAssertionsTest extends PHPUnit_Extensions_Database_TestCase
{
    public function testManualDataSetAssertion()
    {
        $dataSet = new PHPUnit_Extensions_Database_DataSet_QueryDataSet();
        $dataSet-&gt;addTable('guestbook', 'SELECT id, content, user FROM guestbook'); // additional tables
        $expectedDataSet = $this-&gt;createFlatXmlDataSet('guestbook.xml');

        $this-&gt;assertDataSetsEqual($expectedDataSet, $dataSet);
    }
}
?&gt;</pre></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="database.frequently-asked-questions"></a>Perguntas Mais Frequentes</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.will-phpunit-re-create-the-database-schema-for-each-test"></a>O PHPUnit vai (re)criar o esquema do banco de dados para cada 
             teste?</h3></div></div></div><p>
        Não, o PHPUnit exige que todos os objetos do banco de dados estejam disponíveis quando a 
        suíte começar os testes. O Banco de Dados, tabelas, sequências, gatilhos e 
        visualizações devem ser criadas antes que você execute a suíte de testes.
      </p><p>
        <a class="ulink" href="http://www.doctrine-project.org/" target="_top">Doctrine 2</a> ou
        <a class="ulink" href="http://www.ezcomponents.org/" target="_top">eZ Components</a> possuem 
        ferramentas poderosas que permitem a você criar o esquema de banco de dados através 
        de estruturas de dados pré-definidas, porém devem ser ligados à 
        extensão do PHPUnit para permitir a recriação automática de banco de dados 
        antes que a suíte de testes completa seja executada.
      </p><p>
        Já que cada teste limpa completamente o banco de dados, você nem sequer é 
        forçado a recriar o banco de dados para cada execução de teste. Um banco de dados 
        permanentemente disponível funciona perfeitamente.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.am-i-required-to-use-pdo-in-my-application-for-the-database-extension-to-work"></a>Sou forçado a usar PDO em minha aplicação para que a Extensão para 
             Banco de Dados funcione?</h3></div></div></div><p>
        Não, PDO só é exigido para limpeza e configuração do ambiente e para 
        asserções. Você pode usar qualquer abstração de banco de dados que quiser 
        dentro de seu próprio código.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.what-can-i-do-when-i-get-a-too-much-connections-error"></a>O que posso fazer quando recebo um Erro
             <span class="quote">“<span class="quote">Too much Connections</span>”</span>?</h3></div></div></div><p>
        Se você não armazena em cache a instância de PDO que é criada a partir do 
        método do Caso de Teste <code class="literal">getConnection()</code> o número de 
        conexões ao banco de dados é aumentado em um ou mais com cada 
        teste do banco de dados. Com a configuração padrão o MySQL só permite 100 
        conexões concorrentes e outros fornecedores também têm um limite máximo 
        de conexões.
      </p><p>
        A Sub-seção
        <span class="quote">“<span class="quote">Use seu próprio Caso Abstrato de Teste de Banco de Dados</span>”</span> mostra como 
        você pode prevenir o acontecimento desse erro usando uma instância única armazenada 
        em cache do PDO em todos os seus testes.
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="database.how-to-handle-null-with-flat-xml-csv-datasets"></a>Como lidar com NULL usando Conjuntos de Dados XML Plano / CSV?</h3></div></div></div><p>
        Não faça isso. Em vez disso, você deveria usar Conjuntos de Dados ou 
        XML ou YAML.
      </p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="test-doubles"></a>Capítulo 9. Dublês de Testes</h1></div></div></div><p>
    Gerard Meszaros introduz o conceito de Dublês de Testes em
    <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#Meszaros2007" title="xUnit Test Patterns: Refactoring Test Code">[<abbr class="abbrev">Meszaros2007</abbr>]</a> desta forma:
  </p><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tbody><tr><td width="10%" valign="top">&nbsp;</td><td width="80%" valign="top"><p>
      <a id="idp930880" class="indexterm"></a>

      Às vezes é muito difícil testar o sistema sob teste (SST - em inglês: system under test - SUT) 
      porque isso depende de outros ambientes que não podem ser usados no ambiente 
      de testes. Isso pode ser porque não estão disponíveis, não retornarão 
      os resultados necessários para o teste, ou porque executá-los 
      causaria efeitos colaterais indesejáveis. Em outros casos, nossa estratégia de testes requer 
      que tenhamos mais controle ou visibilidade do comportamento interno do SST.
    </p><p>
      <a id="idp932416" class="indexterm"></a>
      <a id="idp932992" class="indexterm"></a>

      Quando estamos escrevendo um teste no qual não podemos (ou decidimos não) usar um componente 
      dependente (depended-on component - DOC) real, podemos substitui-lo por um Dublê de Teste. O 
      Dublê de Teste não precisa se comportar exatamente como o DOC real; apenas precisa 
      fornecer a mesma API como o real, de forma que o SST pense que é 
      o real!
    </p></td><td width="10%" valign="top">&nbsp;</td></tr><tr><td width="10%" valign="top">&nbsp;</td><td colspan="2" align="right" valign="top">--<span class="attribution">Gerard Meszaros</span></td></tr></tbody></table></div><p>
    O método <code class="literal">getMockBuilder($type)</code> fornecido pelo PHPUnit pode 
    ser usado em um teste para gerar automaticamente um objeto que possa atuar como um dublê 
    de teste para a classe original especificada. Esse objeto de 
    dublê de teste pode ser usado em cada contexto onde um objeto da classe original 
    é esperado ou requerido.
  </p><p>
    Por padrão, todos os métodos da classe original são substituídos com uma implementação 
    simulada que apenas retorna <code class="literal">null</code> (sem chamar 
    o método original). Usando o método <code class="literal">will($this-&gt;returnValue())</code>, 
    por exemplo, você pode configurar essas implementações simuladas para 
    retornar um valor quando chamadas.
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Limitações</h3><p>
      Por favor, note que os métodos <code class="literal">final</code>, <code class="literal">private</code>
      e <code class="literal">static</code> não podem ser esboçados (stubbed) ou falsificados (mocked). Eles 
      são ignorados pela funcionalidade de dublê de teste do PHPUnit e mantêm seus 
      comportamentos originais.
    </p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Aviso</h3><p>
        Por favor atente para o fato de que a gestão de parâmetros foi mudada. 
        A implementação anterior clona todos os parâmetros de objetos. Isso não permite verificar se o mesmo objeto foi passado para um método ou não.
        <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mock-objects.examples.clone-object-parameters-usecase.php" title="Exemplo 9.15: Testar se um método foi chamado uma vez e com o objeto idêntico ao que foi passado">Exemplo 9.15</a> mostra onde a nova implementação pode ser útil.
        <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mock-objects.examples.enable-clone-object-parameters.php" title="Exemplo 9.16: Cria um objeto falsificado com clonagem de parâmetros habilitada">Exemplo 9.16</a> mostra como voltar para o comportamento anterior.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="test-doubles.stubs"></a>Esboços (stubs)</h2></div></div></div><p>
      <a id="idp997200" class="indexterm"></a>

      A prática de substituir um objeto por um dublê de teste que (opcionalmente) 
      retorna valores de retorno configurados é chamada de
      <span class="emphasis"><em>delineamento</em></span>. Você pode usar um <span class="emphasis"><em>esboço</em></span> para 
      "substituir um componente real do qual o SST depende de modo que o teste tenha um 
      ponto de controle para as entradas indiretas do SST. Isso permite ao teste 
      forçar o SST através de caminhos que não seriam executáveis de outra forma".
    </p><p>
      <a id="idp999520" class="indexterm"></a>

      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs.examples.StubTest.php" title="Exemplo 9.2: Esboçando uma chamada de método para retornar um valor fixo">Exemplo 9.2</a> mostra como 
      esboçar chamadas de método e configurar valores de retorno. Primeiro usamos o 
      método <code class="literal">getMockBuilder()</code> que é fornecido pela 
      classe <code class="literal">PHPUnit_Framework_TestCase</code> para configurar um esboço 
      de objeto que parece com um objeto de <code class="literal">SomeClass</code>
      (<a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs.examples.SomeClass.php" title="Exemplo 9.1: A classe que queremos esboçar">Exemplo 9.1</a>). Então 
      usamos a <a class="ulink" href="http://martinfowler.com/bliki/FluentInterface.html" target="_top">Interface Fluente</a>
      que o PHPUnit fornece para especificar o comportamento para o esboço. Essencialmente, 
      isso significa que você não precisa criar vários objetos temporários e 
      uni-los depois. Em vez disso, você encadeia chamadas de método como mostrado no 
      exemplo. Isso leva a códigos mais legíveis e "fluentes".
    </p><div class="example"><a id="test-doubles.stubs.examples.SomeClass.php"></a><p class="title"><strong>Exemplo 9.1: A classe que queremos esboçar</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class SomeClass
{
    public function doSomething()
    {
        // Faça algo.
    }
}
?&gt;</pre></div></div><br class="example-break"><div class="example"><a id="test-doubles.stubs.examples.StubTest.php"></a><p class="title"><strong>Exemplo 9.2: Esboçando uma chamada de método para retornar um valor fixo</strong></p><div class="example-contents"><a id="idp791184" class="indexterm"></a><a id="idp791760" class="indexterm"></a><a id="idp792336" class="indexterm"></a><pre class="programlisting">&lt;?php
require_once 'SomeClass.php';

class StubTest extends PHPUnit_Framework_TestCase
{
    public function testStub()
    {
        // Cria um esboço para a classe AlgumaClasse.
        $stub = $this-&gt;getMockBuilder('SomeClass')
                     -&gt;getMock();

        // Configura o esboço.
        $stub-&gt;method('doSomething')
             -&gt;willReturn('foo');

        // Chamando $esboco-&gt;fazAlgumaCoisa() agora vai retornar 
        // 'foo'.
        $this-&gt;assertEquals('foo', $stub-&gt;doSomething());
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      "Atrás dos bastidores" o PHPUnit automaticamente gera uma nova classe PHP que 
      implementa o comportamento desejado quando o método <code class="literal">getMock()</code>
      é usado.
    </p><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs.examples.StubTest2.php" title="Exemplo 9.3: Usando a API Mock Builder pode ser usada para configurar a classe de dublê de teste gerada">Exemplo 9.3</a> mostra um 
      exemplo de como usar a interface fluente do Mock Builder para configurar a
      criação do dublê de teste.
    </p><div class="example"><a id="test-doubles.stubs.examples.StubTest2.php"></a><p class="title"><strong>Exemplo 9.3: Usando a API Mock Builder pode ser usada para configurar a classe de dublê de teste gerada</strong></p><div class="example-contents"><a id="idp797152" class="indexterm"></a><a id="idp797728" class="indexterm"></a><a id="idp798304" class="indexterm"></a><pre class="programlisting">&lt;?php
require_once 'SomeClass.php';

class StubTest extends PHPUnit_Framework_TestCase
{
    public function testStub()
    {
        // Cria um esboço para a classe SomeClass.
        $stub = $this-&gt;getMockBuilder('SomeClass')
                     -&gt;disableOriginalConstructor()
                     -&gt;getMock();

        // Configura o esboço.
        $stub-&gt;method('doSomething')
             -&gt;willReturn('foo');

        // Chamar $stub-&gt;doSomething() agora vai retornar
        // 'foo'.
        $this-&gt;assertEquals('foo', $stub-&gt;doSomething());
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Aqui está uma lista de métodos fornecidos pelo Mock Builder:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">setMethods(array $methods)</code> pode ser chamado no objeto Mock Builder para especificar os métodos que devem ser substituídos com um dublê de teste configurável. O comportamento dos outros métodos não muda. Se você chamar <code class="literal">setMethods(null)</code>, então nenhum dos métodos serão substituídos.</p></li><li class="listitem"><p><code class="literal">setConstructorArgs(array $args)</code> pode ser chamado para fornecer um vetor de parâmetros que é passado ao construtor da classe original (que por padrão não é substituído com uma implementação falsa).</p></li><li class="listitem"><p><code class="literal">setMockClassName($name)</code> pode ser usado para especificar um nome de classe para a classe de dublê de teste gerada.</p></li><li class="listitem"><p><code class="literal">disableOriginalConstructor()</code> pode ser usado para desabilitar a chamada ao construtor da classe original.</p></li><li class="listitem"><p><code class="literal">disableOriginalClone()</code> pode ser usado para desabilitar a chamada ao construtor do clone da classe original.</p></li><li class="listitem"><p><code class="literal">disableAutoload()</code> pode ser usado para desabilitar o <code class="literal">__autoload()</code> durante a geração da classe de dublê de teste.</p></li></ul></div><p>
      Nos exemplos até agora temos retornado valores simples usando
      <code class="literal">willReturn($value)</code>. Essa sintaxe curta é o mesmo que 
      <code class="literal">will($this-&gt;returnValue($value))</code>. Podemos usar variações 
      desta sintaxe longa para alcançar mais comportamento de esboço complexo.
    </p><p>
      Às vezes você quer retornar um dos argumentos de uma chamada de método 
      (inalterada) como o resultado de uma chamada ao método esboçado.
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs.examples.StubTest3.php" title="Exemplo 9.4: Esboçando uma chamada de método para retornar um dos argumentos">Exemplo 9.4</a> mostra como você 
      pode conseguir isso usando <code class="literal">returnArgument()</code> em vez de
      <code class="literal">returnValue()</code>.
    </p><div class="example"><a id="test-doubles.stubs.examples.StubTest3.php"></a><p class="title"><strong>Exemplo 9.4: Esboçando uma chamada de método para retornar um dos argumentos</strong></p><div class="example-contents"><a id="idp812336" class="indexterm"></a><a id="idp812912" class="indexterm"></a><a id="idp813488" class="indexterm"></a><a id="idp814064" class="indexterm"></a><pre class="programlisting">&lt;?php
require_once 'SomeClass.php';

class StubTest extends PHPUnit_Framework_TestCase
{
    public function testReturnArgumentStub()
    {
        // Cria um esboço para a classe SomeClass.
        $stub = $this-&gt;getMockBuilder('SomeClass')
                     -&gt;getMock();

        // Configura o esboço.
        $stub-&gt;method('doSomething')
             -&gt;will($this-&gt;returnArgument(0));

        // $stub-&gt;doSomething('foo') retorna 'foo'.
        $this-&gt;assertEquals('foo', $stub-&gt;doSomething('foo'));

        // $stub-&gt;doSomething('bar') retorna 'bar'.
        $this-&gt;assertEquals('bar', $stub-&gt;doSomething('bar'));
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Ao testar uma interface fluente, às vezes é útil fazer um método 
      esboçado retornar uma referência ao objeto esboçado.
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs.examples.StubTest4.php" title="Exemplo 9.5: Esboçando uma chamada de método para retornar uma referência ao objeto esboçado">Exemplo 9.5</a> mostra como você 
      pode usar <code class="literal">returnSelf()</code> para conseguir isso.
    </p><div class="example"><a id="test-doubles.stubs.examples.StubTest4.php"></a><p class="title"><strong>Exemplo 9.5: Esboçando uma chamada de método para retornar uma referência ao objeto esboçado</strong></p><div class="example-contents"><a id="idp1214496" class="indexterm"></a><a id="idp1215072" class="indexterm"></a><a id="idp1215648" class="indexterm"></a><a id="idp1216224" class="indexterm"></a><pre class="programlisting">&lt;?php
require_once 'SomeClass.php';

class StubTest extends PHPUnit_Framework_TestCase
{
    public function testReturnSelf()
    {
        // Cria um esboço para a classe SomeClass.
        $stub = $this-&gt;getMockBuilder('SomeClass')
                     -&gt;getMock();

        // Configura o esboço.
        $stub-&gt;method('doSomething')
             -&gt;will($this-&gt;returnSelf());

        // $stub-&gt;doSomething() retorna $stub
        $this-&gt;assertSame($stub, $stub-&gt;doSomething());
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Algumas vezes um método esboçado deveria retornar valores diferentes dependendo de 
      uma lista predefinida de argumentos. Você pode usar
      <code class="literal">returnValueMap()</code> para criar um mapa que associa 
      argumentos com valores de retorno correspondentes. Veja
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs.examples.StubTest5.php" title="Exemplo 9.6: Esboçando uma chamada de método para retornar o valor de um mapa">Exemplo 9.6</a> para 
      ter um exemplo.
    </p><div class="example"><a id="test-doubles.stubs.examples.StubTest5.php"></a><p class="title"><strong>Exemplo 9.6: Esboçando uma chamada de método para retornar o valor de um mapa</strong></p><div class="example-contents"><a id="idp1220720" class="indexterm"></a><a id="idp1221296" class="indexterm"></a><a id="idp1221872" class="indexterm"></a><a id="idp1222448" class="indexterm"></a><pre class="programlisting">&lt;?php
require_once 'SomeClass.php';

class StubTest extends PHPUnit_Framework_TestCase
{
    public function testReturnValueMapStub()
    {
        // Cria um esboço para a classe SomeClass.
        $stub = $this-&gt;getMockBuilder('SomeClass')
                     -&gt;getMock();

        // Cria um mapa de argumentos para valores retornados.
        $map = array(
          array('a', 'b', 'c', 'd'),
          array('e', 'f', 'g', 'h')
        );

        // Configura o esboço.
        $stub-&gt;method('doSomething')
             -&gt;will($this-&gt;returnValueMap($map));

        // $stub-&gt;doSomething() retorna diferentes valores dependendo do 
        // argumento fornecido.
        $this-&gt;assertEquals('d', $stub-&gt;doSomething('a', 'b', 'c'));
        $this-&gt;assertEquals('h', $stub-&gt;doSomething('e', 'f', 'g'));
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Quando a chamada ao método esboçado deve retornar um valor calculado em vez de 
      um fixo (veja <code class="literal">returnValue()</code>) ou um argumento (inalterado) 
      (veja <code class="literal">returnArgument()</code>), você pode usar
      <code class="literal">returnCallback()</code> para que o método esboçado retorne o 
      resultado da função ou método callback. Veja
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs.examples.StubTest6.php" title="Exemplo 9.7: Esboçando uma chamada de método para retornar um valor de um callback">Exemplo 9.7</a> para ter um exemplo.
    </p><div class="example"><a id="test-doubles.stubs.examples.StubTest6.php"></a><p class="title"><strong>Exemplo 9.7: Esboçando uma chamada de método para retornar um valor de um callback</strong></p><div class="example-contents"><a id="idp1228144" class="indexterm"></a><a id="idp1228720" class="indexterm"></a><a id="idp1229296" class="indexterm"></a><a id="idp1229872" class="indexterm"></a><pre class="programlisting">&lt;?php
require_once 'SomeClass.php';

class StubTest extends PHPUnit_Framework_TestCase
{
    public function testReturnCallbackStub()
    {
        // Cria um esboço para a classe AlgumaClasse.
        $stub = $this-&gt;getMockBuilder('SomeClass')
                     -&gt;getMock();

        // Configura o esboço.
        $stub-&gt;method('doSomething')
             -&gt;will($this-&gt;returnCallback('str_rot13'));

        // $stub-&gt;doSomething($argument) retorna str_rot13($argument)
        $this-&gt;assertEquals('fbzrguvat', $stub-&gt;doSomething('something'));
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Uma alternativa mais simples para configurar um método callback pode ser 
      especificar uma lista de valores de retorno desejados. Você pode fazer isso com 
      o método <code class="literal">onConsecutiveCalls()</code>. Veja
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs.examples.StubTest7.php" title="Exemplo 9.8: Esboçando uma chamada de método para retornar uma lista de valores na ordem especificada">Exemplo 9.8</a> para 
      ter um exemplo.
    </p><div class="example"><a id="test-doubles.stubs.examples.StubTest7.php"></a><p class="title"><strong>Exemplo 9.8: Esboçando uma chamada de método para retornar uma lista de valores na 
      ordem especificada</strong></p><div class="example-contents"><a id="idp1234368" class="indexterm"></a><a id="idp1234944" class="indexterm"></a><a id="idp1235520" class="indexterm"></a><a id="idp1236096" class="indexterm"></a><pre class="programlisting">&lt;?php
require_once 'SomeClass.php';

class StubTest extends PHPUnit_Framework_TestCase
{
    public function testOnConsecutiveCallsStub()
    {
        // Cria um esboço para a classe SomeClass.
        $stub = $this-&gt;getMockBuilder('SomeClass')
                     -&gt;getMock();

        // Configura o esboço.
        $stub-&gt;method('doSomething')
             -&gt;will($this-&gt;onConsecutiveCalls(2, 3, 5, 7));

        // $stub-&gt;doSomething() retorna um valor diferente em cada vez
        $this-&gt;assertEquals(2, $stub-&gt;doSomething());
        $this-&gt;assertEquals(3, $stub-&gt;doSomething());
        $this-&gt;assertEquals(5, $stub-&gt;doSomething());
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Em vez de retornar um valor, um método esboçado também pode causar uma 
      exceção. <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs.examples.StubTest8.php" title="Exemplo 9.9: Esboçando uma chamada de método para lançar uma exceção">Exemplo 9.9</a>
      mostra como usar <code class="literal">throwException()</code> para fazer isso.
    </p><div class="example"><a id="test-doubles.stubs.examples.StubTest8.php"></a><p class="title"><strong>Exemplo 9.9: Esboçando uma chamada de método para lançar uma exceção</strong></p><div class="example-contents"><a id="idp1240624" class="indexterm"></a><a id="idp1241200" class="indexterm"></a><a id="idp1241776" class="indexterm"></a><a id="idp1242352" class="indexterm"></a><pre class="programlisting">&lt;?php
require_once 'SomeClass.php';

class StubTest extends PHPUnit_Framework_TestCase
{
    public function testThrowExceptionStub()
    {
        // Cria um esboço para a classe SomeClass.
        $stub = $this-&gt;getMockBuilder('SomeClass')
                     -&gt;getMock();

        // Configura o esboço.
        $stub-&gt;method('doSomething')
             -&gt;will($this-&gt;throwException(new Exception));

        // $stub-&gt;doSomething() lança Exceção
        $stub-&gt;doSomething();
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Alternativamente, você mesmo pode escrever um esboço enquanto melhora 
      o design. Recursos amplamente utilizados são acessados através de uma única fachada, 
      então você pode substituir facilmente o recurso pelo esboço. Por exemplo, 
      em vez de ter chamadas diretas ao banco de dados espalhadas pelo código, 
      você tem um único objeto <code class="literal">Database</code> que implementa a interface 
      <code class="literal">IDatabase</code>. Então, você pode criar um esboço 
      de implementação da <code class="literal">IDatabase</code> e usá-la em seus 
      testes. Você pode até criar uma opção para executar os testes com o 
      esboço do banco de dados ou com o banco de dados real, então você pode usar seus testes tanto 
      para testes locais durante o desenvolvimento quanto para integração dos testes com o 
      banco de dados real.
    </p><p>
      Funcionalidades que precisam ser esboçadas tendem a se agrupar no mesmo 
      objeto, aumentando a coesão. Por apresentar a funcionalidade com uma 
      interface única e coerente, você reduz o acoplamento com o resto do 
      sistema.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="test-doubles.mock-objects"></a>Objetos Falsos</h2></div></div></div><p>
      A prática de substituir um objeto por um dublê de teste que verifica 
      expectativas, por exemplo asseverando que um método foi chamado, é 
      conhecido como <span class="emphasis"><em>falsificação (mocking)</em></span>.
    </p><p>
      <a id="idp1250272" class="indexterm"></a>

      Você pode usar um <span class="emphasis"><em>objeto falso</em></span> "como um ponto de observação 
      que é usado para verificar as saídas indiretas do SST durante seu exercício. 
      Tipicamente, o objeto falso também inclui a funcionalidade de um esboço de teste 
      que deve retornar valores para o SST se ainda não tiver falhado 
      nos testes, mas a ênfase está na verificação das saídas indiretas. 
      Portanto, um objeto falso é muito mais que apenas um esboço de testes mais 
      asserções; é utilizado de uma forma fundamentalmente diferente".
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Limitações</h3><p>
        Somente objetos falsos gerados no escopo de um teste irá ser verificado
        automaticamente pelo PHPUnit. Objetos falsos gerados em provedores de dados, por 
        exemplo, não serão verificados pelo PHPUnit.
      </p></div><p>
      Aqui está um exemplo: suponha que queiramos testar se o método correto,
      <code class="literal">update()</code> em nosso exemplo, é chamado em um objeto que 
      observa outro objeto. <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mock-objects.examples.SUT.php" title="Exemplo 9.10: As classes Subject e Observer que são parte do Sistema Sob Teste (SST)">Exemplo 9.10</a> 
      mostra o código para as classes <code class="literal">Subject</code> e <code class="literal">Observer</code>
      que são parte do Sistema Sob Teste (SST).
    </p><div class="example"><a id="test-doubles.mock-objects.examples.SUT.php"></a><p class="title"><strong>Exemplo 9.10: As classes Subject e Observer que são parte do Sistema Sob Teste (SST)</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class Subject
{
    protected $observers = array();
    protected $name;

    public function __construct($name)
    {
        $this-&gt;name = $name;
    }

    public function getName()
    {
        return $this-&gt;name;
    }

    public function attach(Observer $observer)
    {
        $this-&gt;observers[] = $observer;
    }

    public function doSomething()
    {
        // Faça algo.

        // ...

        // Notifica aos observadores que fizemos algo.
        $this-&gt;notify('something');
    }

    public function doSomethingBad()
    {
        foreach ($this-&gt;observers as $observer) {
            $observer-&gt;reportError(42, 'Something bad happened', $this);
        }
    }

    protected function notify($argument)
    {
        foreach ($this-&gt;observers as $observer) {
            $observer-&gt;update($argument);
        }
    }

    // Outros métodos.
}

class Observer
{
    public function update($argument)
    {
        // Faça algo.
    }

    public function reportError($errorCode, $errorMessage, Subject $subject)
    {
        // Faça algo.
    }

    // Outros métodos.
}
?&gt;</pre></div></div><br class="example-break"><p>
      <a id="idp1259200" class="indexterm"></a>

      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mock-objects.examples.SubjectTest.php" title="Exemplo 9.11: Testando se um método é chamado uma vez e com o argumento especificado">Exemplo 9.11</a>
      mostra como usar um objeto falso para testar a interação entre 
      os objetos <code class="literal">Subject</code> e <code class="literal">Observer</code>.
    </p><p>
      Primeiro usamos o método <code class="literal">getMock()</code> que é fornecido pela 
      classe <code class="literal">PHPUnit_Framework_TestCase</code> para configurar um objeto 
      falso para ser o <code class="literal">Observer</code>. Já que fornecemos um vetor como 
      segundo parâmetro (opcional) para o método <code class="literal">getMock()</code>, 
      apenas o método <code class="literal">update()</code> da classe 
      <code class="literal">Observer</code> é substituído por uma implementação falsificada.
    </p><p>
      Porque estamos interessados em verificar se um método foi chamado, e com quais 
      argumentos ele foi chamado, introduzimos os métodos <code class="literal">expects()</code> e
      <code class="literal">with()</code> para especificar como essa interação deve considerar.
    </p><div class="example"><a id="test-doubles.mock-objects.examples.SubjectTest.php"></a><p class="title"><strong>Exemplo 9.11: Testando se um método é chamado uma vez e com o argumento especificado</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class SubjectTest extends PHPUnit_Framework_TestCase
{
    public function testObserversAreUpdated()
    {
        // Cria uma falsificação para a classe Observer,
        // apenas falsificando o método update().
        $observer = $this-&gt;getMockBuilder('Observer')
                         -&gt;setMethods(array('update'))
                         -&gt;getMock();

        // Configura a expectativa para o método update()
        // para ser chamado apenas uma vez e com a string 'something'
        // como seu parâmetro.
        $observer-&gt;expects($this-&gt;once())
                 -&gt;method('update')
                 -&gt;with($this-&gt;equalTo('something'));

        // Cria um objeto Subject e anexa a ele o objeto
        // Observer falsificado.
        $subject = new Subject('My subject');
        $subject-&gt;attach($observer);

        // Chama o método doSomething() no objeto $subject
        // no qual esperamos chamar o método update()
        // do objeto falsificado Observer, com a string 'something'.
        $subject-&gt;doSomething();
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      O método <code class="literal">with()</code> pode receber qualquer número de 
      argumentos, correspondendo ao número de argumentos 
      sendo falsos. Você pode especificar restrições mais avançadas 
      do que uma simples igualdade no argumento do método.
    </p><div class="example"><a id="test-doubles.mock-objects.examples.MultiParameterTest.php"></a><p class="title"><strong>Exemplo 9.12: Testando se um método é chamado com um número de 
      argumentos restringidos de formas diferentes</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class SubjectTest extends PHPUnit_Framework_TestCase
{
    public function testErrorReported()
    {
        // Create a mock for the Observer class, mocking the
        // reportError() method
        $observer = $this-&gt;getMockBuilder('Observer')
                         -&gt;setMethods(array('reportError'))
                         -&gt;getMock();

        $observer-&gt;expects($this-&gt;once())
                 -&gt;method('reportError')
                 -&gt;with(
                       $this-&gt;greaterThan(0),
                       $this-&gt;stringContains('Something'),
                       $this-&gt;anything()
                   );

        $subject = new Subject('My subject');
        $subject-&gt;attach($observer);

        // The doSomethingBad() method should report an error to the observer
        // via the reportError() method
        $subject-&gt;doSomethingBad();
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      O método <code class="literal">withConsecutive()</code> pode receber qualquer número de 
      vetores de argumentos, dependendo das chamados que você quer testar contra.
      Cada vetor é uma lista de restrições correspondentes para os argumentos do 
      método falsificado, como em <code class="literal">with()</code>.
    </p><div class="example"><a id="test-doubles.mock-objects.examples.with-consecutive.php"></a><p class="title"><strong>Exemplo 9.13: Testar que um método foi chamado duas vezes com argumentos especificados</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class FooTest extends PHPUnit_Framework_TestCase
{
    public function testFunctionCalledTwoTimesWithSpecificArguments()
    {
        $mock = $this-&gt;getMockBuilder('stdClass')
                     -&gt;setMethods(array('set'))
                     -&gt;getMock();

        $mock-&gt;expects($this-&gt;exactly(2))
             -&gt;method('set')
             -&gt;withConsecutive(
                 array($this-&gt;equalTo('foo'), $this-&gt;greaterThan(0)),
                 array($this-&gt;equalTo('bar'), $this-&gt;greaterThan(0))
             );

        $mock-&gt;set('foo', 21);
        $mock-&gt;set('bar', 48);
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      A restrição <code class="literal">callback()</code> pode ser usada para verificação de argumento
      mais complexa. Essa restrição recebe um callback PHP como seu único 
      argumento. O callback PHP receberá o argumento a ser verificado como 
      seu único argumento e deverá retornar <code class="literal">TRUE</code> se o 
      argumento passou a verificação e <code class="literal">FALSE</code> caso contrário.
    </p><div class="example"><a id="test-doubles.mock-objects.examples.SubjectTest3.php"></a><p class="title"><strong>Exemplo 9.14: Verificação de argumento mais complexa</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class SubjectTest extends PHPUnit_Framework_TestCase
{
    public function testErrorReported()
    {
        // Create a mock for the Observer class, mocking the
        // reportError() method
        $observer = $this-&gt;getMockBuilder('Observer')
                         -&gt;setMethods(array('reportError'))
                         -&gt;getMock();

        $observer-&gt;expects($this-&gt;once())
                 -&gt;method('reportError')
                 -&gt;with($this-&gt;greaterThan(0),
                        $this-&gt;stringContains('Something'),
                        $this-&gt;callback(function($subject){
                          return is_callable(array($subject, 'getName')) &amp;&amp;
                                 $subject-&gt;getName() == 'My subject';
                        }));

        $subject = new Subject('My subject');
        $subject-&gt;attach($observer);

        // The doSomethingBad() method should report an error to the observer
        // via the reportError() method
        $subject-&gt;doSomethingBad();
    }
}
?&gt;</pre></div></div><br class="example-break"><div class="example"><a id="test-doubles.mock-objects.examples.clone-object-parameters-usecase.php"></a><p class="title"><strong>Exemplo 9.15: Testar se um método foi chamado uma vez e com o objeto idêntico ao que foi passado</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class FooTest extends PHPUnit_Framework_TestCase
{
    public function testIdenticalObjectPassed()
    {
        $expectedObject = new stdClass;

        $mock = $this-&gt;getMockBuilder('stdClass')
                     -&gt;setMethods(array('foo'))
                     -&gt;getMock();

        $mock-&gt;expects($this-&gt;once())
             -&gt;method('foo')
             -&gt;with($this-&gt;identicalTo($expectedObject));

        $mock-&gt;foo($expectedObject);
    }
}
?&gt;</pre></div></div><br class="example-break"><div class="example"><a id="test-doubles.mock-objects.examples.enable-clone-object-parameters.php"></a><p class="title"><strong>Exemplo 9.16: Cria um objeto falsificado com clonagem de parâmetros habilitada</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class FooTest extends PHPUnit_Framework_TestCase
{
    public function testIdenticalObjectPassed()
    {
        $cloneArguments = true;

        $mock = $this-&gt;getMockBuilder('stdClass')
                     -&gt;enableArgumentCloning()
                     -&gt;getMock();

        // now your mock clones parameters so the identicalTo constraint
        // will fail.
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat.tables.constraints" title="Tabela A.1. Restrições">Tabela A.1</a>
      mostra as restrições que podem ser aplicadas aos argumentos do método e
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mock-objects.tables.matchers" title="Tabela 9.1. Comparadores">Tabela 9.1</a>
      mostra os comparados que estão disponíveis para especificar o número de 
      invocações.
    </p><div class="table"><a id="test-doubles.mock-objects.tables.matchers"></a><p class="title"><strong>Tabela 9.1. Comparadores</strong></p><div class="table-contents"><table class="table" summary="Comparadores" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">Comparador</th><th align="left">Significado</th></tr></thead><tbody><tr><td align="left"><code class="literal">PHPUnit_Framework_MockObject_Matcher_AnyInvokedCount any()</code></td><td align="left">Retorna um comparador que corresponde quando o método que é avaliado for executado zero ou mais vezes.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_MockObject_Matcher_InvokedCount never()</code></td><td align="left">Retorna um comparador que corresponde quando o método que é avaliado nunca for executado.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_MockObject_Matcher_InvokedAtLeastOnce atLeastOnce()</code></td><td align="left">Retorna um comparador que corresponde quando o método que é avaliado for executado pelo menos uma vez.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_MockObject_Matcher_InvokedCount once()</code></td><td align="left">Retorna um comparador que corresponde quando o método que é avaliado for executado exatamente uma vez.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_MockObject_Matcher_InvokedCount exactly(int $count)</code></td><td align="left">Retorna um comparador que corresponde quando o método que é avaliado for executado exatamente <code class="literal">$count</code> vezes.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_MockObject_Matcher_InvokedAtIndex at(int $index)</code></td><td align="left">Retorna um comparador que corresponde quando o método que é avaliado for invocado no <code class="literal">$index</code> fornecido.</td></tr></tbody></table></div></div><br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        O parâmetro <code class="literal">$index</code> para o comparador <code class="literal">at()</code>
        se refere ao índice, iniciando em zero, em <span class="emphasis"><em>todas invocações 
        de métodos</em></span> para um objeto falsificado fornecido. Tenha cuidado ao 
        usar este comparador, pois pode levar a testes frágeis que são muito 
        intimamente ligados a detalhes de implementação específicos.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="test-doubles.prophecy"></a>Profecia</h2></div></div></div><p>
      <a class="ulink" href="https://github.com/phpspec/prophecy" target="_top">Prophecy</a> é um
      "framework PHP de falsificação de objetos muito poderoso e flexível, porém 
      altamente opcional. Embora inicialmente criado para atender as necessidades do phpspec2, ele é 
      flexível o suficiente para ser usado dentro de qualquer framework de teste por aí, com 
      o mínimo de esforço".
    </p><p>
      O PHPUnit tem suporte nativo para uso do Prophecy para criar dublês de testes
      desde a versão 4.5. <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.prophecy.examples.SubjectTest.php" title="Exemplo 9.17: Testar que um método foi chamado uma vez e com um argumento específico">Exemplo 9.17</a>
      mostra como o mesmo teste mostrado no <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mock-objects.examples.SubjectTest.php" title="Exemplo 9.11: Testando se um método é chamado uma vez e com o argumento especificado">Exemplo 9.11</a>
      pode ser expressado usando a filosofia do Prophecy de profecias e 
      revelações:
    </p><div class="example"><a id="test-doubles.prophecy.examples.SubjectTest.php"></a><p class="title"><strong>Exemplo 9.17: Testar que um método foi chamado uma vez e com um argumento específico</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class SubjectTest extends PHPUnit_Framework_TestCase
{
    public function testObserversAreUpdated()
    {
        $subject = new Subject('My subject');

        // Create a prophecy for the Observer class.
        $observer = $this-&gt;prophesize('Observer');

        // Set up the expectation for the update() method
        // to be called only once and with the string 'something'
        // as its parameter.
        $observer-&gt;update('something')-&gt;shouldBeCalled();

        // Reveal the prophecy and attach the mock object
        // to the Subject.
        $subject-&gt;attach($observer-&gt;reveal());

        // Call the doSomething() method on the $subject object
        // which we expect to call the mocked Observer object's
        // update() method with the string 'something'.
        $subject-&gt;doSomething();
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Por favor, referencie a <a class="ulink" href="https://github.com/phpspec/prophecy#how-to-use-it" target="_top">documentação</a>
      do Prophecy para mais detalhes sobre como criar, configurar, e usar
      esboços, espiões, e falsificações usando essa alternativa de framework de dublê de teste.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="test-doubles.mocking-traits-and-abstract-classes"></a>Falsificando Traits e Classes Abstratas</h2></div></div></div><p>
      <a id="idp1315408" class="indexterm"></a>

      O método <code class="literal">getMockForTrait()</code> retorna um objeto falsificado
      que usa uma trait especificada. Todos métodos abstratos de uma dada trait 
      são falsificados. Isto permite testar os métodos concretos de uma trait.
    </p><div class="example"><a id="test-doubles.mock-objects.examples.TraitClassTest.php"></a><p class="title"><strong>Exemplo 9.18: Testando os métodos concretos de uma trait</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
trait AbstractTrait
{
    public function concreteMethod()
    {
        return $this-&gt;abstractMethod();
    }

    public abstract function abstractMethod();
}

class TraitClassTest extends PHPUnit_Framework_TestCase
{
    public function testConcreteMethod()
    {
        $mock = $this-&gt;getMockForTrait('AbstractTrait');

        $mock-&gt;expects($this-&gt;any())
             -&gt;method('abstractMethod')
             -&gt;will($this-&gt;returnValue(TRUE));

        $this-&gt;assertTrue($mock-&gt;concreteMethod());
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      <a id="idp1319232" class="indexterm"></a>

      O método <code class="literal">getMockForAbstractClass()</code> retorna um objeto 
      falso para uma classe abstrata. Todos os métodos abstratos da classe abstrata fornecida 
      são falsificados. Isto permite testar os métodos concretos de uma 
      classe abstrata.
    </p><div class="example"><a id="test-doubles.mock-objects.examples.AbstractClassTest.php"></a><p class="title"><strong>Exemplo 9.19: Testando os métodos concretos de uma classe abstrata</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
abstract class AbstractClass
{
    public function concreteMethod()
    {
        return $this-&gt;abstractMethod();
    }

    public abstract function abstractMethod();
}

class AbstractClassTest extends PHPUnit_Framework_TestCase
{
    public function testConcreteMethod()
    {
        $stub = $this-&gt;getMockForAbstractClass('AbstractClass');

        $stub-&gt;expects($this-&gt;any())
             -&gt;method('abstractMethod')
             -&gt;will($this-&gt;returnValue(TRUE));

        $this-&gt;assertTrue($stub-&gt;concreteMethod());
    }
}
?&gt;</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="test-doubles.stubbing-and-mocking-web-services"></a>Esboçando e Falsificando Serviços Web</h2></div></div></div><p>
      <a id="idp1324384" class="indexterm"></a>

      Quando sua aplicação interage com um serviço web você quer testá-lo 
      sem realmente interagir com o serviço web. Para tornar mais fáceis o esboço 
      e falsificação dos serviços web, o <code class="literal">getMockFromWsdl()</code>
      pode ser usado da mesma forma que o <code class="literal">getMock()</code> (veja acima). A única 
      diferença é que <code class="literal">getMockFromWsdl()</code> retorna um esboço ou 
      falsificação baseado em uma descrição de um serviço web em WSDL e <code class="literal">getMock()</code>
      retorna um esboço ou falsificação baseado em uma classe ou interface PHP.
    </p><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubbing-and-mocking-web-services.examples.GoogleTest.php" title="Exemplo 9.20: Esboçando um serviço web">Exemplo 9.20</a>
      mostra como <code class="literal">getMockFromWsdl()</code> pode ser usado para esboçar, por 
      exemplo, o serviço web descrito em <code class="filename">GoogleSearch.wsdl</code>.
    </p><div class="example"><a id="test-doubles.stubbing-and-mocking-web-services.examples.GoogleTest.php"></a><p class="title"><strong>Exemplo 9.20: Esboçando um serviço web</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class GoogleTest extends PHPUnit_Framework_TestCase
{
    public function testSearch()
    {
        $googleSearch = $this-&gt;getMockFromWsdl(
          'GoogleSearch.wsdl', 'GoogleSearch'
        );

        $directoryCategory = new stdClass;
        $directoryCategory-&gt;fullViewableName = '';
        $directoryCategory-&gt;specialEncoding = '';

        $element = new stdClass;
        $element-&gt;summary = '';
        $element-&gt;URL = 'https://phpunit.de/';
        $element-&gt;snippet = '...';
        $element-&gt;title = '&lt;b&gt;PHPUnit&lt;/b&gt;';
        $element-&gt;cachedSize = '11k';
        $element-&gt;relatedInformationPresent = TRUE;
        $element-&gt;hostName = 'phpunit.de';
        $element-&gt;directoryCategory = $directoryCategory;
        $element-&gt;directoryTitle = '';

        $result = new stdClass;
        $result-&gt;documentFiltering = FALSE;
        $result-&gt;searchComments = '';
        $result-&gt;estimatedTotalResultsCount = 3.9000;
        $result-&gt;estimateIsExact = FALSE;
        $result-&gt;resultElements = array($element);
        $result-&gt;searchQuery = 'PHPUnit';
        $result-&gt;startIndex = 1;
        $result-&gt;endIndex = 1;
        $result-&gt;searchTips = '';
        $result-&gt;directoryCategories = array();
        $result-&gt;searchTime = 0.248822;

        $googleSearch-&gt;expects($this-&gt;any())
                     -&gt;method('doGoogleSearch')
                     -&gt;will($this-&gt;returnValue($result));

        /**
         * $googleSearch-&gt;doGoogleSearch() will now return a stubbed result and
         * the web service's doGoogleSearch() method will not be invoked.
         */
        $this-&gt;assertEquals(
          $result,
          $googleSearch-&gt;doGoogleSearch(
            '00000000000000000000000000000000',
            'PHPUnit',
            0,
            1,
            FALSE,
            '',
            FALSE,
            '',
            '',
            ''
          )
        );
    }
}
?&gt;</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="test-doubles.mocking-the-filesystem"></a>Esboçando o Sistema de Arquivos</h2></div></div></div><p>
      <a class="ulink" href="https://github.com/mikey179/vfsStream" target="_top">vfsStream</a>
      é um <a class="ulink" href="http://www.php.net/streams" target="_top">stream wrapper</a> para um
      <a class="ulink" href="http://en.wikipedia.org/wiki/Virtual_file_system" target="_top">sistema de arquivos virtual
      </a> que pode ser útil em testes unitários para falsificar um sistema 
      de arquivos real.
    </p><p>
      Simplesmente adicione a dependência <code class="literal">mikey179/vfsStream</code> ao seu 
      arquivo <code class="literal">composer.json</code> do projeto se você usa o
      <a class="ulink" href="https://getcomposer.org/" target="_top">Composer</a> para gerenciar as 
      dependências do seu projeto. Aqui é um exemplo simplório de um arquivo 
      <code class="literal">composer.json</code> que apenas define uma dependência em ambiente de
      desenvolvimento para o PHPUnit 5.0 e vfsStream:
    </p><pre class="programlisting">{
    "require-dev": {
        "phpunit/phpunit": "~4.6",
        "mikey179/vfsStream": "~1"
    }
}</pre><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mocking-the-filesystem.examples.Example.php" title="Exemplo 9.21: Uma classe que interage com um sistema de arquivos">Exemplo 9.21</a>
      mostra a classe que interage com o sistema de arquivos.
    </p><div class="example"><a id="test-doubles.mocking-the-filesystem.examples.Example.php"></a><p class="title"><strong>Exemplo 9.21: Uma classe que interage com um sistema de arquivos</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class Example
{
    protected $id;
    protected $directory;

    public function __construct($id)
    {
        $this-&gt;id = $id;
    }

    public function setDirectory($directory)
    {
        $this-&gt;directory = $directory . DIRECTORY_SEPARATOR . $this-&gt;id;

        if (!file_exists($this-&gt;directory)) {
            mkdir($this-&gt;directory, 0700, TRUE);
        }
    }
}?&gt;</pre></div></div><br class="example-break"><p>
      Sem um sistema de arquivos virtual tal como o vfsStream não poderíamos testar o 
      método <code class="literal">setDirectory()</code> isolado de influências 
      externas (veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mocking-the-filesystem.examples.ExampleTest.php" title="Exemplo 9.22: Testando uma classe que interage com o sistema de arquivos">Exemplo 9.22</a>).
    </p><div class="example"><a id="test-doubles.mocking-the-filesystem.examples.ExampleTest.php"></a><p class="title"><strong>Exemplo 9.22: Testando uma classe que interage com o sistema de arquivos</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'Example.php';

class ExampleTest extends PHPUnit_Framework_TestCase
{
    protected function setUp()
    {
        if (file_exists(dirname(__FILE__) . '/id')) {
            rmdir(dirname(__FILE__) . '/id');
        }
    }

    public function testDirectoryIsCreated()
    {
        $example = new Example('id');
        $this-&gt;assertFalse(file_exists(dirname(__FILE__) . '/id'));

        $example-&gt;setDirectory(dirname(__FILE__));
        $this-&gt;assertTrue(file_exists(dirname(__FILE__) . '/id'));
    }

    protected function tearDown()
    {
        if (file_exists(dirname(__FILE__) . '/id')) {
            rmdir(dirname(__FILE__) . '/id');
        }
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      A abordagem acima tem várias desvantagens:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Assim como um recurso externo, podem haver problemas intermitentes com o sistema de arquivos. Isso deixa os testes, com os quais interage, esquisitos.</p></li><li class="listitem"><p>Nos métodos <code class="literal">setUp()</code> e <code class="literal">tearDown()</code> temos que assegurar que o diretório não existe antes e depois do teste.</p></li><li class="listitem"><p>Quando a execução do teste termina antes do método <code class="literal">tearDown()</code> ser invocado, o diretório permanece no sistema de arquivos.</p></li></ul></div><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mocking-the-filesystem.examples.ExampleTest2.php" title="Exemplo 9.23: Falsificando o sistema de arquivos em um teste para a classe que interage com o sistema de arquivos">Exemplo 9.23</a>
      mostra como o vfsStream pode ser usado para falsificar o sistema de arquivos em um teste para uma 
      classe que interage com o sistema de arquivos.
    </p><div class="example"><a id="test-doubles.mocking-the-filesystem.examples.ExampleTest2.php"></a><p class="title"><strong>Exemplo 9.23: Falsificando o sistema de arquivos em um teste para a classe que interage com o sistema de arquivos</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'vfsStream/vfsStream.php';
require_once 'Example.php';

class ExampleTest extends PHPUnit_Framework_TestCase
{
    public function setUp()
    {
        vfsStreamWrapper::register();
        vfsStreamWrapper::setRoot(new vfsStreamDirectory('exampleDir'));
    }

    public function testDirectoryIsCreated()
    {
        $example = new Example('id');
        $this-&gt;assertFalse(vfsStreamWrapper::getRoot()-&gt;hasChild('id'));

        $example-&gt;setDirectory(vfsStream::url('exampleDir'));
        $this-&gt;assertTrue(vfsStreamWrapper::getRoot()-&gt;hasChild('id'));
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Isso tem várias vantagens:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>O próprio teste fica mais conciso.</p></li><li class="listitem"><p>O vfsStream concede ao desenvolvedor de testes controle total sobre a aparência do ambiente do sistema de arquivos para o código testado.</p></li><li class="listitem"><p>Já que as operações do sistema de arquivos não operam mais no sistema de arquivos real, operações de limpeza em um método <code class="literal">tearDown()</code> não são mais exigidas.</p></li></ul></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="testing-practices"></a>Capítulo 10. Práticas de Teste</h1></div></div></div><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tbody><tr><td width="10%" valign="top">&nbsp;</td><td width="80%" valign="top"><p>
      Você sempre pode escrever mais testes. Porém, você vai descobrir rapidamente 
      que apenas uma fração dos testes que você pode imaginar são realmente úteis. O que 
      você quer é escrever testes que falham mesmo quando você acha que eles deveriam 
      funcionar, ou testes que passam mesmo quando você acha que eles deveria falhar. 
      Outra forma de pensar sobre isso é com relação ao custo/benefício. Você quer escrever 
      testes que lhe darão retorno com informação.
    </p></td><td width="10%" valign="top">&nbsp;</td></tr><tr><td width="10%" valign="top">&nbsp;</td><td colspan="2" align="right" valign="top">--<span class="attribution">Erich Gamma</span></td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="testing-practices.during-development"></a>Durante o Desenvolvimento</h2></div></div></div><p>
      <a id="idp821312" class="indexterm"></a>

      Quando você precisa fazer uma mudança na estrutura interna do programa 
      em que está trabalhando para torná-lo mais fácil de entender e mais barato de modificar 
      sem alterar seu comportamento visível, uma suíte de testes é inestimável na 
      aplicação das assim chamadas <a class="ulink" href="http://martinfowler.com/bliki/DefinitionOfRefactoring.html" target="_top">refatorações</a> 
      seguras. De outra forma, você poderia não notar o sistema quebrando enquanto você 
      está cuidando da reestruturação.
    </p><p>
      As seguintes condições vão ajudá-lo a melhorar o código e design 
      do seu projeto, enquanto usa testes unitários para verificar que os passos de transformação 
      da refatoração são, de fato, preservadores de comportamento e não 
      introduzem erros:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Todos os testes unitários são executados corretamente.</p></li><li class="listitem"><p>O código comunica seus princípios de design.</p></li><li class="listitem"><p>O código não contém redundâncias.</p></li><li class="listitem"><p>O código contém o mínimo número de classes e métodos.</p></li></ol></div><p>
      Quando você precisar adicionar novas funcionalidades ao sistema, escreva os testes 
      primeiro. Então, você terá terminado de desenvolver quando os testes executarem. Esta 
      prática será discutida em detalhes no próximo capítulo.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="testing-practices.during-debugging"></a>Durante a Depuração</h2></div></div></div><p>
      Quando você recebe um relatório de defeito, seu impulso pode ser consertar o defeito 
      o mais rápido possível. A experiência mostra que esse impulso não vai lhe 
      servir bem; parece que o conserto de um defeito acaba causando outro 
      defeito.
    </p><p>
      Você pode conter esses seus impulsos fazendo o seguinte:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          Verifique que você pode reproduzir o defeito.
        </p></li><li class="listitem"><p>
          Encontre a demonstração em menor escala do defeito no código. 
          Por exemplo, se um número aparece incorretamente em uma saída, encontre o 
          objeto que está calculando esse número.
        </p></li><li class="listitem"><p>
          Escreva um teste automatizado que falha agora, mas vai passar quando o 
          defeito for consertado.
        </p></li><li class="listitem"><p>
          Conserte o defeito.
        </p></li></ol></div><p>
      Encontrar a menor reprodução confiável do defeito vai te dar a 
      oportunidade de examinar realmente a causa do defeito. O teste que você 
      escreve vai melhorar as chances de que, quando você consertar o defeito, você realmente 
      tê-lo consertado, porque o novo teste reduz a probabilidade de desfazer o conserto 
      com futuras modificações no código. Todos os testes que você escreveu antes reduzem a 
      probabilidade de causar diferentes problemas inadvertidamente.
    </p><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tbody><tr><td width="10%" valign="top">&nbsp;</td><td width="80%" valign="top"><p>
        Testes unitários oferecem muitas vantagens:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Testar dá aos autores e revisores dos códigos confiança de que remendos produzem os resultados corretos.</p></li><li class="listitem"><p>Criar casos de testes é um bom ímpeto para desenvolvedores descobrirem casos extremos.</p></li><li class="listitem"><p>Testar fornece uma boa maneira de capturar regressões rapidamente, e ter certeza de que nenhuma regressão será repetida duas vezes.</p></li><li class="listitem"><p>Testes unitários fornecem exemplos funcionais de como usar uma API e podem auxiliar significativamente os trabalhos de documentação.</p></li></ul></div><p>
        No geral, testes unitários integrados reduzem o custo e o risco de qualquer 
        mudança individual menor. Isso vai permitir o projeto realizar [...]
        maiores mudanças arquitetônicas [...] rápida e confiavelmente.
      </p></td><td width="10%" valign="top">&nbsp;</td></tr><tr><td width="10%" valign="top">&nbsp;</td><td colspan="2" align="right" valign="top">--<span class="attribution">Benjamin Smedberg</span></td></tr></tbody></table></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="code-coverage-analysis"></a>Capítulo 11. Análise de Cobertura de Código</h1></div></div></div><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tbody><tr><td width="10%" valign="top">&nbsp;</td><td width="80%" valign="top"><p>
      Na ciência da computação, cobertura de código é um mensuração usada para descrever o
      grau em que um código fonte de um programa é testado por uma suíte
      de testes particular. Um programa com cobertura de código alta foi mais exaustivamente 
      testado e tem uma menor chance de conter erros de software do que um programa
      com baixa cobertura de código.
    </p></td><td width="10%" valign="top">&nbsp;</td></tr><tr><td width="10%" valign="top">&nbsp;</td><td colspan="2" align="right" valign="top">--<span class="attribution">Wikipedia</span></td></tr></tbody></table></div><p>
    <a id="idp1003616" class="indexterm"></a>
    <a id="idp1004192" class="indexterm"></a>

    Neste capítulo você aprenderá tudo sobre a funcionalidade de cobertura de código 
    do PHPUnit que lhe dará uma perspicácia sobre quais partes do código de produção 
    são executadas quando os testes são executados. Ele faz uso do componente
    <a class="ulink" href="https://github.com/sebastianbergmann/php-code-coverage" target="_top">PHP_CodeCoverage</a>,
    que por sua vez utiliza a funcionalidade de cobertura de código fornecido 
    pela extensão <a class="ulink" href="http://xdebug.org/" target="_top">Xdebug</a> para PHP.
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
      Xdebug não é distribuído como parte do PHPUnit. Se você receber um aviso 
      durante a execução de testes que a extensão Xdebug não está carregada, isso significa 
      que Xdebug ou não está instalada ou não está configurada corretamente. Antes
      que você possa usar as funcionalidades de análise de cobertura de código no PHPUnit, você deve
      ler <a class="ulink" href="http://xdebug.org/docs/install" target="_top">o manual de instalação Xdebug</a>.
    </p></div><p>
    PHPUnit pode gerar um relatório de cobertura de código baseado em HTML, tal como 
    arquivos de registros baseado em XML com informações de cobertura de código em vários formatos
    (Clover, Crap4J, PHPUnit). Informação de cobertura de código também pode ser relatado 
    como texto (e impresso na STDOUT) e exportado como código PHP para futuro 
    processamento.
  </p><p>
    Por favor, consulte o <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui" title="Capítulo 3. O executor de testes em linha-de-comando">Capítulo 3</a> para uma lista de opções de linha de comando
    que controlam a funcionalidade de cobertura de código, bem como em <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.logging" title="Registrando">“Registrando”</a> para as definições de 
    configurações relevantes.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="code-coverage-analysis.metrics"></a>Métricas de Software para  Cobertura de Código</h2></div></div></div><p>
      Várias métricas de software existem para mensurar a cobertura de código:
    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="emphasis"><em>Cobertura de Linha</em></span></span></dt><dd><p>
            A métrica de software <span class="emphasis"><em>Cobertura de Linha</em></span> mensura
            se cada linha executável foi executada.
          </p></dd><dt><span class="term"><span class="emphasis"><em>Cobertura de Função e Método</em></span></span></dt><dd><p>
            A métrica de software <span class="emphasis"><em>Cobertura de Função e Método</em></span> 
            mensura se cada função ou método foi invocado.
            PHP_CodeCoverage só considera uma função ou método como coberto quando 
            todas suas linhas executáveis são cobertas.
          </p></dd><dt><span class="term"><span class="emphasis"><em>Cobertura de Classe e Trait</em></span></span></dt><dd><p>
            A métrica de software <span class="emphasis"><em>Cobertura de Classe e Trait</em></span>
            mensura se cada método de uma classe ou trait é coberto.
            PHP_CodeCoverage só considera uma classe ou trait como coberta quando todos
            seus métodos são cobertos.
          </p></dd><dt><span class="term"><span class="emphasis"><em>Cobertura de Código de Operação</em></span></span></dt><dd><p>
            A métrica de software <span class="emphasis"><em>Cobertura de Código de Operação</em></span> mensura 
            se cada código de operação de uma função ou método foi  executado enquanto 
            executa a suíte de teste. Uma linha de código geralmente compila em mais 
            de um código de operação. Cobertura de Linha considera uma linha de código como coberta 
            logo que um dos seus códigos de operações é executado.
          </p></dd><dt><span class="term"><span class="emphasis"><em>Cobertura de Ramo</em></span></span></dt><dd><p>
            A métrica de software <span class="emphasis"><em>Cobertura de Ramo</em></span> mensura
            se cada expressão booleana de cada estrutura de controle avaliada 
            a <code class="literal">true</code> e <code class="literal">false</code> enquanto
            executa a suíte de teste.
          </p></dd><dt><span class="term"><span class="emphasis"><em>Cobertura de Caminho</em></span></span></dt><dd><p>
            A métrica de software <span class="emphasis"><em>Cobertura de Caminho</em></span> mensura
            se cada um dos caminhos de execução possíveis em uma função ou método 
            foi seguido durante a execução da suíte de teste. Um caminho de execução é 
            uma sequência única de ramos a partir da entrada de uma função ou 
            método para a sua saída.
          </p></dd><dt><span class="term"><span class="emphasis"><em>Índice de Anti-Patterns de Mudança de Risco (CRAP - Change Risk Anti-Patterns)</em></span></span></dt><dd><p>
            O <span class="emphasis"><em>Índice de Anti-Patterns de Mudança de Risco (CRAP - Change Risk Anti-Patterns)</em></span> é 
            calculado baseado na complexidade ciclomática e cobertura de código de uma 
            unidade de código. Código que não é muito complexo e tem uma cobertura de teste 
            adequada terá um baixo índice CRAP. O índice CRAP pode ser reduzido
            escrevendo testes e refatorando o código para reduzir sua 
            complexidade.
          </p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        As métricas de software <span class="emphasis"><em>Cobertura de Código de Operação</em></span>,
        <span class="emphasis"><em>Cobertura de Ramo</em></span> e
        <span class="emphasis"><em>Cobertura de Caminho</em></span> ainda não são
        suportadas pelo PHP_CodeCoverage.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="code-coverage-analysis.including-excluding-files"></a>Incluindo e Excluindo Arquivos</h2></div></div></div><p>
      Por padrão, todos os arquivos de código-fonte que contém pelo menos uma linha de código que 
      tenha sido executada (e apenas esses arquivos) são incluídos no relatório 
      de cobertura de código.
    </p><p>
      <a id="idp863808" class="indexterm"></a>

      Por padrão, uma <span class="emphasis"><em>lista-negra</em></span> é usada para excluir arquivos do
      relatório de cobertura de código. Essa lista-negra é previamente preenchida com os
      arquivos-fonte do PHPUnit e suas dependências.
    </p><p>
      <a id="idp865760" class="indexterm"></a>

      É uma boa prática usar um <span class="emphasis"><em>lista-branca</em></span> ao invés da 
      lista-negra mencionada acima.
    </p><p>
      Opcionalmente, todos arquivos da lista-branca pode ser adicionados ao relatório
      de cobertura de código pela definição <code class="literal">addUncoveredFilesFromWhitelist="true"</code>
      em suas configurações do PHPUnit (veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.blacklist-whitelist" title="Incluindo e Excluindo Arquivos para Cobertura de Código">“Incluindo e Excluindo Arquivos para Cobertura de Código”</a>). Isso permite a 
      inclusão de arquivos que ainda não são testados em tudo. Se você quer obter 
      informação sobre quais linhas de um tal arquivo descoberto são executadas,
      por exemplo, você também precisa definir 
      <code class="literal">processUncoveredFilesFromWhitelist="true"</code> em suas 
      configurações do PHPUnit (veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.blacklist-whitelist" title="Incluindo e Excluindo Arquivos para Cobertura de Código">“Incluindo e Excluindo Arquivos para Cobertura de Código”</a>).
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        Por favor, note que o carregamento de arquivos de código-fonte que é realizado, quando
        <code class="literal">processUncoveredFilesFromWhitelist="true"</code> é definido, pode 
        causar problemas quando um arquivo de código-fonte contém código fora do escopo de 
        uma classe ou função, por exemplo.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="code-coverage-analysis.ignoring-code-blocks"></a>Ignorando Blocos de Código</h2></div></div></div><p>
      <a id="idp873312" class="indexterm"></a>
      <a id="idp873888" class="indexterm"></a>
      <a id="idp874464" class="indexterm"></a>
      <a id="idp875056" class="indexterm"></a>

      Às vezes você tem blocos de código que não pode testar e que pode 
      querer ignorar durante a análise de cobertura de código. O PHPUnit permite que você o faça 
      usando as anotações <code class="literal">@codeCoverageIgnore</code>,
      <code class="literal">@codeCoverageIgnoreStart</code> e
      <code class="literal">@codeCoverageIgnoreEnd</code> como mostrado em 
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.ignoring-code-blocks.examples.Sample.php" title="Exemplo 11.1: Usando as anotações @codeCoverageIgnore, @codeCoverageIgnoreStart e @codeCoverageIgnoreEnd">Exemplo 11.1</a>.
    </p><div class="example"><a id="code-coverage-analysis.ignoring-code-blocks.examples.Sample.php"></a><p class="title"><strong>Exemplo 11.1: Usando as anotações <code class="literal">@codeCoverageIgnore</code>, <code class="literal">@codeCoverageIgnoreStart</code> e <code class="literal">@codeCoverageIgnoreEnd</code></strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
/**
 * @codeCoverageIgnore
 */
class Foo
{
    public function bar()
    {
    }
}

class Bar
{
    /**
     * @codeCoverageIgnore
     */
    public function foo()
    {
    }
}

if (FALSE) {
    // @codeCoverageIgnoreStart
    print '*';
    // @codeCoverageIgnoreEnd
}

exit; // @codeCoverageIgnore
?&gt;</pre></div></div><br class="example-break"><p>
      As linhas de código ignoradas (marcadas como ignoradas usando as anotações)
      são contadas como executadas (se forem executáveis) e não serão 
      destacadas.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="code-coverage-analysis.specifying-covered-methods"></a>Especificando métodos cobertos</h2></div></div></div><p>
      <a id="idp883232" class="indexterm"></a>
      <a id="idp883808" class="indexterm"></a>

      A anotação <code class="literal">@covers</code> (veja
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.covers.tables.annotations" title="Tabela B.1. Anotações para especificar quais métodos são cobertos por um teste">Tabela B.1</a>) pode ser 
      usada em um código de teste para especificar qual(is) método(s) um método de teste quer 
      testar. Se fornecido, apenas a informação de cobertura de código para o(s) método(s) 
      especificado(s) será considerada.
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.specifying-covered-methods.examples.BankAccountTest.php" title="Exemplo 11.2: Testes que especificam quais métodos querem cobrir">Exemplo 11.2</a>
      mostra um exemplo.
    </p><div class="example"><a id="code-coverage-analysis.specifying-covered-methods.examples.BankAccountTest.php"></a><p class="title"><strong>Exemplo 11.2: Testes que especificam quais métodos querem cobrir</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class BankAccountTest extends PHPUnit_Framework_TestCase
{
    protected $ba;

    protected function setUp()
    {
        $this-&gt;ba = new BankAccount;
    }

    /**
     * @covers BankAccount::getBalance
     */
    public function testBalanceIsInitiallyZero()
    {
        $this-&gt;assertEquals(0, $this-&gt;ba-&gt;getBalance());
    }

    /**
     * @covers BankAccount::withdrawMoney
     */
    public function testBalanceCannotBecomeNegative()
    {
        try {
            $this-&gt;ba-&gt;withdrawMoney(1);
        }

        catch (BankAccountException $e) {
            $this-&gt;assertEquals(0, $this-&gt;ba-&gt;getBalance());

            return;
        }

        $this-&gt;fail();
    }

    /**
     * @covers BankAccount::depositMoney
     */
    public function testBalanceCannotBecomeNegative2()
    {
        try {
            $this-&gt;ba-&gt;depositMoney(-1);
        }

        catch (BankAccountException $e) {
            $this-&gt;assertEquals(0, $this-&gt;ba-&gt;getBalance());

            return;
        }

        $this-&gt;fail();
    }

    /**
     * @covers BankAccount::getBalance
     * @covers BankAccount::depositMoney
     * @covers BankAccount::withdrawMoney
     */
    public function testDepositWithdrawMoney()
    {
        $this-&gt;assertEquals(0, $this-&gt;ba-&gt;getBalance());
        $this-&gt;ba-&gt;depositMoney(1);
        $this-&gt;assertEquals(1, $this-&gt;ba-&gt;getBalance());
        $this-&gt;ba-&gt;withdrawMoney(1);
        $this-&gt;assertEquals(0, $this-&gt;ba-&gt;getBalance());
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      <a id="idp889936" class="indexterm"></a>
      <a id="idp890512" class="indexterm"></a>

      Também é possível especificar que um teste não deve cobrir
      <span class="emphasis"><em>qualquer</em></span> método usando a anotação
      <code class="literal">@coversNothing</code> (veja
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.coversNothing" title="@coversNothing">“@coversNothing”</a>). Isso pode ser 
      útil quando escrever testes de integração para certificar-se de que você só 
      gerará cobertura de código com testes unitários.
    </p><div class="example"><a id="code-coverage-analysis.specifying-covered-methods.examples.GuestbookIntegrationTest.php"></a><p class="title"><strong>Exemplo 11.3: Um teste que especifica que nenhum método deve ser coberto</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class GuestbookIntegrationTest extends PHPUnit_Extensions_Database_TestCase
{
    /**
     * @coversNothing
     */
    public function testAddEntry()
    {
        $guestbook = new Guestbook();
        $guestbook-&gt;addEntry("suzy", "Hello world!");

        $queryTable = $this-&gt;getConnection()-&gt;createQueryTable(
            'guestbook', 'SELECT * FROM guestbook'
        );

        $expectedTable = $this-&gt;createFlatXmlDataSet("expectedBook.xml")
                              -&gt;getTable("guestbook");

        $this-&gt;assertTablesEqual($expectedTable, $queryTable);
    }
}
?&gt;
      </pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="code-coverage-analysis.edge-cases"></a>Casos Extremos</h2></div></div></div><p>
      Esta seção mostra casos extremos notáveis que induz a confundir a informação
      de cobertura de código.
    </p><div class="example"><a id="code-coverage-analysis.edge-cases.examples.Sample.php"></a><p class="title"><strong>Exemplo 11.4: </strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
// Por ser "baseado em linha" e não em declaração,
// uma linha sempre terá um estado de cobertura
if (false) this_function_call_shows_up_as_covered();

// Devido ao modo que a cobertura de código funciona internamente, estas duas linhas são especiais.
// Esta linha vai aparecer como não-executável
if (false)
    // Esta linha vai aparecer como coberta, pois de fato é a cobertura
    // da declaração if da linha anterior que é mostrada aqui!
    will_also_show_up_as_covered();

// Para evitar isso é necessário usar chaves
if (false) {
    this_call_will_never_show_up_as_covered();
}
?&gt;</pre></div></div><br class="example-break"></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="other-uses-for-tests"></a>Capítulo 12. Outros Usos para Testes</h1></div></div></div><p>
    Uma vez que você se acostumar a escrever testes automatizados, você vai querer descobrir 
    mais usos para testes. Aqui temos alguns exemplos.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="other-uses-for-tests.agile-documentation"></a>Documentação Ágil</h2></div></div></div><p>
      <a id="idp351632" class="indexterm"></a>
      <a id="idp352208" class="indexterm"></a>
      <a id="idp352752" class="indexterm"></a>
      <a id="idp353328" class="indexterm"></a>

      Tipicamente, em um projeto desenvolvido usando um processo ágil, 
      como a Programação Extrema, a documentação não pode se manter com as 
      mudanças frequentes do design e código do projeto. Programação Extrema 
      exige <span class="emphasis"><em>propriedade coletiva de código</em></span>, então todos 
      os desenvolvedores precisam saber como o sistema todo funciona. Se você for 
      disciplinado o suficiente para consequentemente usar "nomes falantes" para seus testes
      que descrevam o que cada classe deveria fazer, você pode usar a funcionalidade TestDox 
      do PHPUnit para gerar documentação automatizada para seu projeto baseada 
      nos testes. Essa documentação dá aos desenvolvedores uma visão geral sobre o que 
      cada classe do projeto deveria fazer.
    </p><p>
      A funcionalidade TestDox do PHPUnit olha para uma classe de teste e todos os nomes 
      dos métodos de teste e os converte de nomes camelCase do PHP para sentenças:
      <code class="literal">testBalanceIsInitiallyZero()</code> se torna "Balance is
      initially zero". Se houverem vários métodos de teste cujos nomes apenas 
      diferem em um sufixo de um ou mais dígitos, como em
      <code class="literal">testBalanceCannotBecomeNegative()</code> e
      <code class="literal">testBalanceCannotBecomeNegative2()</code>, a sentença 
      "Balance is initially zero" aparecerá apenas uma vez, assumindo-se que todos os testes foram bem-sucedidos.
    </p><p>
      Vamos dar uma olhada na documentação ágil gerada para a 
      classe <code class="literal">BankAccount</code>:
    </p><pre class="screen"><strong class="userinput"><code>phpunit --testdox BankAccountTest</code></strong>
PHPUnit 6.2.0 by Sebastian Bergmann and contributors.

BankAccount
 [x] Balance is initially zero
 [x] Balance cannot become negative</pre><p>
      Alternativamente, a documentação ágil pode ser gerada nos formatos HTML ou 
      texto plano e escrita em um arquivo usando os argumentos <code class="literal">--testdox-html</code>
      e <code class="literal">--testdox-text</code>.
    </p><p>
      <a id="idp918320" class="indexterm"></a>

      A Documentação Ágil pode ser usada para documentar as suposições que você 
      faz sobre os pacotes externos que você usa em seu projeto. Quando você usa 
      um pacote externo, você está exposto ao risco do pacote não se 
      comportar como você espera, e de futuras versões do pacote mudarem 
      de formas súbitas que quebrarão o seu código, sem que você saiba. 
      Você pode dar um jeito nesses problemas escrevendo um teste toda vez que fizer uma 
      suposição. Se seu teste for bem sucedido, sua suposição é válida. Se você 
      documentar todas as suas suposições com testes, futuras versões do pacote 
      externo não serão motivo de preocupação: se o teste for bem-sucedido, 
      seu sistema deverá continuar funcionando.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="other-uses-for-tests.cross-team-tests"></a>Testes Inter-Equipes</h2></div></div></div><p>
      Quando você documenta suposições com testes, você possui os testes. O 
      fornecedor do pacote -- sobre o qual você faz suposições -- não sabe 
      nada sobre seus testes. Se você quer ter um relacionamento mais próximo 
      com o fornecedor do pacote, você pode usar os testes para comunicar 
      e coordenar suas atividades.
    </p><p>
      Quando você concorda em coordenar suas atividades com o fornecedor de um 
      pacote, vocês podem escrever os testes juntos. Faça isso de modo que 
      os testes revelem o máximo possível de suposições. Suposições escondidas são 
      a morte da cooperação. Com os testes você documenta exatamente o que você 
      espera de um pacote fornecido. O fornecedor vai saber que o pacote está 
      completo quando todos os testes executarem.
    </p><p>
      <a id="idp922896" class="indexterm"></a>

      Usando esboços (veja o capítulo em "Objetos Falsos", anteriormente neste livro), 
      você pode chegar a se desassociar do fornecedor: O trabalho do 
      fornecedor é fazer os testes executarem com a implementação real do 
      pacote. O seu trabalho é fazer os testes executarem para seu próprio código. Até 
      esse momento como você tem a implementação real do pacote fornecido, 
      você usa objetos esboçados. Seguindo esta abordagem, os dois times podem desenvolver 
      independentemente.
    </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="selenium"></a>Capítulo 13. PHPUnit e Selenium</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="selenium.selenium-rc"></a>Servidor Selenium</h2></div></div></div><p>
      <a id="idp857408" class="indexterm"></a>

      <a class="ulink" href="http://seleniumhq.org/" target="_top">Servidor Selenium</a> é uma 
      ferramenta de testes que permite a você escrever testes automatizados de interface de usuário para 
      aplicações web em qualquer linguagem de programação contra qualquer website HTTP 
      usando um dos principais navegadores. Ele realiza tarefas automatizadas no navegador 
      guiando seu processo através do sistema operacional. 
      O Selenium executa os testes diretamente em um navegador, exatamente como os usuários reais fazem. Esses 
      testes podem ser usados para ambos <span class="emphasis"><em>testes de aceitação</em></span>
      (realizando testes de alto-nível no sistema integrado em vez de 
      apenas testar cada unidade do sistema independentemente) e 
      <span class="emphasis"><em>testes de compatibilidade de navegador</em></span> (testando a aplicação web em 
      diferentes sistemas operacionais e navegadores).
    </p><p>
      O único cenário suportado do PHPUnit_Selenium é o do servidor Selenium 2.x. 
      O servidor pode ser acessado através da Api clássica Selenium RC, já presente no 1.x, ou com a API WebDriver (parcialmente implementada) do PHPUnit_Selenium 1.2.
    </p><p>
      A razão por trás dessa decisão é que o Selenium 2 é compatível e o Selenium RC não é mais mantido.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="selenium.installation"></a>Instalação</h2></div></div></div><p>
      Primeiro, instale o Servidor Selenium:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Baixe um arquivo de distribuição do <a class="ulink" href="http://seleniumhq.org/download/" target="_top">Servidor Selenium</a>.</li><li class="listitem">Descompacte o arquivo de distribuição e copie o <code class="filename">selenium-server-standalone-2.9.0.jar</code> (verifique o sufixo da versão) para <code class="filename">/usr/local/bin</code>, por exemplo.</li><li class="listitem">Inicie o Servidor Selenium executando <strong class="userinput"><code>java -jar /usr/local/bin/selenium-server-standalone-2.9.0.jar</code></strong>.</li></ol></div><p>
      O pacote PHPUnit_Selenium está incluso na distribuição PHAR 
      do PHPUnit. Ele pode ser instalado através do Composer, adicionando a seguinte
      dependência <code class="literal">"require-dev"</code>:
    </p><pre class="screen"><strong class="userinput"><code>"phpunit/phpunit-selenium": "&gt;=1.2"</code></strong></pre><p>
      Agora podemos enviar comandos para o Servidor Selenium usando seu protocolo 
      cliente/servidor.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="selenium.selenium2testcase"></a>PHPUnit_Extensions_Selenium2TestCase</h2></div></div></div><p>
      <a id="idp1378064" class="indexterm"></a>

      O caso de teste <code class="literal">PHPUnit_Extensions_Selenium2TestCase</code> permite a você usar a API WebDriver (parcialmente implementada).
    </p><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.selenium2testcase.examples.WebTest.php" title="Exemplo 13.1: Exemplo de uso para PHPUnit_Extensions_Selenium2TestCase">Exemplo 13.1</a> mostra 
      como testar os conteúdos do elemento <code class="literal">&lt;title&gt;</code>
      do site 
      <code class="systemitem">http://www.example.com/</code>.
    </p><div class="example"><a id="selenium.selenium2testcase.examples.WebTest.php"></a><p class="title"><strong>Exemplo 13.1: Exemplo de uso para PHPUnit_Extensions_Selenium2TestCase</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class WebTest extends PHPUnit_Extensions_Selenium2TestCase
{
    protected function setUp()
    {
        $this-&gt;setBrowser('firefox');
        $this-&gt;setBrowserUrl('http://www.example.com/');
    }

    public function testTitle()
    {
        $this-&gt;url('http://www.example.com/');
        $this-&gt;assertEquals('Example WWW Page', $this-&gt;title());
    }

}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit WebTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 28 seconds, Memory: 3.00Mb

There was 1 failure:

1) WebTest::testTitle
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Example WWW Page'
+'IANA — Example domains'

/home/giorgio/WebTest.php:13

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p>
      Os comandos do Selenium2TestCase são implementados via __call(). Por favor, recorra ao <a class="ulink" href="https://github.com/sebastianbergmann/phpunit-selenium/blob/master/Tests/Selenium2TestCaseTest.php" target="_top">teste de ponta a ponta para o PHPUnit_Extensions_Selenium2TestCase</a> para uma lista de cada característica suportada.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="selenium.seleniumtestcase"></a>PHPUnit_Extensions_SeleniumTestCase</h2></div></div></div><p>
      <a id="idp1387264" class="indexterm"></a>

      A extensão de caso de teste <code class="literal">PHPUnit_Extensions_SeleniumTestCase</code> 
      implementa o protocolo cliente/servidor para conversar com o Servidor Selenium assim como 
      métodos de asserção especializados para testes web.
    </p><p>
      O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.seleniumtestcase.examples.WebTest.php" title="Exemplo 13.2: Exemplo de uso para PHPUnit_Extensions_SeleniumTestCase">Exemplo 13.2</a> mostra 
      como testar os conteúdos do elemento <code class="literal">&lt;title&gt;</code>
      para o site 
      <code class="systemitem">http://www.exemplo.com/</code>.
    </p><div class="example"><a id="selenium.seleniumtestcase.examples.WebTest.php"></a><p class="title"><strong>Exemplo 13.2: Exemplo de uso para PHPUnit_Extensions_SeleniumTestCase</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'PHPUnit/Extensions/SeleniumTestCase.php';

class WebTest extends PHPUnit_Extensions_SeleniumTestCase
{
    protected function setUp()
    {
        $this-&gt;setBrowser('*firefox');
        $this-&gt;setBrowserUrl('http://www.example.com/');
    }

    public function testTitle()
    {
        $this-&gt;open('http://www.example.com/');
        $this-&gt;assertTitle('Example WWW Page');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit WebTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 9 seconds, Memory: 6.00Mb

There was 1 failure:

1) WebTest::testTitle
Current URL: http://www.iana.org/domains/example/

Failed asserting that 'IANA — Example domains' matches PCRE pattern "/Example WWW Page/".


FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p>
      Diferente da classe <code class="literal">PHPUnit_Framework_TestCase</code>,
      classes de caso de teste que estendem o <code class="literal">PHPUnit_Extensions_SeleniumTestCase</code> 
      têm que fornecer um método <code class="literal">setUp()</code>. Esse método é usado 
      para configurar a sessão do Servidor Selenium. Veja
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.seleniumtestcase.tables.seleniumrc-api.setup" title="Tabela 13.1. API do Servidor Selenium: Setup">Tabela 13.1</a>
      para uma lista de métodos que estão disponíveis para isso.
    </p><div class="table"><a id="selenium.seleniumtestcase.tables.seleniumrc-api.setup"></a><p class="title"><strong>Tabela 13.1. API do Servidor Selenium: Setup</strong></p><div class="table-contents"><table class="table" summary="API do Servidor Selenium: Setup" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">Método</th><th align="left">Significado</th></tr></thead><tbody><tr><td align="left"><code class="literal">void setBrowser(string $browser)</code></td><td align="left">Define o navegador a ser usado pelo Servidor Selenium.</td></tr><tr><td align="left"><code class="literal">void setBrowserUrl(string $browserUrl)</code></td><td align="left">Define a URL base para os testes.</td></tr><tr><td align="left"><code class="literal">void setHost(string $host)</code></td><td align="left">Define o nome do host para a conexão do Servidor Selenium.</td></tr><tr><td align="left"><code class="literal">void setPort(int $port)</code></td><td align="left">Define a porta de conexão para o Servidor Selenium</td></tr><tr><td align="left"><code class="literal">void setTimeout(int $timeout)</code></td><td align="left">Define o tempo de espera para a conexão do Servidor Selenium.</td></tr><tr><td align="left"><code class="literal">void setSleep(int $seconds)</code></td><td align="left">Define o número de segundos que o cliente do Servidor Selenium deve esperar entre cada envio de comandos de ação para o Servidor Selenium.</td></tr></tbody></table></div></div><br class="table-break"><p>
      O PHPUnit pode opcionalmente capturar a tela quando um teste do Selenium falha. Para 
      habilitar isso, configure <code class="literal">$captureScreenshotOnFailure</code>,
      <code class="literal">$screenshotPath</code> e <code class="literal">$screenshotUrl</code>
      em sua classe de caso de teste como mostrado em
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.seleniumtestcase.examples.WebTest2.php" title="Exemplo 13.3: Capturando a tela quando um teste falha">Exemplo 13.3</a>.
    </p><div class="example"><a id="selenium.seleniumtestcase.examples.WebTest2.php"></a><p class="title"><strong>Exemplo 13.3: Capturando a tela quando um teste falha</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'PHPUnit/Extensions/SeleniumTestCase.php';

class WebTest extends PHPUnit_Extensions_SeleniumTestCase
{
    protected $captureScreenshotOnFailure = TRUE;
    protected $screenshotPath = '/var/www/localhost/htdocs/screenshots';
    protected $screenshotUrl = 'http://localhost/screenshots';

    protected function setUp()
    {
        $this-&gt;setBrowser('*firefox');
        $this-&gt;setBrowserUrl('http://www.example.com/');
    }

    public function testTitle()
    {
        $this-&gt;open('http://www.example.com/');
        $this-&gt;assertTitle('Example WWW Page');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit WebTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 7 seconds, Memory: 6.00Mb

There was 1 failure:

1) WebTest::testTitle
Current URL: http://www.iana.org/domains/example/
Screenshot: http://localhost/screenshots/334b080f2364b5.21568ee1c7f6742c9.png

Failed asserting that 'IANA — Example domains' matches PCRE pattern "/Example WWW Page/".


FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p>
      Você pode executar cada teste usando um conjunto de navegadores: Em vez de usar
      <code class="literal">setBrowser()</code> para configurar um navegador, você pode declarar um 
      vetor <code class="literal">public static</code> chamado <code class="literal">$browsers</code>
      em sua classe de caso de testes. Cada item nesse vetor descreve uma configuração 
      de navegador. Cada um desses navegadores pode ser hospedado em diferentes 
      Servidores Selenium.
      O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.seleniumtestcase.examples.WebTest3.php" title="Exemplo 13.4: Definindo configurações de múltiplos navegadores">Exemplo 13.4</a> mostra 
      um exemplo.
    </p><div class="example"><a id="selenium.seleniumtestcase.examples.WebTest3.php"></a><p class="title"><strong>Exemplo 13.4: Definindo configurações de múltiplos navegadores</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'PHPUnit/Extensions/SeleniumTestCase.php';

class WebTest extends PHPUnit_Extensions_SeleniumTestCase
{
    public static $browsers = array(
      array(
        'name'    =&gt; 'Firefox on Linux',
        'browser' =&gt; '*firefox',
        'host'    =&gt; 'my.linux.box',
        'port'    =&gt; 4444,
        'timeout' =&gt; 30000,
      ),
      array(
        'name'    =&gt; 'Safari on MacOS X',
        'browser' =&gt; '*safari',
        'host'    =&gt; 'my.macosx.box',
        'port'    =&gt; 4444,
        'timeout' =&gt; 30000,
      ),
      array(
        'name'    =&gt; 'Safari on Windows XP',
        'browser' =&gt; '*custom C:\Program Files\Safari\Safari.exe -url',
        'host'    =&gt; 'my.windowsxp.box',
        'port'    =&gt; 4444,
        'timeout' =&gt; 30000,
      ),
      array(
        'name'    =&gt; 'Internet Explorer on Windows XP',
        'browser' =&gt; '*iexplore',
        'host'    =&gt; 'my.windowsxp.box',
        'port'    =&gt; 4444,
        'timeout' =&gt; 30000,
      )
    );

    protected function setUp()
    {
        $this-&gt;setBrowserUrl('http://www.example.com/');
    }

    public function testTitle()
    {
        $this-&gt;open('http://www.example.com/');
        $this-&gt;assertTitle('Example Web Page');
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      <code class="literal">PHPUnit_Extensions_SeleniumTestCase</code> pode coletar a 
      informação de cobertura de código para execução de testes através do Selenium:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Copie <code class="filename">PHPUnit/Extensions/SeleniumCommon/phpunit_coverage.php</code> dentro do seu diretório raiz de documentos do servidor web.</li><li class="listitem">Em seu arquivo de configuração <code class="filename">php.ini</code> do servidor web, configure <code class="filename">PHPUnit/Extensions/SeleniumCommon/prepend.php</code> e <code class="filename">PHPUnit/Extensions/SeleniumCommon/append.php</code> como o <code class="literal">auto_prepend_file</code> e <code class="literal">auto_append_file</code>, respectivamente.</li><li class="listitem">Na sua classe de caso de teste que estende <code class="literal">PHPUnit_Extensions_SeleniumTestCase</code>, use <pre class="programlisting">protected $coverageScriptUrl = 'http://host/phpunit_coverage.php';</pre> para configurar a URL para o script <code class="filename">phpunit_coverage.php</code>.</li></ol></div><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.seleniumtestcase.tables.assertions" title="Tabela 13.2. Asserções">Tabela 13.2</a> lista os 
      vários métodos de asserção que o <code class="literal">PHPUnit_Extensions_SeleniumTestCase</code>
      fornece.
    </p><div class="table"><a id="selenium.seleniumtestcase.tables.assertions"></a><p class="title"><strong>Tabela 13.2. Asserções</strong></p><div class="table-contents"><table class="table" summary="Asserções" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">Asserção</th><th align="left">Significado</th></tr></thead><tbody><tr><td align="left"><code class="literal">void assertElementValueEquals(string $locator, string $text)</code></td><td align="left">Relata um erro se o valor do elemento identificado por <code class="literal">$locator</code> não é igual ao <code class="literal">$text</code> informado.</td></tr><tr><td align="left"><code class="literal">void assertElementValueNotEquals(string $locator, string $text)</code></td><td align="left">Relata um erro se o valor do elemento identificado por <code class="literal">$locator</code> é igual ao <code class="literal">$text</code> informado.</td></tr><tr><td align="left"><code class="literal">void assertElementValueContains(string $locator, string $text)</code></td><td align="left">Relata um erro se o valor do elemento identificado por <code class="literal">$locator</code> não contém o <code class="literal">$text</code> informado.</td></tr><tr><td align="left"><code class="literal">void assertElementValueNotContains(string $locator, string $text)</code></td><td align="left">Relata um erro se o valor do elemento identificado por <code class="literal">$locator</code> contém o <code class="literal">$text</code> informado.</td></tr><tr><td align="left"><code class="literal">void assertElementContainsText(string $locator, string $text)</code></td><td align="left">Relata um erro se o elemento identificado por <code class="literal">$locator</code> não contém o <code class="literal">$text</code> informado.</td></tr><tr><td align="left"><code class="literal">void assertElementNotContainsText(string $locator, string $text)</code></td><td align="left">Relata um erro se o elemento identificado por <code class="literal">$locator</code> contém o <code class="literal">$text</code> informado.</td></tr><tr><td align="left"><code class="literal">void assertSelectHasOption(string $selectLocator, string $option)</code></td><td align="left">Relata um erro se a opção informada não estiver disponível.</td></tr><tr><td align="left"><code class="literal">void assertSelectNotHasOption(string $selectLocator, string $option)</code></td><td align="left">Relata um erro se a opção informada estiver disponível.</td></tr><tr><td align="left"><code class="literal">void assertSelected($selectLocator, $option)</code></td><td align="left">Relata um erro se o rótulo informado não estiver selecionado.</td></tr><tr><td align="left"><code class="literal">void assertNotSelected($selectLocator, $option)</code></td><td align="left">Relata um erro se o rótulo informado estiver selecionado.</td></tr><tr><td align="left"><code class="literal">void assertIsSelected(string $selectLocator, string $value)</code></td><td align="left">Relata um erro se o valor informado não estiver selecionado.</td></tr><tr><td align="left"><code class="literal">void assertIsNotSelected(string $selectLocator, string $value)</code></td><td align="left">Relata um erro se o valor informado estiver selecionado.</td></tr></tbody></table></div></div><br class="table-break"><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.seleniumtestcase.tables.template-methods" title="Tabela 13.3. Métodos Modelo">Tabela 13.3</a> mostra 
      o método modelo de <code class="literal">PHPUnit_Extensions_SeleniumTestCase</code>:
    </p><div class="table"><a id="selenium.seleniumtestcase.tables.template-methods"></a><p class="title"><strong>Tabela 13.3. Métodos Modelo</strong></p><div class="table-contents"><table class="table" summary="Métodos Modelo" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">Método</th><th align="left">Significado</th></tr></thead><tbody><tr><td align="left"><code class="literal">void defaultAssertions()</code></td><td align="left">Sobreposição para realizar asserções que são compartilhadas por todos os testes de um caso de teste. Este método é chamado após cada comando ser enviado ao Servidor Selenium.</td></tr></tbody></table></div></div><br class="table-break"><p>
      Por favor, verifique a <a class="ulink" href="http://release.seleniumhq.org/selenium-core/1.0.1/reference.html" target="_top">documentação dos comandos do Selenium</a> 
      para uma referência de todos os comandos disponíveis e como eles são utilizados.
    </p><p>
    Os comandos do Selenium 1 são implementados dinamicamente via __call. Verifique também <a class="ulink" href="https://github.com/sebastianbergmann/phpunit-selenium/blob/master/PHPUnit/Extensions/SeleniumTestCase/Driver.php#L410" target="_top">a documentação da API para PHPUnit_Extensions_SeleniumTestCase_Driver::__call()</a> para uma lista de todos os métodos suportados do lado do PHP, juntamente com argumentos e tipos de retorno quando disponíveis.
    </p><p>
      Usando o método <code class="literal">runSelenese($filename)</code> você também pode 
      executar um teste Selenium a partir de sua especificação Selenese/HTML. Além disso, 
      usando o atributo estático <code class="literal">$seleneseDirectory</code>, você pode 
      criar automaticamente objetos de teste a partir de um diretório que contenha 
      arquivos Selenese/HTML. O diretório especificado é pesquisado recursivamente por 
      arquivos <code class="literal">.htm</code> que possam conter Selenese/HTML.
     O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.seleniumtestcase.examples.WebTest4.php" title="Exemplo 13.5: Usando um diretório de arquivos Selenese/HTML como testes">Exemplo 13.5</a> mostra um 
     exemplo.
    </p><div class="example"><a id="selenium.seleniumtestcase.examples.WebTest4.php"></a><p class="title"><strong>Exemplo 13.5: Usando um diretório de arquivos Selenese/HTML como testes</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'PHPUnit/Extensions/SeleniumTestCase.php';

class SeleneseTests extends PHPUnit_Extensions_SeleniumTestCase
{
    public static $seleneseDirectory = '/path/to/files';
}
?&gt;</pre></div></div><br class="example-break"><p>
    Desde o Selenium 1.1.1, um recurso experimental foi incluído para permitir ao usuário compartilhar a sessão entre testes. O único caso suportado é compartilhar a sessão entre todos os testes quando um único navegador é usado. 
    Chame <code class="literal">PHPUnit_Extensions_SeleniumTestCase::shareSession(true)</code> em seu arquivo bootstrap para habilitar o compartilhamento de sessão. 
    A sessão será reiniciada no caso de testes mal-sucedidos (falhos ou incompletos); cabe ao usuário evitar interações entre testes seja resetando cookies ou deslogando da aplicação sob teste (com um método tearDown()).
    </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="logging"></a>Capítulo 14. Registrando</h1></div></div></div><p>
    <a id="idp924592" class="indexterm"></a>

    O PHPUnit pode produzir vários tipos de arquivos de registro (logfiles).
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="logging.xml"></a>Resultados de Teste (XML)</h2></div></div></div><p>
      O arquivo de registro XML para resultados de testes produzidos pelo PHPUnit é baseado naquele 
      usado pela <a class="ulink" href="http://ant.apache.org/manual/Tasks/junit.html" target="_top">tarefa do 
      JUnit para Apache Ant</a>. O seguinte exemplo mostra o arquivo de 
      registro XML gerado para os testes em <code class="literal">ArrayTest</code>:
    </p><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;testsuites&gt;
  &lt;testsuite name="ArrayTest"
             file="/home/sb/ArrayTest.php"
             tests="2"
             assertions="2"
             failures="0"
             errors="0"
             time="0.016030"&gt;
    &lt;testcase name="testNewArrayIsEmpty"
              class="ArrayTest"
              file="/home/sb/ArrayTest.php"
              line="6"
              assertions="1"
              time="0.008044"/&gt;
    &lt;testcase name="testArrayContainsAnElement"
              class="ArrayTest"
              file="/home/sb/ArrayTest.php"
              line="15"
              assertions="1"
              time="0.007986"/&gt;
  &lt;/testsuite&gt;
&lt;/testsuites&gt;</pre><p>
      O seguinte arquivo de registro XML foi gerado por dois testes,
      <code class="literal">testFailure</code> e <code class="literal">testError</code>,
      de uma classe de caso de teste chamada <code class="literal">FailureErrorTest</code> e
      mostra como falhas e erros são denotadas.
    </p><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;testsuites&gt;
  &lt;testsuite name="FailureErrorTest"
             file="/home/sb/FailureErrorTest.php"
             tests="2"
             assertions="1"
             failures="1"
             errors="1"
             time="0.019744"&gt;
    &lt;testcase name="testFailure"
              class="FailureErrorTest"
              file="/home/sb/FailureErrorTest.php"
              line="6"
              assertions="1"
              time="0.011456"&gt;
      &lt;failure type="PHPUnit_Framework_ExpectationFailedException"&gt;
testFailure(FailureErrorTest)
Failed asserting that &amp;lt;integer:2&amp;gt; matches expected value &amp;lt;integer:1&amp;gt;.

/home/sb/FailureErrorTest.php:8
&lt;/failure&gt;
    &lt;/testcase&gt;
    &lt;testcase name="testError"
              class="FailureErrorTest"
              file="/home/sb/FailureErrorTest.php"
              line="11"
              assertions="0"
              time="0.008288"&gt;
      &lt;error type="Exception"&gt;testError(FailureErrorTest)
Exception:

/home/sb/FailureErrorTest.php:13
&lt;/error&gt;
    &lt;/testcase&gt;
  &lt;/testsuite&gt;
&lt;/testsuites&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="logging.tap"></a>Resultados de Teste (TAP)</h2></div></div></div><p>
      O <a class="ulink" href="http://testanything.org/" target="_top">Protocolo de Qualquer Teste (TAP - Test Anything Protocol)</a>
      é uma interface simples baseada em texto do Perl entre módulos de teste. O 
      seguinte exemplo mostra o arquivo de registro TAP gerado para os testes em
      <code class="literal">ArrayTest</code>:
    </p><pre class="screen">TAP version 13
ok 1 - testNewArrayIsEmpty(ArrayTest)
ok 2 - testArrayContainsAnElement(ArrayTest)
1..2</pre><p>
      O seguinte arquivo de registro TAP foi gerado para dois testes,
      <code class="literal">testFailure</code> e <code class="literal">testError</code>,
      de uma classe de caso de teste chamada <code class="literal">FailureErrorTest</code> e
      mostra como falhas e erros são denotados.
    </p><pre class="screen">TAP version 13
not ok 1 - Failure: testFailure(FailureErrorTest)
  ---
  message: 'Failed asserting that &lt;integer:2&gt; matches expected value &lt;integer:1&gt;.'
  severity: fail
  data:
    got: 2
    expected: 1
  ...
not ok 2 - Error: testError(FailureErrorTest)
1..2</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="logging.json"></a>Resultados de Teste (JSON)</h2></div></div></div><p>
      A <a class="ulink" href="http://www.json.org/" target="_top">Notação de Objeto JavaScript (JSON - JavaScript Object Notation)</a>
      é um formato de intercâmbio de dados leve. O seguinte exemplo mostra 
      as mensagens JSON geradas para os testes em <code class="literal">ArrayTest</code>:
    </p><pre class="screen">{"event":"suiteStart","suite":"ArrayTest","tests":2}
{"event":"test","suite":"ArrayTest",
 "test":"testNewArrayIsEmpty(ArrayTest)","status":"pass",
 "time":0.000460147858,"trace":[],"message":""}
{"event":"test","suite":"ArrayTest",
 "test":"testArrayContainsAnElement(ArrayTest)","status":"pass",
 "time":0.000422954559,"trace":[],"message":""}</pre><p>
      As mensagens JSON seguintes foram geradas para dois testes,
      <code class="literal">testFailure</code> e <code class="literal">testError</code>,
      de uma classe de caso de teste chamada <code class="literal">FailureErrorTest</code> e
      mostra como falhas e erros são denotados.
    </p><pre class="screen">{"event":"suiteStart","suite":"FailureErrorTest","tests":2}
{"event":"test","suite":"FailureErrorTest",
 "test":"testFailure(FailureErrorTest)","status":"fail",
 "time":0.0082459449768066,"trace":[],
 "message":"Failed asserting that &lt;integer:2&gt; is equal to &lt;integer:1&gt;."}
{"event":"test","suite":"FailureErrorTest",
 "test":"testError(FailureErrorTest)","status":"error",
 "time":0.0083680152893066,"trace":[],"message":""}</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="logging.codecoverage.xml"></a>Cobertura de Código (XML)</h2></div></div></div><p>
      O formato XML para registro de informação de cobertura de código produzido pelo PHPUnit 
      é amplamente baseado naquele usado pelo <a class="ulink" href="http://www.atlassian.com/software/clover/" target="_top">
      Clover</a>. O seguinte exemplo mostra o arquivo de registro 
      XML gerado para os testes em <code class="literal">BankAccountTest</code>:
    </p><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;coverage generated="1184835473" phpunit="3.6.0"&gt;
  &lt;project name="BankAccountTest" timestamp="1184835473"&gt;
    &lt;file name="/home/sb/BankAccount.php"&gt;
      &lt;class name="BankAccountException"&gt;
        &lt;metrics methods="0" coveredmethods="0" statements="0"
                 coveredstatements="0" elements="0" coveredelements="0"/&gt;
      &lt;/class&gt;
      &lt;class name="BankAccount"&gt;
        &lt;metrics methods="4" coveredmethods="4" statements="13"
                 coveredstatements="5" elements="17" coveredelements="9"/&gt;
      &lt;/class&gt;
      &lt;line num="77" type="method" count="3"/&gt;
      &lt;line num="79" type="stmt" count="3"/&gt;
      &lt;line num="89" type="method" count="2"/&gt;
      &lt;line num="91" type="stmt" count="2"/&gt;
      &lt;line num="92" type="stmt" count="0"/&gt;
      &lt;line num="93" type="stmt" count="0"/&gt;
      &lt;line num="94" type="stmt" count="2"/&gt;
      &lt;line num="96" type="stmt" count="0"/&gt;
      &lt;line num="105" type="method" count="1"/&gt;
      &lt;line num="107" type="stmt" count="1"/&gt;
      &lt;line num="109" type="stmt" count="0"/&gt;
      &lt;line num="119" type="method" count="1"/&gt;
      &lt;line num="121" type="stmt" count="1"/&gt;
      &lt;line num="123" type="stmt" count="0"/&gt;
      &lt;metrics loc="126" ncloc="37" classes="2" methods="4" coveredmethods="4"
               statements="13" coveredstatements="5" elements="17"
               coveredelements="9"/&gt;
    &lt;/file&gt;
    &lt;metrics files="1" loc="126" ncloc="37" classes="2" methods="4"
             coveredmethods="4" statements="13" coveredstatements="5"
             elements="17" coveredelements="9"/&gt;
  &lt;/project&gt;
&lt;/coverage&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="logging.codecoverage.text"></a>Cobertura de Código (TEXT)</h2></div></div></div><p>
      Saída de cobertura de código legível para linha-de-comando ou arquivo de texto. 
        
      O objetivo deste formato de saída é fornecer uma rápida visão geral de cobertura 
      enquanto se trabalha em um pequeno grupo de classes. Para projetos maiores esta saída 
      pode ser útil para conseguir uma rápida visão geral da cobertura do projeto ou quando usado com 
      a funcionalidade <code class="literal">--filter</code>.
      
      Quando usada da linha-de-comando escrevendo <code class="literal">php://stdout</code>
      isso vai honrar a configuração <code class="literal">--colors</code>.

      Escrever na saída padrão é a opção padrão quando usado a partir da linha-de-comando. 
      
      Por padrão isso só vai mostrar arquivos que tenham pelo menos uma linha coberta. 
      Isso só pode ser alterado através da opção de configuração 
      xml <code class="literal">showUncoveredFiles</code>. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.logging" title="Registrando">“Registrando”</a>.      
      
      Por padrão todos arquivos e seus status de cobertura são mostrados no relatório detalhado.
      Isso pode ser alterado via através da opção de configuração 
      xml <code class="literal">showOnlySummary</code>.
    </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="extending-phpunit"></a>Capítulo 15. Estendendo o PHPUnit</h1></div></div></div><p>
    O PHPUnit pode ser estendido de várias formas para facilitar a escrita de testes 
    e personalizar as respostas que você recebe ao executar os testes. Aqui estão 
    pontos de partida comuns para estender o PHPUnit.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="extending-phpunit.PHPUnit_Framework_TestCase"></a>Subclasse PHPUnit_Framework_TestCase</h2></div></div></div><p>
      <a id="idp1418752" class="indexterm"></a>

      Escreva asserções personalizadas e métodos utilitários em uma subclasse abstrata do
      <code class="literal">PHPUnit_Framework_TestCase</code> e derive suas classes de caso de teste 
      dessa classe. Essa é uma das formas mais fáceis de estender 
      o PHPUnit.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="extending-phpunit.custom-assertions"></a>Escreva asserções personalizadas</h2></div></div></div><p>
      Ao escrever asserções personalizadas a melhor prática é seguir a mesma 
      forma que as asserções do próprio PHPUnit são implementadas. Como você pode ver no
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.examples.Assert.php" title="Exemplo 15.1: Os métodos assertTrue() e isTrue() da classe PHPUnitFramework_Assert">Exemplo 15.1</a>, o método
      <code class="literal">assertTrue()</code> é apenas um empacotador em torno dos métodos
      <code class="literal">isTrue()</code> e <code class="literal">assertThat()</code>:
      <code class="literal">isTrue()</code> cria um objeto comparador que é passado para
      <code class="literal">assertThat()</code> para avaliação.
    </p><div class="example"><a id="extending-phpunit.examples.Assert.php"></a><p class="title"><strong>Exemplo 15.1: Os métodos assertTrue() e isTrue() da classe PHPUnitFramework_Assert</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
abstract class PHPUnit_Framework_Assert
{
    // ...

    /**
     * Assevera que uma condição é verdadeira (true).
     *
     * @param  boolean $condition
     * @param  string  $message
     * @throws PHPUnit_Framework_AssertionFailedError
     */
    public static function assertTrue($condition, $message = '')
    {
        self::assertThat($condition, self::isTrue(), $message);
    }

    // ...

    /**
     * Retorna um objeto comparador PHPUnit_Framework_Constraint_IsTrue.
     *
     * @return PHPUnit_Framework_Constraint_IsTrue
     * @since Método disponível desde a versão 3.3.0
     */
    public static function isTrue()
    {
        return new PHPUnit_Framework_Constraint_IsTrue;
    }

    // ...
}?&gt;</pre></div></div><br class="example-break"><p>
      O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.examples.IsTrue.php" title="Exemplo 15.2: A classe PHPUnit_Framework_Constraint_IsTrue">Exemplo 15.2</a> mostra como
      <code class="literal">PHPUnit_Framework_Constraint_IsTrue</code> estende a 
      classe base abstrata para objetos comparadores (ou restritores),
      <code class="literal">PHPUnit_Framework_Constraint</code>.
    </p><div class="example"><a id="extending-phpunit.examples.IsTrue.php"></a><p class="title"><strong>Exemplo 15.2: A classe PHPUnit_Framework_Constraint_IsTrue</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class PHPUnit_Framework_Constraint_IsTrue extends PHPUnit_Framework_Constraint
{
    /**
     * Avalia a restrição para o parâmetro $other. Retorna TRUE se a
     * restrição é confirmada, FALSE caso contrário.
     *
     * @param mixed $other Valor ou objeto a avaliar.
     * @return bool
     */
    public function matches($other)
    {
        return $other === TRUE;
    }

    /**
     * Retorna uma representação string da restrição.
     *
     * @return string
     */
    public function toString()
    {
        return 'is true';
    }
}?&gt;</pre></div></div><br class="example-break"><p>
      O esforço de implementar os métodos <code class="literal">assertTrue()</code> e
      <code class="literal">isTrue()</code> assim como a classe
      <code class="literal">PHPUnit_Framework_Constraint_IsTrue</code> rende o 
      benefício de que <code class="literal">assertThat()</code> automaticamente cuida de 
      avaliar a asserção e escriturar tarefas como contá-las para 
      estatísticas. Além disso, o método <code class="literal">isTrue()</code> pode ser 
      usado como um comparador ao configurar objetos falsificados.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="extending-phpunit.PHPUnit_Framework_TestListener"></a>Implementando PHPUnit_Framework_TestListener</h2></div></div></div><p>
      <a id="idp1401376" class="indexterm"></a>

      O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.examples.SimpleTestListener.php" title="Exemplo 15.3: Um simples ouvinte de teste">Exemplo 15.3</a>
      mostra uma implementação simples da interface 
      <code class="literal">PHPUnit_Framework_TestListener</code>.
    </p><div class="example"><a id="extending-phpunit.examples.SimpleTestListener.php"></a><p class="title"><strong>Exemplo 15.3: Um simples ouvinte de teste</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class SimpleTestListener implements PHPUnit_Framework_TestListener
{
    public function addError(PHPUnit_Framework_Test $test, Exception $e, $time)
    {
        printf("Error while running test '%s'.\n", $test-&gt;getName());
    }

    public function addFailure(PHPUnit_Framework_Test $test, PHPUnit_Framework_AssertionFailedError $e, $time)
    {
        printf("Test '%s' failed.\n", $test-&gt;getName());
    }

    public function addIncompleteTest(PHPUnit_Framework_Test $test, Exception $e, $time)
    {
        printf("Test '%s' is incomplete.\n", $test-&gt;getName());
    }

    public function addRiskyTest(PHPUnit_Framework_Test $test, Exception $e, $time)
    {
        printf("Test '%s' is deemed risky.\n", $test-&gt;getName());
    }

    public function addSkippedTest(PHPUnit_Framework_Test $test, Exception $e, $time)
    {
        printf("Test '%s' has been skipped.\n", $test-&gt;getName());
    }

    public function startTest(PHPUnit_Framework_Test $test)
    {
        printf("Test '%s' started.\n", $test-&gt;getName());
    }

    public function endTest(PHPUnit_Framework_Test $test, $time)
    {
        printf("Test '%s' ended.\n", $test-&gt;getName());
    }

    public function startTestSuite(PHPUnit_Framework_TestSuite $suite)
    {
        printf("TestSuite '%s' started.\n", $suite-&gt;getName());
    }

    public function endTestSuite(PHPUnit_Framework_TestSuite $suite)
    {
        printf("TestSuite '%s' ended.\n", $suite-&gt;getName());
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      <a id="idp1406640" class="indexterm"></a>

      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.examples.BaseTestListener.php" title="Exemplo 15.4: Usando o ouvinte de teste base">Exemplo 15.4</a>
      mostra como a subclasse da classe abstrata <code class="literal">PHPUnit_Framework_BaseTestListener</code>, 
      que permite que você especifique apenas os métodos de interface que
      são interessantes para seu caso de uso, ao fornecer implementações vazias
      para todos os outros.
    </p><div class="example"><a id="extending-phpunit.examples.BaseTestListener.php"></a><p class="title"><strong>Exemplo 15.4: Usando o ouvinte de teste base</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ShortTestListener extends PHPUnit_Framework_BaseTestListener
{
    public function endTest(PHPUnit_Framework_Test $test, $time)
    {
        printf("Test '%s' ended.\n", $test-&gt;getName());
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      Em <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.test-listeners" title="Ouvintes de Teste">“Ouvintes de Teste”</a> você pode ver 
      como configurar o PHPUnit para anexar seu ouvinte de teste para a 
      execução do teste.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="extending-phpunit.PHPUnit_Extensions_TestDecorator"></a>Subclasse PHPUnit_Extensions_TestDecorator</h2></div></div></div><p>
      <a id="idp1413168" class="indexterm"></a>

      Você pode envolver casos de teste ou suítes de teste em uma subclasse de
      <code class="literal">PHPUnit_Extensions_TestDecorator</code> e usar o padrão 
      de projeto Decorador para realizar algumas ações antes e depois da 
      execução do teste.
    </p><p>
      <a id="idp1414864" class="indexterm"></a>

      O PHPUnit navega com um decorador de teste concreto:
      <code class="literal">PHPUnit_Extensions_RepeatedTest</code>. Ele é usado para executar um
      um teste repetidamente e apenas o conta como bem-sucedido se todas as iterações forem 
      bem-sucedidas.
    </p><p>
      O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.examples.RepeatedTest.php" title="Exemplo 15.5: O Decorador RepeatedTest">Exemplo 15.5</a>
      mostra uma versão resumida do decorador de teste <code class="literal">PHPUnit_Extensions_RepeatedTest</code>
      que ilustra como escrever seus próprios decoradores de teste.
    </p><div class="example"><a id="extending-phpunit.examples.RepeatedTest.php"></a><p class="title"><strong>Exemplo 15.5: O Decorador RepeatedTest</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
require_once 'PHPUnit/Extensions/TestDecorator.php';

class PHPUnit_Extensions_RepeatedTest extends PHPUnit_Extensions_TestDecorator
{
    private $timesRepeat = 1;

    public function __construct(PHPUnit_Framework_Test $test, $timesRepeat = 1)
    {
        parent::__construct($test);

        if (is_integer($timesRepeat) &amp;&amp;
            $timesRepeat &gt;= 0) {
            $this-&gt;timesRepeat = $timesRepeat;
        }
    }

    public function count()
    {
        return $this-&gt;timesRepeat * $this-&gt;test-&gt;count();
    }

    public function run(PHPUnit_Framework_TestResult $result = NULL)
    {
        if ($result === NULL) {
            $result = $this-&gt;createResult();
        }

        for ($i = 0; $i &lt; $this-&gt;timesRepeat &amp;&amp; !$result-&gt;shouldStop(); $i++) {
            $this-&gt;test-&gt;run($result);
        }

        return $result;
    }
}
?&gt;</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="extending-phpunit.PHPUnit_Framework_Test"></a>Implementando PHPUnit_Framework_Test</h2></div></div></div><p>
      <a id="idp1517248" class="indexterm"></a>
      <a id="idp1517824" class="indexterm"></a>

      A interface <code class="literal">PHPUnit_Framework_Test</code> é limitada e 
      fácil de implementar. Você pode escrever uma implementação do
      <code class="literal">PHPUnit_Framework_Test</code> que é mais simples que
      <code class="literal">PHPUnit_Framework_TestCase</code> e que executa
      <span class="emphasis"><em>testes guiados por dados</em></span>, por exemplo.
    </p><p>
      O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.examples.DataDrivenTest.php" title="Exemplo 15.6: Um teste guiado por dados">Exemplo 15.6</a>
      mostra uma classe de caso de teste guiado por dados que compara valores de um arquivo 
      com Valores Separados por Vírgulas (CSV). Cada linha de tal arquivo parece com
      <code class="literal">foo;bar</code>, onde o primeiro valor é o qual esperamos 
      e o segundo valor é o real.
    </p><div class="example"><a id="extending-phpunit.examples.DataDrivenTest.php"></a><p class="title"><strong>Exemplo 15.6: Um teste guiado por dados</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class DataDrivenTest implements PHPUnit_Framework_Test
{
    private $lines;

    public function __construct($dataFile)
    {
        $this-&gt;lines = file($dataFile);
    }

    public function count()
    {
        return 1;
    }

    public function run(PHPUnit_Framework_TestResult $result = NULL)
    {
        if ($result === NULL) {
            $result = new PHPUnit_Framework_TestResult;
        }

        foreach ($this-&gt;lines as $line) {
            $result-&gt;startTest($this);
            PHP_Timer::start();
            $stopTime = NULL;

            list($expected, $actual) = explode(';', $line);

            try {
                PHPUnit_Framework_Assert::assertEquals(
                  trim($expected), trim($actual)
                );
            }

            catch (PHPUnit_Framework_AssertionFailedError $e) {
                $stopTime = PHP_Timer::stop();
                $result-&gt;addFailure($this, $e, $stopTime);
            }

            catch (Exception $e) {
                $stopTime = PHP_Timer::stop();
                $result-&gt;addError($this, $e, $stopTime);
            }

            if ($stopTime === NULL) {
                $stopTime = PHP_Timer::stop();
            }

            $result-&gt;endTest($this, $stopTime);
        }

        return $result;
    }
}

$test = new DataDrivenTest('data_file.csv');
$result = PHPUnit_TextUI_TestRunner::run($test);
?&gt;</pre><pre class="screen">PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

.F

Time: 0 seconds

There was 1 failure:

1) DataDrivenTest
Failed asserting that two strings are equal.
expected string &lt;bar&gt;
difference      &lt;  x&gt;
got string      &lt;baz&gt;
/home/sb/DataDrivenTest.php:32
/home/sb/DataDrivenTest.php:53

FAILURES!
Tests: 2, Failures: 1.</pre></div></div><br class="example-break"></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="appendixes.assertions"></a>Apêndice A. Asserções</h1></div></div></div><p>
    Esse apêndice lista os vários métodos de asserções  que estão disponíveis.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertArrayHasKey"></a>assertArrayHasKey()</h2></div></div></div><a id="idp1425120" class="indexterm"></a><a id="idp1425696" class="indexterm"></a><p><code class="literal">assertArrayHasKey(mixed $key, array $array[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$array</code> não contém a <code class="literal">$key</code>.</p><p><code class="literal">assertArrayNotHasKey()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertArrayHasKey.example"></a><p class="title"><strong>Exemplo A.1: Utilização de assertArrayHasKey()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ArrayHasKeyTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertArrayHasKey('foo', array('bar' =&gt; 'baz'));
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ArrayHasKeyTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) ArrayHasKeyTest::testFailure
Failed asserting that an array has the key 'foo'.

/home/sb/ArrayHasKeyTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertClassHasAttribute"></a>assertClassHasAttribute()</h2></div></div></div><a id="idp1433168" class="indexterm"></a><a id="idp1433712" class="indexterm"></a><p><code class="literal">assertClassHasAttribute(string $attributeName, string $className[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$className::attributeName</code> não existir.</p><p><code class="literal">assertClassNotHasAttribute()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertClassHasAttribute.example"></a><p class="title"><strong>Exemplo A.2: Utilização de assertClassHasAttribute()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ClassHasAttributeTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertClassHasAttribute('foo', 'stdClass');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ClassHasAttributeTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 4.75Mb

There was 1 failure:

1) ClassHasAttributeTest::testFailure
Failed asserting that class "stdClass" has attribute "foo".

/home/sb/ClassHasAttributeTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertArraySubset"></a>assertArraySubset()</h2></div></div></div><a id="idp1647808" class="indexterm"></a><a id="idp1648384" class="indexterm"></a><p><code class="literal">assertArraySubset(array $subset, array $array[, bool $strict = '', string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se <code class="literal">$array</code> não contém o <code class="literal">$subset</code>.</p><p><code class="literal">$strict</code> é uma flag usada para comparar a identidade de objetos dentro de arrays.</p><div class="example"><a id="appendixes.assertions.assertArraySubset.example"></a><p class="title"><strong>Exemplo A.3: Usage of assertArraySubset()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ArraySubsetTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertArraySubset(['config' =&gt; ['key-a', 'key-b']], ['config' =&gt; ['key-a']]);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ArrayHasKeyTest</code></strong>
PHPUnit 4.4.0 by Sebastian Bergmann.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) Epilog\EpilogTest::testNoFollowOption
Failed asserting that an array has the subset Array &amp;0 (
    'config' =&gt; Array &amp;1 (
        0 =&gt; 'key-a'
        1 =&gt; 'key-b'
    )
).

/home/sb/ArraySubsetTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertClassHasStaticAttribute"></a>assertClassHasStaticAttribute()</h2></div></div></div><a id="idp1656272" class="indexterm"></a><a id="idp1656864" class="indexterm"></a><p><code class="literal">assertClassHasStaticAttribute(string $attributeName, string $className[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$className::attributeName</code> não existir.</p><p><code class="literal">assertClassNotHasStaticAttribute()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertClassHasStaticAttribute.example"></a><p class="title"><strong>Exemplo A.4: Utilização de assertClassHasStaticAttribute()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ClassHasStaticAttributeTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertClassHasStaticAttribute('foo', 'stdClass');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ClassHasStaticAttributeTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 4.75Mb

There was 1 failure:

1) ClassHasStaticAttributeTest::testFailure
Failed asserting that class "stdClass" has static attribute "foo".

/home/sb/ClassHasStaticAttributeTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertContains"></a>assertContains()</h2></div></div></div><a id="idp1533312" class="indexterm"></a><a id="idp1533888" class="indexterm"></a><a id="idp1534464" class="indexterm"></a><a id="idp1535056" class="indexterm"></a><p><code class="literal">assertContains(mixed $needle, Iterator|array $haystack[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$needle</code> não é um elemento de <code class="literal">$haystack</code>.</p><p><code class="literal">assertNotContains()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><p><code class="literal">assertAttributeContains()</code> e <code class="literal">assertAttributeNotContains()</code> são invólucros convenientes que usam um atributo <code class="literal">public</code>, <code class="literal">protected</code>, ou <code class="literal">private</code> de uma classe ou objeto como a haystack.</p><div class="example"><a id="appendixes.assertions.assertContains.example"></a><p class="title"><strong>Exemplo A.5: Utilização de assertContains()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ContainsTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertContains(4, array(1, 2, 3));
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ContainsTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) ContainsTest::testFailure
Failed asserting that an array contains 4.

/home/sb/ContainsTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p><code class="literal">assertContains(string $needle, string $haystack[, string $message = '', boolean $ignoreCase = FALSE])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$needle</code> não é uma substring de <code class="literal">$haystack</code>.</p><p>Se <code class="literal">$ignoreCase</code> é <code class="literal">TRUE</code>, o teste irá ser case insensitive.</p><div class="example"><a id="appendixes.assertions.assertContains.example2"></a><p class="title"><strong>Exemplo A.6: Utilização de assertContains()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ContainsTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertContains('baz', 'foobar');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ContainsTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) ContainsTest::testFailure
Failed asserting that 'foobar' contains "baz".

/home/sb/ContainsTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><div class="example"><a id="appendixes.assertions.assertContains.example3"></a><p class="title"><strong>Exemplo A.7: Utilização de assertContains() com $ignoreCase</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ContainsTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertContains('foo', 'FooBar');
    }

    public function testOK()
    {
        $this-&gt;assertContains('foo', 'FooBar', '', true);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ContainsTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F.

Time: 0 seconds, Memory: 2.75Mb

There was 1 failure:

1) ContainsTest::testFailure
Failed asserting that 'FooBar' contains "foo".

/home/sb/ContainsTest.php:6

FAILURES!
Tests: 2, Assertions: 2, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertContainsOnly"></a>assertContainsOnly()</h2></div></div></div><a id="idp1996272" class="indexterm"></a><a id="idp1996848" class="indexterm"></a><a id="idp1997424" class="indexterm"></a><a id="idp1998016" class="indexterm"></a><p><code class="literal">assertContainsOnly(string $type, Iterator|array $haystack[, boolean $isNativeType = NULL, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$haystack</code> não contém somente variáveis do tipo <code class="literal">$type</code>.</p><p><code class="literal">$isNativeType</code> é uma flag usada para indicar se <code class="literal">$type</code> é um tipo nativo do PHP ou não.</p><p><code class="literal">assertNotContainsOnly()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><p><code class="literal">assertAttributeContainsOnly()</code> e <code class="literal">assertAttributeNotContainsOnly()</code> são invólucros convenientes que usam um atributo <code class="literal">public</code>, <code class="literal">protected</code>, ou <code class="literal">private</code> de uma classe ou objeto como a haystack.</p><div class="example"><a id="appendixes.assertions.assertContainsOnly.example"></a><p class="title"><strong>Exemplo A.8: Utilização de assertContainsOnly()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ContainsOnlyTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertContainsOnly('string', array('1', '2', 3));
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ContainsOnlyTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) ContainsOnlyTest::testFailure
Failed asserting that Array (
    0 =&gt; '1'
    1 =&gt; '2'
    2 =&gt; 3
) contains only values of type "string".

/home/sb/ContainsOnlyTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertContainsOnlyInstancesOf"></a>assertContainsOnlyInstancesOf()</h2></div></div></div><a id="idp2009856" class="indexterm"></a><p><code class="literal">assertContainsOnlyInstancesOf(string $classname, Traversable|array $haystack[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$haystack</code> não contém somente instâncias da classe <code class="literal">$classname</code>.</p><div class="example"><a id="appendixes.assertions.assertContainsOnlyInstancesOf.example"></a><p class="title"><strong>Exemplo A.9: Utilização de assertContainsOnlyInstancesOf()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ContainsOnlyInstancesOfTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertContainsOnlyInstancesOf('Foo', array(new Foo(), new Bar(), new Foo()));
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ContainsOnlyInstancesOfTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) ContainsOnlyInstancesOfTest::testFailure
Failed asserting that Array ([0]=&gt; Bar Object(...)) is an instance of class "Foo".

/home/sb/ContainsOnlyInstancesOfTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertCount"></a>assertCount()</h2></div></div></div><a id="idp2017024" class="indexterm"></a><a id="idp2017600" class="indexterm"></a><p><code class="literal">assertCount($expectedCount, $haystack[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o número de elementos no <code class="literal">$haystack</code> não for o <code class="literal">$expectedCount</code>.</p><p><code class="literal">assertNotCount()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertCount.example"></a><p class="title"><strong>Exemplo A.10: Utilização de assertCount()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class CountTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertCount(0, array('foo'));
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit CountTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 4.75Mb

There was 1 failure:

1) CountTest::testFailure
Failed asserting that actual size 1 matches expected size 0.

/home/sb/CountTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertEmpty"></a>assertEmpty()</h2></div></div></div><a id="idp2025392" class="indexterm"></a><a id="idp2025968" class="indexterm"></a><a id="idp2026544" class="indexterm"></a><a id="idp2027120" class="indexterm"></a><p><code class="literal">assertEmpty(mixed $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$actual</code> não está vazio.</p><p><code class="literal">assertNotEmpty()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><p><code class="literal">assertAttributeEmpty()</code> e <code class="literal">assertAttributeNotEmpty()</code> são invólucros convenientes que podem ser aplicados para um atributo <code class="literal">public</code>, <code class="literal">protected</code>, or <code class="literal">private</code> de uma classe ou objeto.</p><div class="example"><a id="appendixes.assertions.assertEmpty.example"></a><p class="title"><strong>Exemplo A.11: Utilização de assertEmpty()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class EmptyTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertEmpty(array('foo'));
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit EmptyTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 4.75Mb

There was 1 failure:

1) EmptyTest::testFailure
Failed asserting that an array is empty.

/home/sb/EmptyTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertEqualXMLStructure"></a>assertEqualXMLStructure()</h2></div></div></div><a id="idp2037072" class="indexterm"></a><p><code class="literal">assertEqualXMLStructure(DOMElement $expectedElement, DOMElement $actualElement[, boolean $checkAttributes = FALSE, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se a estrutura XML do DOMElement no <code class="literal">$actualElement</code> não é igual a estrutura XML do DOMElement no <code class="literal">$expectedElement</code>.</p><div class="example"><a id="appendixes.assertions.assertEqualXMLStructure.example"></a><p class="title"><strong>Exemplo A.12: Utilização de assertEqualXMLStructure()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class EqualXMLStructureTest extends PHPUnit_Framework_TestCase
{
    public function testFailureWithDifferentNodeNames()
    {
        $expected = new DOMElement('foo');
        $actual = new DOMElement('bar');

        $this-&gt;assertEqualXMLStructure($expected, $actual);
    }

    public function testFailureWithDifferentNodeAttributes()
    {
        $expected = new DOMDocument;
        $expected-&gt;loadXML('&lt;foo bar="true" /&gt;');

        $actual = new DOMDocument;
        $actual-&gt;loadXML('&lt;foo/&gt;');

        $this-&gt;assertEqualXMLStructure(
          $expected-&gt;firstChild, $actual-&gt;firstChild, TRUE
        );
    }

    public function testFailureWithDifferentChildrenCount()
    {
        $expected = new DOMDocument;
        $expected-&gt;loadXML('&lt;foo&gt;&lt;bar/&gt;&lt;bar/&gt;&lt;bar/&gt;&lt;/foo&gt;');

        $actual = new DOMDocument;
        $actual-&gt;loadXML('&lt;foo&gt;&lt;bar/&gt;&lt;/foo&gt;');

        $this-&gt;assertEqualXMLStructure(
          $expected-&gt;firstChild, $actual-&gt;firstChild
        );
    }

    public function testFailureWithDifferentChildren()
    {
        $expected = new DOMDocument;
        $expected-&gt;loadXML('&lt;foo&gt;&lt;bar/&gt;&lt;bar/&gt;&lt;bar/&gt;&lt;/foo&gt;');

        $actual = new DOMDocument;
        $actual-&gt;loadXML('&lt;foo&gt;&lt;baz/&gt;&lt;baz/&gt;&lt;baz/&gt;&lt;/foo&gt;');

        $this-&gt;assertEqualXMLStructure(
          $expected-&gt;firstChild, $actual-&gt;firstChild
        );
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit EqualXMLStructureTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

FFFF

Time: 0 seconds, Memory: 5.75Mb

There were 4 failures:

1) EqualXMLStructureTest::testFailureWithDifferentNodeNames
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'foo'
+'bar'

/home/sb/EqualXMLStructureTest.php:9

2) EqualXMLStructureTest::testFailureWithDifferentNodeAttributes
Number of attributes on node "foo" does not match
Failed asserting that 0 matches expected 1.

/home/sb/EqualXMLStructureTest.php:22

3) EqualXMLStructureTest::testFailureWithDifferentChildrenCount
Number of child nodes of "foo" differs
Failed asserting that 1 matches expected 3.

/home/sb/EqualXMLStructureTest.php:35

4) EqualXMLStructureTest::testFailureWithDifferentChildren
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'bar'
+'baz'

/home/sb/EqualXMLStructureTest.php:48

FAILURES!
Tests: 4, Assertions: 8, Failures: 4.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertEquals"></a>assertEquals()</h2></div></div></div><a id="idp2046096" class="indexterm"></a><a id="idp2046672" class="indexterm"></a><a id="idp2047248" class="indexterm"></a><a id="idp2047824" class="indexterm"></a><p><code class="literal">assertEquals(mixed $expected, mixed $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se as variáveis <code class="literal">$expected</code> e <code class="literal">$actual</code> são iguais.</p><p><code class="literal">assertNotEquals()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><p><code class="literal">assertAttributeEquals()</code> e <code class="literal">assertAttributeNotEquals()</code> são invólucros convenientes que usam um atributo <code class="literal">public</code>, <code class="literal">protected</code>, or <code class="literal">private</code> de uma classe ou objeto como o valor atual.</p><div class="example"><a id="appendixes.assertions.assertEquals.example"></a><p class="title"><strong>Exemplo A.13: Utilização de assertEquals()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class EqualsTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertEquals(1, 0);
    }

    public function testFailure2()
    {
        $this-&gt;assertEquals('bar', 'baz');
    }

    public function testFailure3()
    {
        $this-&gt;assertEquals("foo\nbar\nbaz\n", "foo\nbah\nbaz\n");
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit EqualsTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

FFF

Time: 0 seconds, Memory: 5.25Mb

There were 3 failures:

1) EqualsTest::testFailure
Failed asserting that 0 matches expected 1.

/home/sb/EqualsTest.php:6

2) EqualsTest::testFailure2
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'bar'
+'baz'

/home/sb/EqualsTest.php:11

3) EqualsTest::testFailure3
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
 'foo
-bar
+bah
 baz
 '

/home/sb/EqualsTest.php:16

FAILURES!
Tests: 3, Assertions: 3, Failures: 3.</pre></div></div><br class="example-break"><p>Comparações mais especializadas são usadas para especificar tipos de argumentos para <code class="literal">$expected</code> e <code class="literal">$actual</code>, veja abaixo.</p><p><code class="literal">assertEquals(float $expected, float $actual[, string $message = '', float $delta = 0])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se os dois floats <code class="literal">$expected</code> e <code class="literal">$actual</code> não estão dentro de <code class="literal">$delta</code> um do outro.</p><p>Por favor, leia "<a class="ulink" href="http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html" target="_top">O que cada cientista de computador deve saber sobre Aritmética de Ponto Flutuante</a>" para entender por que <code class="literal">$delta</code> é necessário.</p><div class="example"><a id="appendixes.assertions.assertEquals.example2"></a><p class="title"><strong>Exemplo A.14: Utilização de assertEquals() with floats</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class EqualsTest extends PHPUnit_Framework_TestCase
{
    public function testSuccess()
    {
        $this-&gt;assertEquals(1.0, 1.1, '', 0.2);
    }

    public function testFailure()
    {
        $this-&gt;assertEquals(1.0, 1.1);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit EqualsTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

.F

Time: 0 seconds, Memory: 5.75Mb

There was 1 failure:

1) EqualsTest::testFailure
Failed asserting that 1.1 matches expected 1.0.

/home/sb/EqualsTest.php:11

FAILURES!
Tests: 2, Assertions: 2, Failures: 1.</pre></div></div><br class="example-break"><p><code class="literal">assertEquals(DOMDocument $expected, DOMDocument $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se a forma canonical não-comentada dos documentos XML representada pelos objetos DOMDocument <code class="literal">$expected</code> e <code class="literal">$actual</code> não são iguais.</p><div class="example"><a id="appendixes.assertions.assertEquals.example3"></a><p class="title"><strong>Exemplo A.15: Utilização de assertEquals() com objetos DOMDocument</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class EqualsTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $expected = new DOMDocument;
        $expected-&gt;loadXML('&lt;foo&gt;&lt;bar/&gt;&lt;/foo&gt;');

        $actual = new DOMDocument;
        $actual-&gt;loadXML('&lt;bar&gt;&lt;foo/&gt;&lt;/bar&gt;');

        $this-&gt;assertEquals($expected, $actual);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit EqualsTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) EqualsTest::testFailure
Failed asserting that two DOM documents are equal.
--- Expected
+++ Actual
@@ @@
 &lt;?xml version="1.0"?&gt;
-&lt;foo&gt;
-  &lt;bar/&gt;
-&lt;/foo&gt;
+&lt;bar&gt;
+  &lt;foo/&gt;
+&lt;/bar&gt;

/home/sb/EqualsTest.php:12

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p><code class="literal">assertEquals(object $expected, object $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se os objetos <code class="literal">$expected</code> e <code class="literal">$actual</code> não tem valores de atributos iguais.</p><div class="example"><a id="appendixes.assertions.assertEquals.example4"></a><p class="title"><strong>Exemplo A.16: Utilização de assertEquals() com objetos</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class EqualsTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $expected = new stdClass;
        $expected-&gt;foo = 'foo';
        $expected-&gt;bar = 'bar';

        $actual = new stdClass;
        $actual-&gt;foo = 'bar';
        $actual-&gt;baz = 'bar';

        $this-&gt;assertEquals($expected, $actual);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit EqualsTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) EqualsTest::testFailure
Failed asserting that two objects are equal.
--- Expected
+++ Actual
@@ @@
 stdClass Object (
-    'foo' =&gt; 'foo'
-    'bar' =&gt; 'bar'
+    'foo' =&gt; 'bar'
+    'baz' =&gt; 'bar'
 )

/home/sb/EqualsTest.php:14

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p><code class="literal">assertEquals(array $expected, array $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se os arrays <code class="literal">$expected</code> e <code class="literal">$actual</code> não são iguais.</p><div class="example"><a id="appendixes.assertions.assertEquals.example5"></a><p class="title"><strong>Exemplo A.17: Utilização de assertEquals() com arrays</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class EqualsTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertEquals(array('a', 'b', 'c'), array('a', 'c', 'd'));
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit EqualsTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) EqualsTest::testFailure
Failed asserting that two arrays are equal.
--- Expected
+++ Actual
@@ @@
 Array (
     0 =&gt; 'a'
-    1 =&gt; 'b'
-    2 =&gt; 'c'
+    1 =&gt; 'c'
+    2 =&gt; 'd'
 )

/home/sb/EqualsTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertFalse"></a>assertFalse()</h2></div></div></div><a id="idp2084224" class="indexterm"></a><p><code class="literal">assertFalse(bool $condition[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$condition</code> é <code class="literal">TRUE</code>.</p><p><code class="literal">assertNotFalse()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertFalse.example"></a><p class="title"><strong>Exemplo A.18: Utilização de assertFalse()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class FalseTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertFalse(TRUE);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit FalseTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) FalseTest::testFailure
Failed asserting that true is false.

/home/sb/FalseTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertFileEquals"></a>assertFileEquals()</h2></div></div></div><a id="idp2091952" class="indexterm"></a><a id="idp2092528" class="indexterm"></a><p><code class="literal">assertFileEquals(string $expected, string $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o arquivo especificado pelo  <code class="literal">$expected</code> não tem o mesmo conteúdo como o arquivo especificado pelo <code class="literal">$actual</code>.</p><p><code class="literal">assertFileNotEquals()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertFileEquals.example"></a><p class="title"><strong>Exemplo A.19: Utilização de assertFileEquals()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class FileEqualsTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertFileEquals('/home/sb/expected', '/home/sb/actual');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit FileEqualsTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) FileEqualsTest::testFailure
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'expected
+'actual
 '

/home/sb/FileEqualsTest.php:6

FAILURES!
Tests: 1, Assertions: 3, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertFileExists"></a>assertFileExists()</h2></div></div></div><a id="idp2100464" class="indexterm"></a><a id="idp2101040" class="indexterm"></a><p><code class="literal">assertFileExists(string $filename[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o arquivo especificado pelo <code class="literal">$filename</code> não existir.</p><p><code class="literal">assertFileNotExists()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertFileExists.example"></a><p class="title"><strong>Exemplo A.20: Utilização de assertFileExists()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class FileExistsTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertFileExists('/path/to/file');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit FileExistsTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 4.75Mb

There was 1 failure:

1) FileExistsTest::testFailure
Failed asserting that file "/path/to/file" exists.

/home/sb/FileExistsTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertGreaterThan"></a>assertGreaterThan()</h2></div></div></div><a id="idp2108384" class="indexterm"></a><a id="idp2108960" class="indexterm"></a><p><code class="literal">assertGreaterThan(mixed $expected, mixed $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o valor de <code class="literal">$actual</code> não é maior que o valor de <code class="literal">$expected</code>.</p><p><code class="literal">assertAttributeGreaterThan()</code> é um invólucro conveniente que usa um atributo <code class="literal">public</code>, <code class="literal">protected</code>, ou <code class="literal">private</code> de uma classe ou objeto como o valor atual.</p><div class="example"><a id="appendixes.assertions.assertGreaterThan.example"></a><p class="title"><strong>Exemplo A.21: Utilização de assertGreaterThan()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class GreaterThanTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertGreaterThan(2, 1);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit GreaterThanTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) GreaterThanTest::testFailure
Failed asserting that 1 is greater than 2.

/home/sb/GreaterThanTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertGreaterThanOrEqual"></a>assertGreaterThanOrEqual()</h2></div></div></div><a id="idp2118192" class="indexterm"></a><a id="idp2118784" class="indexterm"></a><p><code class="literal">assertGreaterThanOrEqual(mixed $expected, mixed $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o valor de <code class="literal">$actual</code> não é maior que ou igual ao valor de <code class="literal">$expected</code>.</p><p><code class="literal">assertAttributeGreaterThanOrEqual()</code> é um invólucro conveniente que usa um atributo <code class="literal">public</code>, <code class="literal">protected</code>, ou <code class="literal">private</code> de uma classe ou objeto como o valor atual.</p><div class="example"><a id="appendixes.assertions.assertGreaterThanOrEqual.example"></a><p class="title"><strong>Exemplo A.22: Utilização de assertGreaterThanOrEqual()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class GreatThanOrEqualTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertGreaterThanOrEqual(2, 1);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit GreaterThanOrEqualTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) GreatThanOrEqualTest::testFailure
Failed asserting that 1 is equal to 2 or is greater than 2.

/home/sb/GreaterThanOrEqualTest.php:6

FAILURES!
Tests: 1, Assertions: 2, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertInstanceOf"></a>assertInstanceOf()</h2></div></div></div><a id="idp2128064" class="indexterm"></a><a id="idp2128640" class="indexterm"></a><a id="idp2129216" class="indexterm"></a><a id="idp2129808" class="indexterm"></a><p><code class="literal">assertInstanceOf($expected, $actual[, $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$actual</code> não é uma instância de <code class="literal">$expected</code>.</p><p><code class="literal">assertNotInstanceOf()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><p><code class="literal">assertAttributeInstanceOf()</code> e <code class="literal">assertAttributeNotInstanceOf()</code> são invólucros convenientes que podem ser aplicados a um atributo <code class="literal">public</code>, <code class="literal">protected</code>, ou <code class="literal">private</code> de uma classe ou objeto.</p><div class="example"><a id="appendixes.assertions.assertInstanceOf.example"></a><p class="title"><strong>Exemplo A.23: Utilização de assertInstanceOf()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class InstanceOfTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertInstanceOf('RuntimeException', new Exception);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit InstanceOfTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) InstanceOfTest::testFailure
Failed asserting that Exception Object (...) is an instance of class "RuntimeException".

/home/sb/InstanceOfTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertInternalType"></a>assertInternalType()</h2></div></div></div><a id="idp2140304" class="indexterm"></a><a id="idp2140880" class="indexterm"></a><a id="idp2141456" class="indexterm"></a><a id="idp2142048" class="indexterm"></a><p><code class="literal">assertInternalType($expected, $actual[, $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$actual</code> não é do tipo <code class="literal">$expected</code>.</p><p><code class="literal">assertNotInternalType()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><p><code class="literal">assertAttributeInternalType()</code> e <code class="literal">assertAttributeNotInternalType()</code> são invólucros convenientes que podem aplicados a um atributo <code class="literal">public</code>, <code class="literal">protected</code>, ou <code class="literal">private</code> de uma classe ou objeto.</p><div class="example"><a id="appendixes.assertions.assertInternalType.example"></a><p class="title"><strong>Exemplo A.24: Utilização de assertInternalType()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class InternalTypeTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertInternalType('string', 42);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit InternalTypeTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) InternalTypeTest::testFailure
Failed asserting that 42 is of type "string".

/home/sb/InternalTypeTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertJsonFileEqualsJsonFile"></a>assertJsonFileEqualsJsonFile()</h2></div></div></div><a id="idp2152496" class="indexterm"></a><a id="idp2153088" class="indexterm"></a><p><code class="literal">assertJsonFileEqualsJsonFile(mixed $expectedFile, mixed $actualFile[, string $message = ''])</code></p><p>
      Reporta um erro identificado pela <code class="literal">$message</code> se o valor de <code class="literal">$actualFile</code> não combina com o valor de
      <code class="literal">$expectedFile</code>.
    </p><div class="example"><a id="appendixes.assertions.assertJsonFileEqualsJsonFile.example"></a><p class="title"><strong>Exemplo A.25: Utilização de assertJsonFileEqualsJsonFile()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class JsonFileEqualsJsonFileTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertJsonFileEqualsJsonFile(
          'path/to/fixture/file', 'path/to/actual/file');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit JsonFileEqualsJsonFileTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) JsonFileEqualsJsonFile::testFailure
Failed asserting that '{"Mascot":"Tux"}' matches JSON string "["Mascott", "Tux", "OS", "Linux"]".

/home/sb/JsonFileEqualsJsonFileTest.php:5

FAILURES!
Tests: 1, Assertions: 3, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertJsonStringEqualsJsonFile"></a>assertJsonStringEqualsJsonFile()</h2></div></div></div><a id="idp2160368" class="indexterm"></a><a id="idp2160960" class="indexterm"></a><p><code class="literal">assertJsonStringEqualsJsonFile(mixed $expectedFile, mixed $actualJson[, string $message = ''])</code></p><p>
      Reporta um erro identificado pela <code class="literal">$message</code> se o valor de <code class="literal">$actualJson</code> não combina com o valor de 
      <code class="literal">$expectedFile</code>.
    </p><div class="example"><a id="appendixes.assertions.assertJsonStringEqualsJsonFile.example"></a><p class="title"><strong>Exemplo A.26: Utilização de assertJsonStringEqualsJsonFile()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class JsonStringEqualsJsonFileTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertJsonStringEqualsJsonFile(
          'path/to/fixture/file', json_encode(array("Mascot" =&gt; "ux"))
        );
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit JsonStringEqualsJsonFileTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) JsonStringEqualsJsonFile::testFailure
Failed asserting that '{"Mascot":"ux"}' matches JSON string "{"Mascott":"Tux"}".

/home/sb/JsonStringEqualsJsonFileTest.php:5

FAILURES!
Tests: 1, Assertions: 3, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertJsonStringEqualsJsonString"></a>assertJsonStringEqualsJsonString()</h2></div></div></div><a id="idp2168272" class="indexterm"></a><a id="idp2168864" class="indexterm"></a><p><code class="literal">assertJsonStringEqualsJsonString(mixed $expectedJson, mixed $actualJson[, string $message = ''])</code></p><p>
      Reporta um erro identificado pela <code class="literal">$message</code> se o valor de <code class="literal">$actualJson</code> não combina com o valor de
      <code class="literal">$expectedJson</code>.
    </p><div class="example"><a id="appendixes.assertions.assertJsonStringEqualsJsonString.example"></a><p class="title"><strong>Exemplo A.27: Utilização de assertJsonStringEqualsJsonString()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class JsonStringEqualsJsonStringTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertJsonStringEqualsJsonString(
          json_encode(array("Mascot" =&gt; "Tux")), json_encode(array("Mascott" =&gt; "ux"))
        );
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit JsonStringEqualsJsonStringTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) JsonStringEqualsJsonStringTest::testFailure
Failed asserting that two objects are equal.
--- Expected
+++ Actual
@@ @@
 stdClass Object (
 -    'Mascot' =&gt; 'Tux'
 +    'Mascot' =&gt; 'ux'
)

/home/sb/JsonStringEqualsJsonStringTest.php:5

FAILURES!
Tests: 1, Assertions: 3, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertLessThan"></a>assertLessThan()</h2></div></div></div><a id="idp2176224" class="indexterm"></a><a id="idp2176800" class="indexterm"></a><p><code class="literal">assertLessThan(mixed $expected, mixed $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o valor de <code class="literal">$actual</code> não é menor que o valor de <code class="literal">$expected</code>.</p><p><code class="literal">assertAttributeLessThan()</code> é um invólucro conveniente que usa um atributo <code class="literal">public</code>, <code class="literal">protected</code>, ou <code class="literal">private</code> de uma classe ou objeto como o valor atual.</p><div class="example"><a id="appendixes.assertions.assertLessThan.example"></a><p class="title"><strong>Exemplo A.28: Utilização de assertLessThan()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class LessThanTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertLessThan(1, 2);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit LessThanTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) LessThanTest::testFailure
Failed asserting that 2 is less than 1.

/home/sb/LessThanTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertLessThanOrEqual"></a>assertLessThanOrEqual()</h2></div></div></div><a id="idp2185968" class="indexterm"></a><a id="idp2186544" class="indexterm"></a><p><code class="literal">assertLessThanOrEqual(mixed $expected, mixed $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o valor de <code class="literal">$actual</code> não é menor que ou igual ao valor de <code class="literal">$expected</code>.</p><p><code class="literal">assertAttributeLessThanOrEqual()</code> é um invólucro conveniente que usa um atributo <code class="literal">public</code>, <code class="literal">protected</code>, ou <code class="literal">private</code> de uma classe ou objeto como o valor atual.</p><div class="example"><a id="appendixes.assertions.assertLessThanOrEqual.example"></a><p class="title"><strong>Exemplo A.29: Utilização de assertLessThanOrEqual()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class LessThanOrEqualTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertLessThanOrEqual(1, 2);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit LessThanOrEqualTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) LessThanOrEqualTest::testFailure
Failed asserting that 2 is equal to 1 or is less than 1.

/home/sb/LessThanOrEqualTest.php:6

FAILURES!
Tests: 1, Assertions: 2, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertNull"></a>assertNull()</h2></div></div></div><a id="idp2195792" class="indexterm"></a><a id="idp2196368" class="indexterm"></a><p><code class="literal">assertNull(mixed $variable[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$variable</code> não é <code class="literal">NULL</code>.</p><p><code class="literal">assertNotNull()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertNull.example"></a><p class="title"><strong>Exemplo A.30: Utilização de assertNull()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class NullTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertNull('foo');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit NotNullTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) NullTest::testFailure
Failed asserting that 'foo' is null.

/home/sb/NotNullTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertObjectHasAttribute"></a>assertObjectHasAttribute()</h2></div></div></div><a id="idp2204128" class="indexterm"></a><a id="idp2204720" class="indexterm"></a><p><code class="literal">assertObjectHasAttribute(string $attributeName, object $object[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$object-&gt;attributeName</code> não existir.</p><p><code class="literal">assertObjectNotHasAttribute()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertObjectHasAttribute.example"></a><p class="title"><strong>Exemplo A.31: Utilização de assertObjectHasAttribute()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class ObjectHasAttributeTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertObjectHasAttribute('foo', new stdClass);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit ObjectHasAttributeTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 4.75Mb

There was 1 failure:

1) ObjectHasAttributeTest::testFailure
Failed asserting that object of class "stdClass" has attribute "foo".

/home/sb/ObjectHasAttributeTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertRegExp"></a>assertRegExp()</h2></div></div></div><a id="idp2212192" class="indexterm"></a><a id="idp2212768" class="indexterm"></a><p><code class="literal">assertRegExp(string $pattern, string $string[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se a <code class="literal">$string</code> não combina com a expressão regular <code class="literal">$pattern</code>.</p><p><code class="literal">assertNotRegExp()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertRegExp.example"></a><p class="title"><strong>Exemplo A.32: Utilização de assertRegExp()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class RegExpTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertRegExp('/foo/', 'bar');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit RegExpTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) RegExpTest::testFailure
Failed asserting that 'bar' matches PCRE pattern "/foo/".

/home/sb/RegExpTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertStringMatchesFormat"></a>assertStringMatchesFormat()</h2></div></div></div><a id="idp2220592" class="indexterm"></a><a id="idp2221184" class="indexterm"></a><p><code class="literal">assertStringMatchesFormat(string $format, string $string[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se a <code class="literal">$string</code> não combina com a string <code class="literal">$format</code>.</p><p><code class="literal">assertStringNotMatchesFormat()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertStringMatchesFormat.example"></a><p class="title"><strong>Exemplo A.33: Utilização de assertStringMatchesFormat()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class StringMatchesFormatTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertStringMatchesFormat('%i', 'foo');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit StringMatchesFormatTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) StringMatchesFormatTest::testFailure
Failed asserting that 'foo' matches PCRE pattern "/^[+-]?\d+$/s".

/home/sb/StringMatchesFormatTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p>A string de formato pode conter os seguintes substitutos (placeholders):</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">%e</code>: Representa um separador de diretório, por exemplo <code class="literal">/</code> no Linux. </p></li><li class="listitem"><p><code class="literal">%s</code>: Um ou mais de qualquer coisa (caractere ou espaço em branco) exceto o caractere de fim de linha.</p></li><li class="listitem"><p><code class="literal">%S</code>: Zero ou mais de qualquer coisa (caractere ou espaço em branco) exceto o caractere de fim de linha.</p></li><li class="listitem"><p><code class="literal">%a</code>: Um ou mais de qualquer coisa (caractere ou espaço em branco) incluindo o caractere de fim de linha.</p></li><li class="listitem"><p><code class="literal">%A</code>: Zero ou mais de qualquer coisa (caractere ou espaço em branco) incluindo o caractere de fim de linha.</p></li><li class="listitem"><p><code class="literal">%w</code>: Zero ou mais caracteres de espaços em branco.</p></li><li class="listitem"><p><code class="literal">%i</code>: Um valor inteiro assinado, por exemplo <code class="literal">+3142</code>, <code class="literal">-3142</code>.</p></li><li class="listitem"><p><code class="literal">%d</code>: Um valor inteiro não-assinado, por exemplo <code class="literal">123456</code>.</p></li><li class="listitem"><p><code class="literal">%x</code>: Um ou mais caracteres hexadecimais. Isto é, caracteres na classe <code class="literal">0-9</code>, <code class="literal">a-f</code>, <code class="literal">A-F</code>.</p></li><li class="listitem"><p><code class="literal">%f</code>: Um número de ponto flutuante, por exemplo: <code class="literal">3.142</code>, <code class="literal">-3.142</code>, <code class="literal">3.142E-10</code>, <code class="literal">3.142e+10</code>.</p></li><li class="listitem"><p><code class="literal">%c</code>: Um único caractere de qualquer ordem.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertStringMatchesFormatFile"></a>assertStringMatchesFormatFile()</h2></div></div></div><a id="idp2245104" class="indexterm"></a><a id="idp2245696" class="indexterm"></a><p><code class="literal">assertStringMatchesFormatFile(string $formatFile, string $string[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se a <code class="literal">$string</code> não combina com o conteúdo do <code class="literal">$formatFile</code>.</p><p><code class="literal">assertStringNotMatchesFormatFile()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertStringMatchesFormatFile.example"></a><p class="title"><strong>Exemplo A.34: Utilização de assertStringMatchesFormatFile()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class StringMatchesFormatFileTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertStringMatchesFormatFile('/path/to/expected.txt', 'foo');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit StringMatchesFormatFileTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) StringMatchesFormatFileTest::testFailure
Failed asserting that 'foo' matches PCRE pattern "/^[+-]?\d+
$/s".

/home/sb/StringMatchesFormatFileTest.php:6

FAILURES!
Tests: 1, Assertions: 2, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertSame"></a>assertSame()</h2></div></div></div><a id="idp2253696" class="indexterm"></a><a id="idp2254272" class="indexterm"></a><a id="idp2254848" class="indexterm"></a><a id="idp2255424" class="indexterm"></a><p><code class="literal">assertSame(mixed $expected, mixed $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se as variáveis <code class="literal">$expected</code> e <code class="literal">$actual</code> não tem o mesmo tipo e valor.</p><p><code class="literal">assertNotSame()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><p><code class="literal">assertAttributeSame()</code> e <code class="literal">assertAttributeNotSame()</code> são invólucros convenientes que usam um atributo <code class="literal">public</code>, <code class="literal">protected</code>, ou <code class="literal">private</code> de uma classe ou objeto como o valor atual.</p><div class="example"><a id="appendixes.assertions.assertSame.example"></a><p class="title"><strong>Exemplo A.35: Utilização de assertSame()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class SameTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertSame('2204', 2204);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit SameTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) SameTest::testFailure
Failed asserting that 2204 is identical to '2204'.

/home/sb/SameTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"><p><code class="literal">assertSame(object $expected, object $actual[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se as variáveis <code class="literal">$expected</code> e <code class="literal">$actual</code> não referenciam o mesmo objeto.</p><div class="example"><a id="appendixes.assertions.assertSame.example2"></a><p class="title"><strong>Exemplo A.36: Utilização de assertSame() com objetos</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class SameTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertSame(new stdClass, new stdClass);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit SameTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 4.75Mb

There was 1 failure:

1) SameTest::testFailure
Failed asserting that two variables reference the same object.

/home/sb/SameTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertStringEndsWith"></a>assertStringEndsWith()</h2></div></div></div><a id="idp2271088" class="indexterm"></a><a id="idp2271664" class="indexterm"></a><p><code class="literal">assertStringEndsWith(string $suffix, string $string[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se a <code class="literal">$string</code> não termina com <code class="literal">$suffix</code>.</p><p><code class="literal">assertStringEndsNotWith()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertStringEndsWith.example"></a><p class="title"><strong>Exemplo A.37: Utilização de assertStringEndsWith()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class StringEndsWithTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertStringEndsWith('suffix', 'foo');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit StringEndsWithTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 1 second, Memory: 5.00Mb

There was 1 failure:

1) StringEndsWithTest::testFailure
Failed asserting that 'foo' ends with "suffix".

/home/sb/StringEndsWithTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertStringEqualsFile"></a>assertStringEqualsFile()</h2></div></div></div><a id="idp2279552" class="indexterm"></a><a id="idp2280144" class="indexterm"></a><p><code class="literal">assertStringEqualsFile(string $expectedFile, string $actualString[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o arquivo especificado por <code class="literal">$expectedFile</code> não tem <code class="literal">$actualString</code> com seu conteúdo.</p><p><code class="literal">assertStringNotEqualsFile()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertStringEqualsFile.example"></a><p class="title"><strong>Exemplo A.38: Utilização de assertStringEqualsFile()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class StringEqualsFileTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertStringEqualsFile('/home/sb/expected', 'actual');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit StringEqualsFileTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) StringEqualsFileTest::testFailure
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'expected
-'
+'actual'

/home/sb/StringEqualsFileTest.php:6

FAILURES!
Tests: 1, Assertions: 2, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertStringStartsWith"></a>assertStringStartsWith()</h2></div></div></div><a id="idp2288160" class="indexterm"></a><a id="idp2288752" class="indexterm"></a><p><code class="literal">assertStringStartsWith(string $prefix, string $string[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se a <code class="literal">$string</code> não inicia com <code class="literal">$prefix</code>.</p><p><code class="literal">assertStringStartsNotWith()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertStringStartsWith.example"></a><p class="title"><strong>Exemplo A.39: Utilização de assertStringStartsWith()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class StringStartsWithTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertStringStartsWith('prefix', 'foo');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit StringStartsWithTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) StringStartsWithTest::testFailure
Failed asserting that 'foo' starts with "prefix".

/home/sb/StringStartsWithTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertThat"></a>assertThat()</h2></div></div></div><a id="idp2296640" class="indexterm"></a><p>
      Asserções mais complexas podem ser formuladas usando as 
      classes <code class="literal">PHPUnit_Framework_Constraint</code>. Elas podem ser 
      avaliadas usando o método <code class="literal">assertThat()</code>.
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat.example" title="Exemplo A.40: Utilização de assertThat()">Exemplo A.40</a> mostra como as 
      restrições <code class="literal">logicalNot()</code> e <code class="literal">equalTo()</code>
      podem ser usadas para expressar a mesma asserção como
      <code class="literal">assertNotEquals()</code>.
    </p><p><code class="literal">assertThat(mixed $value, PHPUnit_Framework_Constraint $constraint[, $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o<code class="literal">$value</code> não combina com a <code class="literal">$constraint</code>.</p><div class="example"><a id="appendixes.assertions.assertThat.example"></a><p class="title"><strong>Exemplo A.40: Utilização de assertThat()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class BiscuitTest extends PHPUnit_Framework_TestCase
{
    public function testEquals()
    {
        $theBiscuit = new Biscuit('Ginger');
        $myBiscuit  = new Biscuit('Ginger');

        $this-&gt;assertThat(
          $theBiscuit,
          $this-&gt;logicalNot(
            $this-&gt;equalTo($myBiscuit)
          )
        );
    }
}
?&gt;</pre></div></div><br class="example-break"><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat.tables.constraints" title="Tabela A.1. Restrições">Tabela A.1</a> mostra as
      classes <code class="literal">PHPUnit_Framework_Constraint</code> disponíveis.
    </p><div class="table"><a id="appendixes.assertions.assertThat.tables.constraints"></a><p class="title"><strong>Tabela A.1. Restrições</strong></p><div class="table-contents"><table class="table" summary="Restrições" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">Restrição</th><th align="left">Significado</th></tr></thead><tbody><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_Attribute attribute(PHPUnit_Framework_Constraint $constraint, $attributeName)</code></td><td align="left">Restrição que aplica outra restrição a um atributo de uma classe ou objeto.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_IsAnything anything()</code></td><td align="left">Restrição que aceita qualquer valor de entrada.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_ArrayHasKey arrayHasKey(mixed $key)</code></td><td align="left">Restrição que assevera que o array foi avaliado a ter uma chave fornecida.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_TraversableContains contains(mixed $value)</code></td><td align="left">Restrição que assevera que o <code class="literal">array</code> ou objeto que implementa a interface <code class="literal">Iterator</code> foi avaliado para conter um valor fornecido.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_TraversableContainsOnly containsOnly(string $type)</code></td><td align="left">Restrição que assevera que o <code class="literal">array</code> ou objeto que implementa a interface <code class="literal">Iterator</code> foi avaliado para conter somente valores de um tipo fornecido.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_TraversableContainsOnly containsOnlyInstancesOf(string $classname)</code></td><td align="left">Restrição que assevera que o <code class="literal">array</code> ou objeto que implementa a interface <code class="literal">Iterator</code> foi avaliado para conter somente instâncias de um nome de classe fornecido.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_IsEqual equalTo($value, $delta = 0, $maxDepth = 10)</code></td><td align="left">Restrição que verificar se um valor é igual a outro.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_Attribute attributeEqualTo($attributeName, $value, $delta = 0, $maxDepth = 10)</code></td><td align="left">Restrição que verificar se um valor é igual a um atributo de uma classe ou de um objeto.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_FileExists fileExists()</code></td><td align="left">Restrição que verificar se o arquivo(nome) que foi avaliado existe.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_GreaterThan greaterThan(mixed $value)</code></td><td align="left">Restrição que assevera que o valor que foi avaliado é maior que um valor fornecido.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_Or greaterThanOrEqual(mixed $value)</code></td><td align="left">Restrição que assevera que o valor que foi avaliado é maior ou igual a um valor fornecido.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_ClassHasAttribute classHasAttribute(string $attributeName)</code></td><td align="left">Restrição que assevera que a classe que foi avaliada tem um atributo fornecido.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_ClassHasStaticAttribute classHasStaticAttribute(string $attributeName)</code></td><td align="left">Restrição que assevera que a classe que foi avaliada tem um atributo estático fornecido.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_ObjectHasAttribute hasAttribute(string $attributeName)</code></td><td align="left">Restrição que assevera que o objeto que foi avaliado tem um atributo fornecido.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_IsIdentical identicalTo(mixed $value)</code></td><td align="left">Restrição que assevera que um valor é idêntico a outro.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_IsFalse isFalse()</code></td><td align="left">Restrição que assevera que o valor que foi avaliado é <code class="literal">FALSE</code>.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_IsInstanceOf isInstanceOf(string $className)</code></td><td align="left">Restrição que assevera que o objeto que foi avaliado é uma instância de uma classe fornecida.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_IsNull isNull()</code></td><td align="left">Restrição que assevera que o valor que foi avaliado é <code class="literal">NULL</code>.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_IsTrue isTrue()</code></td><td align="left">Restrição que assevera que o valor que foi avaliado é <code class="literal">TRUE</code>.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_IsType isType(string $type)</code></td><td align="left">Restrição que assevera que o valor que foi avaliado é de um tipo especificado.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_LessThan lessThan(mixed $value)</code></td><td align="left">Restrição que assevera que o valor que foi avaliado é menor que o valor fornecido.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_Or lessThanOrEqual(mixed $value)</code></td><td align="left">Restrição que assevera que o valor que foi avaliado é menor ou igual ao valor fornecido.</td></tr><tr><td align="left"><code class="literal">logicalAnd()</code></td><td align="left">Lógico AND.</td></tr><tr><td align="left"><code class="literal">logicalNot(PHPUnit_Framework_Constraint $constraint)</code></td><td align="left">Lógico NOT.</td></tr><tr><td align="left"><code class="literal">logicalOr()</code></td><td align="left">Lógico OR.</td></tr><tr><td align="left"><code class="literal">logicalXor()</code></td><td align="left">Lógico XOR.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_PCREMatch matchesRegularExpression(string $pattern)</code></td><td align="left">Restrição que assevera que a string que foi avaliada combina com uma expressão regular.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_StringContains stringContains(string $string, bool $case)</code></td><td align="left">Restrição que assevera que a string que foi avaliada contém uma string fornecida</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_StringEndsWith stringEndsWith(string $suffix)</code></td><td align="left">Restrição que assevera que a string que foi avaliada termina com um sufixo fornecido.</td></tr><tr><td align="left"><code class="literal">PHPUnit_Framework_Constraint_StringStartsWith stringStartsWith(string $prefix)</code></td><td align="left">Restrição que assevera que a string que foi avaliada começa com um prefixo fornecido.</td></tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertTrue"></a>assertTrue()</h2></div></div></div><a id="idp2381488" class="indexterm"></a><p><code class="literal">assertTrue(bool $condition[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o <code class="literal">$condition</code> é <code class="literal">FALSE</code>.</p><p><code class="literal">assertNotTrue()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertTrue.example"></a><p class="title"><strong>Exemplo A.41: Utilização de assertTrue()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class TrueTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertTrue(FALSE);
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit TrueTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) TrueTest::testFailure
Failed asserting that false is true.

/home/sb/TrueTest.php:6

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertXmlFileEqualsXmlFile"></a>assertXmlFileEqualsXmlFile()</h2></div></div></div><a id="idp2389248" class="indexterm"></a><a id="idp2389840" class="indexterm"></a><p><code class="literal">assertXmlFileEqualsXmlFile(string $expectedFile, string $actualFile[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o documento XML em <code class="literal">$actualFile</code> não é igual ao documento XML em <code class="literal">$expectedFile</code>.</p><p><code class="literal">assertXmlFileNotEqualsXmlFile()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertXmlFileEqualsXmlFile.example"></a><p class="title"><strong>Exemplo A.42: Utilização de assertXmlFileEqualsXmlFile()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class XmlFileEqualsXmlFileTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertXmlFileEqualsXmlFile(
          '/home/sb/expected.xml', '/home/sb/actual.xml');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit XmlFileEqualsXmlFileTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) XmlFileEqualsXmlFileTest::testFailure
Failed asserting that two DOM documents are equal.
--- Expected
+++ Actual
@@ @@
 &lt;?xml version="1.0"?&gt;
 &lt;foo&gt;
-  &lt;bar/&gt;
+  &lt;baz/&gt;
 &lt;/foo&gt;

/home/sb/XmlFileEqualsXmlFileTest.php:7

FAILURES!
Tests: 1, Assertions: 3, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertXmlStringEqualsXmlFile"></a>assertXmlStringEqualsXmlFile()</h2></div></div></div><a id="idp2397952" class="indexterm"></a><a id="idp2398544" class="indexterm"></a><p><code class="literal">assertXmlStringEqualsXmlFile(string $expectedFile, string $actualXml[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o documento XML em <code class="literal">$actualXml</code> não é igual ao documento XML em <code class="literal">$expectedFile</code>.</p><p><code class="literal">assertXmlStringNotEqualsXmlFile()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertXmlStringEqualsXmlFile.example"></a><p class="title"><strong>Exemplo A.43: Utilização de assertXmlStringEqualsXmlFile()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class XmlStringEqualsXmlFileTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertXmlStringEqualsXmlFile(
          '/home/sb/expected.xml', '&lt;foo&gt;&lt;baz/&gt;&lt;/foo&gt;');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit XmlStringEqualsXmlFileTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.25Mb

There was 1 failure:

1) XmlStringEqualsXmlFileTest::testFailure
Failed asserting that two DOM documents are equal.
--- Expected
+++ Actual
@@ @@
 &lt;?xml version="1.0"?&gt;
 &lt;foo&gt;
-  &lt;bar/&gt;
+  &lt;baz/&gt;
 &lt;/foo&gt;

/home/sb/XmlStringEqualsXmlFileTest.php:7

FAILURES!
Tests: 1, Assertions: 2, Failures: 1.</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.assertions.assertXmlStringEqualsXmlString"></a>assertXmlStringEqualsXmlString()</h2></div></div></div><a id="idp2406656" class="indexterm"></a><a id="idp2407248" class="indexterm"></a><p><code class="literal">assertXmlStringEqualsXmlString(string $expectedXml, string $actualXml[, string $message = ''])</code></p><p>Reporta um erro identificado pela <code class="literal">$message</code> se o documento XML em <code class="literal">$actualXml</code> não é igual ao documento XML em <code class="literal">$expectedXml</code>.</p><p><code class="literal">assertXmlStringNotEqualsXmlString()</code> é o inverso desta asserção e recebe os mesmos argumentos.</p><div class="example"><a id="appendixes.assertions.assertXmlStringEqualsXmlString.example"></a><p class="title"><strong>Exemplo A.44: Utilização de assertXmlStringEqualsXmlString()</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
class XmlStringEqualsXmlStringTest extends PHPUnit_Framework_TestCase
{
    public function testFailure()
    {
        $this-&gt;assertXmlStringEqualsXmlString(
          '&lt;foo&gt;&lt;bar/&gt;&lt;/foo&gt;', '&lt;foo&gt;&lt;baz/&gt;&lt;/foo&gt;');
    }
}
?&gt;</pre><pre class="screen"><strong class="userinput"><code>phpunit XmlStringEqualsXmlStringTest</code></strong>
PHPUnit 4.7.0 by Sebastian Bergmann and contributors.

F

Time: 0 seconds, Memory: 5.00Mb

There was 1 failure:

1) XmlStringEqualsXmlStringTest::testFailure
Failed asserting that two DOM documents are equal.
--- Expected
+++ Actual
@@ @@
 &lt;?xml version="1.0"?&gt;
 &lt;foo&gt;
-  &lt;bar/&gt;
+  &lt;baz/&gt;
 &lt;/foo&gt;

/home/sb/XmlStringEqualsXmlStringTest.php:7

FAILURES!
Tests: 1, Assertions: 1, Failures: 1.</pre></div></div><br class="example-break"></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="appendixes.annotations"></a>Apêndice B. Anotações</h1></div></div></div><p>
    <a id="idp1417744" class="indexterm"></a>

    Uma anotação é uma forma especial de metadados sintáticos que podem ser adicionados ao 
    código-fonte de algumas linguagens de programação. Enquanto o PHP não tem 
    um recurso de linguagem dedicado a anotação de código-fonte, o uso de tags 
    como <code class="literal">@annotation arguments</code> em bloco de documentação tem sido 
    estabelecido na comunidade do PHP para anotar o código-fonte. Os blocos 
    de documentação PHP são reflexivos: eles podem ser acessados através do 
    método <code class="literal">getDocComment()</code> da API Reflection a nível de função, 
    classe, método e atributo. Aplicações como o PHPUnit usam essa 
    informação em tempo de execução para configurar seu comportamento.
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
      Um comentário de documentação em PHP deve começar com <code class="literal">/**</code> e terminar com 
      <code class="literal">*/</code>. Anotações em algum outro estilo de comentário será 
      ignorada.
    </p></div><p>
    Este apêndice mostra todas as variedades de anotações suportadas pelo PHPUnit.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.author"></a>@author</h2></div></div></div><p>
      <a id="idp1622592" class="indexterm"></a>

      A anotação <code class="literal">@author</code> é um apelido para a anotação
      <code class="literal">@group</code> (veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.group" title="@group">“@group”</a>) e permite filtrar os testes baseado 
      em seus autores.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.after"></a>@after</h2></div></div></div><p>

      A anotação <code class="literal">@after</code> pode ser usada para especificar métodos 
      que devem ser chamados depois de cada método em uma classe de caso de teste.
      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @after
     */
    public function tearDownSomeFixtures()
    {
        // ...
    }

    /**
     * @after
     */
    public function tearDownSomeOtherFixtures()
    {
        // ...
    }
}</pre><p>
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.afterClass"></a>@afterClass</h2></div></div></div><p>

      A anotação <code class="literal">@afterClass</code> pode ser usada para especificar 
      métodos estáticos que devem ser chamados depois de todos os métodos de teste em uma classe 
      de teste foram executados para limpar ambientes compartilhados.
      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @afterClass
     */
    public static function tearDownSomeSharedFixtures()
    {
        // ...
    }

    /**
     * @afterClass
     */
    public static function tearDownSomeOtherSharedFixtures()
    {
        // ...
    }
}</pre><p>
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.backupGlobals"></a>@backupGlobals</h2></div></div></div><p>
      <a id="idp1632064" class="indexterm"></a>

      As operações de cópia de segurança e restauração para variáveis globais podem ser completamente 
      desabilitadas para todos os testes de uma classe de caso de teste como esta </p><pre class="programlisting">/**
 * @backupGlobals disabled
 */
class MyTest extends PHPUnit_Framework_TestCase
{
    // ...
}</pre><p>
    </p><p>
      <a id="idp1633920" class="indexterm"></a>

      A anotação <code class="literal">@backupGlobals</code> também pode ser usada a nível 
      de método de teste. Isso permite uma configuração refinada das 
      operações de cópia de segurança e restauração: </p><pre class="programlisting">/**
 * @backupGlobals disabled
 */
class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @backupGlobals enabled
     */
    public function testThatInteractsWithGlobalVariables()
    {
        // ...
    }
}</pre><p>
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.backupStaticAttributes"></a>@backupStaticAttributes</h2></div></div></div><p>
      <a id="idp1951264" class="indexterm"></a>

      A anotação <code class="literal">@backupStaticAttributes</code> pode ser usada para 
      copiar todos valores de propriedades estáticas em todas classes declaradas antes de cada 
      teste e restaurá-los depois. Pode ser usado em nível de classe de caso de teste ou
      método de teste:

      </p><pre class="programlisting">/**
 * @backupStaticAttributes enabled
 */
class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @backupStaticAttributes disabled
     */
    public function testThatInteractsWithStaticAttributes()
    {
        // ...
    }
}
</pre><p>
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        <code class="literal">@backupStaticAttributes</code> é limitada pela parte interna do PHP 
        e pode causar valores estáticos não intencionais ao persistir e vazar para 
        testes subsequentes em algumas circunstâncias.
      </p><p>
        Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.global-state" title="Estado Global">“Estado Global”</a> para detalhes.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.before"></a>@before</h2></div></div></div><p>

      A anotação <code class="literal">@before</code> pode ser usada para especificar métodos 
      que devem ser chamados antes de cada método de teste em uma classe de caso de teste.
      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @before
     */
    public function setupSomeFixtures()
    {
        // ...
    }

    /**
     * @before
     */
    public function setupSomeOtherFixtures()
    {
        // ...
    }
}</pre><p>
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.beforeClass"></a>@beforeClass</h2></div></div></div><p>

      A anotação <code class="literal">@beforeClass</code> pode ser usada para especificar métodos 
      estáticos que devem ser chamados antes de quaisquer métodos de teste em uma classe 
      de teste serem executados para criar ambientes compartilahdos.
      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @beforeClass
     */
    public static function setUpSomeSharedFixtures()
    {
        // ...
    }

    /**
     * @beforeClass
     */
    public static function setUpSomeOtherSharedFixtures()
    {
        // ...
    }
}</pre><p>
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.codeCoverageIgnore"></a>@codeCoverageIgnore*</h2></div></div></div><p>
      <a id="idp1963312" class="indexterm"></a>
      <a id="idp1963888" class="indexterm"></a>
      <a id="idp1964480" class="indexterm"></a>

      As anotações <code class="literal">@codeCoverageIgnore</code>,
      <code class="literal">@codeCoverageIgnoreStart</code> e
      <code class="literal">@codeCoverageIgnoreEnd</code> podem ser usadas 
      para excluir linhas de código da análise de cobertura.
    </p><p>
      Para uso, veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.ignoring-code-blocks" title="Ignorando Blocos de Código">“Ignorando Blocos de Código”</a>.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.covers"></a>@covers</h2></div></div></div><p>
      <a id="idp1845344" class="indexterm"></a>
      <a id="idp1845920" class="indexterm"></a>

      A anotação <code class="literal">@covers</code> pode ser usada no código de teste para 
      especificar quais métodos um método de teste quer testar: </p><pre class="programlisting">/**
 * @covers BankAccount::getBalance
 */
public function testBalanceIsInitiallyZero()
{
    $this-&gt;assertEquals(0, $this-&gt;ba-&gt;getBalance());
}</pre><p>
    </p><p>
      Se fornecida, apenas a informação de cobertura de código para o(s) 
      método(s) especificado(s) será considerada.
    </p><p>
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.covers.tables.annotations" title="Tabela B.1. Anotações para especificar quais métodos são cobertos por um teste">Tabela B.1</a> mostra 
      a sintaxe da anotação <code class="literal">@covers</code>.
    </p><div class="table"><a id="appendixes.annotations.covers.tables.annotations"></a><p class="title"><strong>Tabela B.1. Anotações para especificar quais métodos são cobertos por um teste</strong></p><div class="table-contents"><table class="table" summary="Anotações para especificar quais métodos são cobertos por um teste" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">Anotação</th><th align="left">Descrição</th></tr></thead><tbody><tr><td align="left"><code class="literal">@covers ClassName::methodName</code></td><td align="left"><code class="literal">Especifica que o método de teste anotado cobre o método especificado.</code></td></tr><tr><td align="left"><code class="literal">@covers ClassName</code></td><td align="left"><code class="literal">Especifica que o método de teste anotado cobre todos os métodos de uma dada classe.</code></td></tr><tr><td align="left"><code class="literal">@covers ClassName&lt;extended&gt;</code></td><td align="left"><code class="literal">Especifica que o método de teste anotado cobre todos os métodos de uma dada classe e sua(s) classe(s) pai(s) e interface(s).</code></td></tr><tr><td align="left"><code class="literal">@covers ClassName::&lt;public&gt;</code></td><td align="left"><code class="literal">Especifica que o método de teste anotado cobre todos os métodos públicos de uma dada classe.</code></td></tr><tr><td align="left"><code class="literal">@covers ClassName::&lt;protected&gt;</code></td><td align="left"><code class="literal">Especifica que o método de teste anotado cobre todos os métodos protegidos de uma dada classe.</code></td></tr><tr><td align="left"><code class="literal">@covers ClassName::&lt;private&gt;</code></td><td align="left"><code class="literal">Especifica que o método de teste anotado cobre todos os métodos privados de uma dada classe.</code></td></tr><tr><td align="left"><code class="literal">@covers ClassName::&lt;!public&gt;</code></td><td align="left"><code class="literal">Especifica que o método de teste anotado cobre todos os métodos que não sejam públicos de uma dada classe.</code></td></tr><tr><td align="left"><code class="literal">@covers ClassName::&lt;!protected&gt;</code></td><td align="left"><code class="literal">Especifica que o método de teste anotado cobre todos os métodos que não sejam protegidos de uma dada classe.</code></td></tr><tr><td align="left"><code class="literal">@covers ClassName::&lt;!private&gt;</code></td><td align="left"><code class="literal">Especifica que o método de teste anotado cobre todos os métodos que não sejam privados de uma dada classe.</code></td></tr><tr><td align="left"><code class="literal">@covers ::functionName</code></td><td align="left"><code class="literal">Especifica que o método de teste anotado cobre todos os métodos que não sejam privados de uma dada classe.</code></td></tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.coversDefaultClass"></a>@coversDefaultClass</h2></div></div></div><p>
      <a id="idp1873152" class="indexterm"></a>

      A anotação <code class="literal">@coversDefaultClass</code> pode ser usada para
      especificar um namespace padrão ou nome de classe. Dessa forma nomes longos não precisam ser
      repetidos para toda anotação <code class="literal">@covers</code>. Veja o
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.examples.CoversDefaultClassTest.php" title="Exemplo B.1: Usando @coversDefaultClass para encurtar anotações">Exemplo B.1</a>.
    </p><div class="example"><a id="appendixes.annotations.examples.CoversDefaultClassTest.php"></a><p class="title"><strong>Exemplo B.1: Usando @coversDefaultClass para encurtar anotações</strong></p><div class="example-contents"><pre class="programlisting">&lt;?php
/**
 * @coversDefaultClass \Foo\CoveredClass
 */
class CoversDefaultClassTest extends PHPUnit_Framework_TestCase
{
    /**
     * @covers ::publicMethod
     */
    public function testSomething()
    {
        $o = new Foo\CoveredClass;
        $o-&gt;publicMethod();
    }
}
?&gt;</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.coversNothing"></a>@coversNothing</h2></div></div></div><p>
      <a id="idp1878976" class="indexterm"></a>

      A anotação <code class="literal">@coversNothing</code> pode ser usada no 
      código de teste para especificar que nenhuma informação de cobertura de código será 
      gravada para o caso de teste anotado.
    </p><p>
        Isso pode ser usado para testes de integração. Veja
        <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.specifying-covered-methods.examples.GuestbookIntegrationTest.php" title="Exemplo 11.3: Um teste que especifica que nenhum método deve ser coberto">Exemplo 11.3</a>
        para um exemplo.
    </p><p>
        A anotação pode ser usada nos níveis de classe e de método e 
        vão sobrescrever quaisquer tags <code class="literal">@covers</code>.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.dataProvider"></a>@dataProvider</h2></div></div></div><p>
      <a id="idp1883808" class="indexterm"></a>

      Um método de teste pode aceitar argumentos arbitrários. Esses argumentos devem ser 
      fornecidos por um método provedor  (<code class="literal">provider()</code> em
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.data-providers.examples.DataTest.php" title="Exemplo 2.5: Usando um provedor de dados que retorna um vetor de vetores">Exemplo 2.5</a>).
      O método provedor de dados a ser usado é especificado usando a anotação
      <code class="literal">@dataProvider</code>.
    </p><p>
      Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.data-providers" title="Provedores de Dados">“Provedores de Dados”</a> para mais 
      detalhes.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.depends"></a>@depends</h2></div></div></div><p>
      <a id="idp1888784" class="indexterm"></a>

      O PHPUnit suporta a declaração de dependências explícitas entre métodos 
      de teste. Tais dependências não definem a ordem em que os métodos de teste 
      devem ser executados, mas permitem o retorno de uma instância do 
      ambiente de teste por um produtor e passá-la aos consumidores dependentes.
      O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.examples.StackTest2.php" title="Exemplo 2.2: Usando a anotação @depends para expressar dependências">Exemplo 2.2</a> mostra 
      como usar a anotação <code class="literal">@depends</code> para expressar 
      dependências entre métodos de teste.
    </p><p>
      Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.test-dependencies" title="Dependências de Testes">“Dependências de Testes”</a> para mais 
      detalhes.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.expectedException"></a>@expectedException</h2></div></div></div><p>
      <a id="idp1893488" class="indexterm"></a>

      O <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions.examples.ExceptionTest.php" title="Exemplo 2.9: Usando a anotação @expectedException">Exemplo 2.9</a>
      mostra como usar a anotação <code class="literal">@expectedException</code> para 
      testar se uma exceção é lançada dentro do código testado.
    </p><p>
      Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions" title="Testando Exceções">“Testando Exceções”</a> para mais 
      detalhes.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.expectedExceptionCode"></a>@expectedExceptionCode</h2></div></div></div><p>
      <a id="idp1897888" class="indexterm"></a>

      A anotação <code class="literal">@expectedExceptionCode</code> em conjunção 
      com a <code class="literal">@expectedException</code> permite fazer asserções no 
      código de erro de uma exceção lançada, permitindo diminuir uma 
      exceção específica.

      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @expectedException     MyException
     * @expectedExceptionCode 20
     */
    public function testExceptionHasErrorcode20()
    {
        throw new MyException('Some Message', 20);
    }
}</pre><p>

      Para facilitar o teste e reduzir a duplicação, um atalho pode ser usado para 
      especificar uma constante de classe como um
      <code class="literal">@expectedExceptionCode</code> usando a sintaxe
      "<code class="literal">@expectedExceptionCode ClassName::CONST</code>".

      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    /**
      * @expectedException     MyException
      * @expectedExceptionCode MyClass::ERRORCODE
      */
    public function testExceptionHasErrorcode20()
    {
      throw new MyException('Some Message', 20);
    }
}
class MyClass
{
    const ERRORCODE = 20;
}</pre><p>

    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.expectedExceptionMessage"></a>@expectedExceptionMessage</h2></div></div></div><p>
      <a id="idp1903664" class="indexterm"></a>

      A anotação <code class="literal">@expectedExceptionMessage</code> trabalha de modo similar 
      a <code class="literal">@expectedExceptionCode</code> já que lhe permite fazer uma 
      asserção na mensagem de erro de uma exceção.

      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @expectedException        MyException
     * @expectedExceptionMessage Some Message
     */
    public function testExceptionHasRightMessage()
    {
        throw new MyException('Some Message', 20);
    }
}</pre><p>

      A mensagem esperada pode ser uma substring de uma Mensagem de exceção. 
      Isso pode ser útil para asseverar apenas que um certo nome ou parâmetro que 
      foi passado é mostrado na exceção e não fixar toda a 
      mensagem de exceção no teste.

      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
     /**
      * @expectedException        MyException
      * @expectedExceptionMessage broken
      */
     public function testExceptionHasRightMessage()
     {
         $param = "broken";
         throw new MyException('Invalid parameter "'.$param.'".', 20);
     }
}</pre><p>

      Para facilitar o teste e reduzir duplicação um atalho pode ser usado para 
      especificar uma constante de classe como uma
      <code class="literal">@expectedExceptionMessage</code> usando a sintaxe
      "<code class="literal">@expectedExceptionMessage ClassName::CONST</code>".

      Um exemplo pode ser encontrado na seção chamada <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedExceptionCode" title="@expectedExceptionCode">“@expectedExceptionCode”</a>.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.expectedExceptionMessageRegExp"></a>@expectedExceptionMessageRegExp</h2></div></div></div><p>
      <a id="idp1910368" class="indexterm"></a>

      A mensagem experada também pode ser especificada como uma expressão regular usando
      a anotação <code class="literal">@expectedExceptionMessageRegExp</code>. Isso
      é útil em situações aonde uma substring não é adequada para combinar 
      uma determinada mensagem.

      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
     /**
      * @expectedException              MyException
      * @expectedExceptionMessageRegExp /Argument \d+ can not be an? \w+/
      */
     public function testExceptionHasRightMessage()
     {
         throw new MyException('Argument 2 can not be an integer');
     }
}</pre><p>
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.group"></a>@group</h2></div></div></div><p>
      <a id="idp1914032" class="indexterm"></a>

      Um teste pode ser marcado como pertencente a um ou mais grupos usando a 
      anotação <code class="literal">@group</code> desta forma </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @group specification
     */
    public function testSomething()
    {
    }

    /**
     * @group regresssion
     * @group bug2204
     */
    public function testSomethingElse()
    {
    }
}</pre><p>
    </p><p>
      Testes podem ser selecionados para execução baseada em grupos usando as 
      opções <code class="literal">--group</code> e <code class="literal">--exclude-group</code> 
      do executor de teste em linha-de-comando ou usando as respectivas diretivas do 
      arquivo de configuração XML.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.large"></a>@large</h2></div></div></div><p>
      <a id="idp1918992" class="indexterm"></a>

      A anotação <code class="literal">@large</code> é um apelido para 
      <code class="literal">@group large</code>.
    </p><p>
      <a id="idp1921056" class="indexterm"></a>
      <a id="idp1921760" class="indexterm"></a>

      Se o pacote <code class="literal">PHP_Invoker</code> estiver instalado e o modo 
      estrito estiver habilitado, um teste grande irá falhar se ele demorar mais de 60 
      segundos para executar. Esse tempo de espera é configurável através do 
      atributo <code class="literal">timeoutForLargeTests</code> no arquivo 
      de configuração XML.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.medium"></a>@medium</h2></div></div></div><p>
      <a id="idp1925216" class="indexterm"></a>

      A anotação <code class="literal">@medium</code> é um apelido para
      <code class="literal">@group medium</code>. Um teste médio não deve depender de um teste
      marcado como <code class="literal">@large</code>.
    </p><p>
      <a id="idp1927776" class="indexterm"></a>
      <a id="idp1928480" class="indexterm"></a>

      Se o pacote <code class="literal">PHP_Invoker</code> estiver instalado e o modo 
      estrito estiver habilitado, um teste médio irá falhar se ele demorar mais de 10 
      segundos para executar. Esse tempo de espera é configurável através do 
      atributo <code class="literal">timeoutForMediumTests</code> no arquivo 
      de configuração XML.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.preserveGlobalState"></a>@preserveGlobalState</h2></div></div></div><p>
      <a id="idp1931952" class="indexterm"></a>

      Quando um teste é executado em um processo separado, o PHPUnit 
      tentará preservar o estado global de processo pai 
      serializando todos globais no processo pai e deserializando-os 
      no processo filho. Isso pode causar problemas se o processo pai 
      contém globais que não são serializáveis. Para corrigir isto, você pode prevenir o 
      PHPUnit de preservar o estado global com a 
      anotação <code class="literal">@preserveGlobalState</code>.
      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @runInSeparateProcess
     * @preserveGlobalState disabled
     */
    public function testInSeparateProcess()
    {
        // ...
    }
}</pre><p>
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.requires"></a>@requires</h2></div></div></div><p>
      <a id="idp1935664" class="indexterm"></a>

      A anotação <code class="literal">@requires</code> pode ser usada para pular testes quando pré-condições
      comuns, como a Versão do PHP ou extensões instaladas, não batem.
    </p><p>
      <a id="idp1937392" class="indexterm"></a>
      Uma lista completa de possibilidades e exemplos pode ser encontrada em
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.requires.tables.api" title="Tabela 7.3. Possíveis usos para @requires">Tabela 7.3</a>
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.runTestsInSeparateProcesses"></a>@runTestsInSeparateProcesses</h2></div></div></div><p>
      <a id="idp1940416" class="indexterm"></a>

      Indica que todos testes em uma classe de teste devem ser executados em um processo 
      PHP separado. </p><pre class="programlisting">/**
 * @runTestsInSeparateProcesses
 */
class MyTest extends PHPUnit_Framework_TestCase
{
    // ...
}</pre><p>

      <span class="strong"><strong>Nota:</strong></span> Por padrão, o PHPUnit tentará
      preservar o estado global de processo pai 
      serializando todos globais no processo pai e deserializando-os 
      no processo filho. Isso pode causar problemas se o processo pai 
      contém globais que não são serializáveis. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.preserveGlobalState" title="@preserveGlobalState">“@preserveGlobalState”</a> para informações 
      de como corrigir isso.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.runInSeparateProcess"></a>@runInSeparateProcess</h2></div></div></div><p>
      <a id="idp1944896" class="indexterm"></a>

      Indica que um teste deve ser executado em um processo PHP separado.
      </p><pre class="programlisting">class MyTest extends PHPUnit_Framework_TestCase
{
    /**
     * @runInSeparateProcess
     */
    public function testInSeparateProcess()
    {
        // ...
    }
}</pre><p>

      <span class="strong"><strong>Nota:</strong></span> Por padrão, o PHPUnit tentará
      preservar o estado global de processo pai 
      serializando todos globais no processo pai e deserializando-os 
      no processo filho. Isso pode causar problemas se o processo pai 
      contém globais que não são serializáveis. Veja <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.preserveGlobalState" title="@preserveGlobalState">“@preserveGlobalState”</a> para informações 
      de como corrigir isso.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.small"></a>@small</h2></div></div></div><p>
      <a id="idp1658800" class="indexterm"></a>

      A anotação <code class="literal">@small</code> é um apelido para
      <code class="literal">@group small</code>. Um teste pequeno não deve depender de um teste
      marcado como <code class="literal">@medium</code> ou <code class="literal">@large</code>.
    </p><p>
      <a id="idp1661808" class="indexterm"></a>
      <a id="idp1662512" class="indexterm"></a>

      Se o pacote <code class="literal">PHP_Invoker</code> estiver instalado e o modo 
      estrito estiver habilitado, um teste pequeno irá falhar se ele demorar mais de 1
      segundo para executar. Esse tempo de espera é configurável através do 
      atributo <code class="literal">timeoutForLargeTests</code> no arquivo 
      de configuração XML.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
        Pr padrão, todos testes são considerados pequenos se eles não são 
        como <code class="literal">@medium</code> ou <code class="literal">@large</code>. Note, por favor,
        no entanto, que <code class="literal">--group</code> e as opções relacionadas irão 
        apenas considerarão um teste ser do grupo <code class="literal">small</code> se ele 
        é marcado explicitamente com a anotação apropriada.
      </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.test"></a>@test</h2></div></div></div><p>
      <a id="idp1668896" class="indexterm"></a>

      Como uma alternativa para prefixar seus nomes de métodos de teste com
      <code class="literal">test</code>, você pode usar a anotação <code class="literal">@test</code>
      no Bloco de Documentação do método para marcá-lo como um método de teste.
      </p><pre class="programlisting">/**
 * @test
 */
public function initialBalanceShouldBe0()
{
    $this-&gt;assertEquals(0, $this-&gt;ba-&gt;getBalance());
}</pre><p>
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.testdox"></a>@testdox</h2></div></div></div><p>
      <a id="idp1672704" class="indexterm"></a>
      <a id="idp1673280" class="indexterm"></a>
    </p><pre class="programlisting"></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.ticket"></a>@ticket</h2></div></div></div><p>
      <a id="idp1675776" class="indexterm"></a>
    </p><pre class="programlisting"></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.annotations.uses"></a>@uses</h2></div></div></div><p>
      <a id="idp1678272" class="indexterm"></a>

      A anotação <code class="literal">@uses</code> especifica o código que irá 
      ser executado por um teste, mas não se destina a ser coberto pelo teste. Um bom
      exemplo é um objeto valor que é necessário para testar um unidade de código.
      </p><pre class="programlisting">/**
 * @covers BankAccount::deposit
 * @uses   Money
 */
public function testMoneyCanBeDepositedInAccount()
{
    // ...
}</pre><p>
    </p><p>
      Essa anotação é especialmente útil em modo de cobertura estrita aonde 
      código coberto involuntariamente fará um teste falhar. Veja
      <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#risky-tests.unintentionally-covered-code" title="Cobertura de Código Involuntária">“Cobertura de Código Involuntária”</a> para mais 
      informação sobre modo de cobertura estrito.
    </p></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="appendixes.configuration"></a>Apêndice C. O arquivo de configuração XML</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.configuration.phpunit"></a>PHPUnit</h2></div></div></div><p>
      Os atributos do elemento <code class="literal">&lt;phpunit&gt;</code> podem 
      ser usados para configurar a funcionalidade principal do PHPUnit.
    </p><pre class="screen">&lt;phpunit
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="https://schema.phpunit.de/6.2/phpunit.xsd"
         backupGlobals="true"
         backupStaticAttributes="false"
         &lt;!--bootstrap="/path/to/bootstrap.php"--&gt;
         cacheTokens="false"
         colors="false"
         convertErrorsToExceptions="true"
         convertNoticesToExceptions="true"
         convertWarningsToExceptions="true"
         forceCoversAnnotation="false"
         mapTestClassNameToCoveredClassName="false"
         printerClass="PHPUnit_TextUI_ResultPrinter"
         &lt;!--printerFile="/path/to/ResultPrinter.php"--&gt;
         processIsolation="false"
         stopOnError="false"
         stopOnFailure="false"
         stopOnIncomplete="false"
         stopOnSkipped="false"
         testSuiteLoaderClass="PHPUnit_Runner_StandardTestSuiteLoader"
         &lt;!--testSuiteLoaderFile="/path/to/StandardTestSuiteLoader.php"--&gt;
         timeoutForSmallTests="1"
         timeoutForMediumTests="10"
         timeoutForLargeTests="60"
         verbose="false"&gt;
  &lt;!-- ... --&gt;
&lt;/phpunit&gt;</pre><p>
      A configuração XML acima corresponde ao comportamento padrão do 
      executor de teste TextUI documentado na <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions" title="Opções de linha-de-comando">“Opções de linha-de-comando”</a>.
    </p><p>
      Opções adicionais que não estão disponíveis como opções em linha-de-comando são:
    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">convertErrorsToExceptions</code></span></dt><dd><p>
            Por padrão, PHPUnit irá instalar um manipulador de erro que converte 
            os seguintes erros para exceções:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><code class="literal">E_WARNING</code></li><li class="listitem"><code class="literal">E_NOTICE</code></li><li class="listitem"><code class="literal">E_USER_ERROR</code></li><li class="listitem"><code class="literal">E_USER_WARNING</code></li><li class="listitem"><code class="literal">E_USER_NOTICE</code></li><li class="listitem"><code class="literal">E_STRICT</code></li><li class="listitem"><code class="literal">E_RECOVERABLE_ERROR</code></li><li class="listitem"><code class="literal">E_DEPRECATED</code></li><li class="listitem"><code class="literal">E_USER_DEPRECATED</code></li></ul></div><p>
            Definir <code class="literal">convertErrorsToExceptions</code> para
            <code class="literal">false</code> desabilita esta funcionalidade.
          </p></dd><dt><span class="term"><code class="literal">convertNoticesToExceptions</code></span></dt><dd><p>
            Quando definido para <code class="literal">false</code>, o manipulador de erro instalado
            pelo <code class="literal">convertErrorsToExceptions</code> não irá converter os erros
            <code class="literal">E_NOTICE</code>, <code class="literal">E_USER_NOTICE</code>, ou
            <code class="literal">E_STRICT</code> para exceções.
          </p></dd><dt><span class="term"><code class="literal">convertWarningsToExceptions</code></span></dt><dd><p>
            Quando definido para <code class="literal">false</code>, o manipulador de erro instalado
            pelo <code class="literal">convertErrorsToExceptions</code> não irá converter os erros
            <code class="literal">E_WARNING</code> ou <code class="literal">E_USER_WARNING</code>
            para exceções.
          </p></dd><dt><span class="term"><code class="literal">forceCoversAnnotation</code></span></dt><dd><p>
            A Cobertura de Código só será gravada para testes que usem a anotação
            <code class="literal">@covers</code> documentada na 
            <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.covers" title="@covers">“@covers”</a>.
          </p></dd><dt><span class="term"><code class="literal">timeoutForLargeTests</code></span></dt><dd><p>
            Se o limite de tempo baseado no tamanho do teste são forçados então esse atributo
            define o tempo limite para todos os testes marcados como <code class="literal">@large</code>.
            Se um teste não completa dentro do tempo limite configurado, irá 
            falhar.
          </p></dd><dt><span class="term"><code class="literal">timeoutForMediumTests</code></span></dt><dd><p>
            Se o limite de tempo baseado no tamanho do teste são forçados então esse atributo
            define o tempo limite para todos os testes marcados como <code class="literal">@medium</code>.
            Se um teste não completa dentro do tempo limite configurado, irá 
            falhar.
          </p></dd><dt><span class="term"><code class="literal">timeoutForSmallTests</code></span></dt><dd><p>
            Se o limite de tempo baseado no tamanho do teste são forçados então esse atributo
            define o tempo limite para todos os testes marcados como 
            <code class="literal">@medium</code> ou <code class="literal">@large</code>. Se um teste 
            não completa dentro do tempo limite configurado, irá falhar.
          </p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.configuration.testsuites"></a>Suítes de Teste</h2></div></div></div><p>
      <a id="idp1578016" class="indexterm"></a>

      O elemento <code class="literal">&lt;testsuites&gt;</code> e seu(s) 
      um ou mais filhos <code class="literal">&lt;testsuite&gt;</code> podem ser 
      usados para compor uma suíte de teste fora das suítes e casos de teste.
    </p><pre class="screen">&lt;testsuites&gt;
  &lt;testsuite name="My Test Suite"&gt;
    &lt;directory&gt;/path/to/*Test.php files&lt;/directory&gt;
    &lt;file&gt;/path/to/MyTest.php&lt;/file&gt;
    &lt;exclude&gt;/path/to/exclude&lt;/exclude&gt;
  &lt;/testsuite&gt;
&lt;/testsuites&gt;</pre><p>
      Usando os atributos <code class="literal">phpVersion</code> e
      <code class="literal">phpVersionOperator</code>, uma versão exigida do PHP 
      pode ser especificada. O exemplo abaixo só vai adicionar os 
      arquivos <code class="filename">/caminho/para/*Test.php</code> e
      <code class="filename">/caminho/para/MeuTest.php</code> se a versão do PHP 
      for no mínimo 5.3.0.
    </p><pre class="screen">  &lt;testsuites&gt;
    &lt;testsuite name="My Test Suite"&gt;
      &lt;directory suffix="Test.php" phpVersion="5.3.0" phpVersionOperator="&gt;="&gt;/path/to/files&lt;/directory&gt;
      &lt;file phpVersion="5.3.0" phpVersionOperator="&gt;="&gt;/path/to/MyTest.php&lt;/file&gt;
    &lt;/testsuite&gt;
  &lt;/testsuites&gt;</pre><p>
      O atributo <code class="literal">phpVersionOperator</code> é opcional e 
      padronizado para <code class="literal">&gt;=</code>.
    </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.configuration.groups"></a>Grupos</h2></div></div></div><p>
      <a id="idp1586256" class="indexterm"></a>

      O elemento <code class="literal">&lt;groups&gt;</code> e seus filhos
      <code class="literal">&lt;include&gt;</code>,
      <code class="literal">&lt;exclude&gt;</code>, e
      <code class="literal">&lt;group&gt;</code> podem ser usados para selecionar 
      grupos de testes marcados com a anotação <code class="literal">@group</code>
      (documentada na <a class="xref" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.group" title="@group">“@group”</a>)
      que (não) deveriam ser executados.
    </p><pre class="screen">&lt;groups&gt;
  &lt;include&gt;
    &lt;group&gt;name&lt;/group&gt;
  &lt;/include&gt;
  &lt;exclude&gt;
    &lt;group&gt;name&lt;/group&gt;
  &lt;/exclude&gt;
&lt;/groups&gt;</pre><p>
      A configuração XML acima corresponde a invocar o executor de testes TextUI 
      com as seguintes opções:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">--group nome</code></p></li><li class="listitem"><p><code class="literal">--exclude-group nome</code></p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.configuration.blacklist-whitelist"></a>Incluindo e Excluindo Arquivos para Cobertura de Código</h2></div></div></div><p>
      <a id="idp1594320" class="indexterm"></a>
      <a id="idp1594896" class="indexterm"></a>
      <a id="idp1595472" class="indexterm"></a>

      O elemento <code class="literal">&lt;filter&gt;</code> e seus filhos podem 
      ser usados para configurar a lista-negra e lista-branca para o relatório de cobertura 
      de código.
    </p><pre class="screen">&lt;filter&gt;
  &lt;blacklist&gt;
    &lt;directory suffix=".php"&gt;/path/to/files&lt;/directory&gt;
    &lt;file&gt;/path/to/file&lt;/file&gt;
    &lt;exclude&gt;
      &lt;directory suffix=".php"&gt;/path/to/files&lt;/directory&gt;
      &lt;file&gt;/path/to/file&lt;/file&gt;
    &lt;/exclude&gt;
  &lt;/blacklist&gt;
  &lt;whitelist processUncoveredFilesFromWhitelist="true"&gt;
    &lt;directory suffix=".php"&gt;/path/to/files&lt;/directory&gt;
    &lt;file&gt;/path/to/file&lt;/file&gt;
    &lt;exclude&gt;
      &lt;directory suffix=".php"&gt;/path/to/files&lt;/directory&gt;
      &lt;file&gt;/path/to/file&lt;/file&gt;
    &lt;/exclude&gt;
  &lt;/whitelist&gt;
&lt;/filter&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.configuration.logging"></a>Registrando</h2></div></div></div><p>
      <a id="idp1599216" class="indexterm"></a>

      O elemento <code class="literal">&lt;logging&gt;</code> e seus filhos
      <code class="literal">&lt;log&gt;</code> podem ser usados para configurar o 
      registro da execução de teste.
    </p><pre class="screen">&lt;logging&gt;
  &lt;log type="coverage-html" target="/tmp/report" lowUpperBound="35"
       highLowerBound="70"/&gt;
  &lt;log type="coverage-clover" target="/tmp/coverage.xml"/&gt;
  &lt;log type="coverage-php" target="/tmp/coverage.serialized"/&gt;
  &lt;log type="coverage-text" target="php://stdout" showUncoveredFiles="false"/&gt;
  &lt;log type="json" target="/tmp/logfile.json"/&gt;
  &lt;log type="tap" target="/tmp/logfile.tap"/&gt;
  &lt;log type="junit" target="/tmp/logfile.xml" logIncompleteSkipped="false"/&gt;
  &lt;log type="testdox-html" target="/tmp/testdox.html"/&gt;
  &lt;log type="testdox-text" target="/tmp/testdox.txt"/&gt;
&lt;/logging&gt;</pre><p>
      A configuração XML acima corresponde a invocar o executor de teste TextUI 
      com as seguintes opções:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">--coverage-html /tmp/report</code></p></li><li class="listitem"><p><code class="literal">--coverage-clover /tmp/coverage.xml</code></p></li><li class="listitem"><p><code class="literal">--coverage-php /tmp/coverage.serialized</code></p></li><li class="listitem"><p><code class="literal">--coverage-text</code></p></li><li class="listitem"><p><code class="literal">--log-json /tmp/logfile.json</code></p></li><li class="listitem"><p><code class="literal">&gt; /tmp/logfile.txt</code></p></li><li class="listitem"><p><code class="literal">--log-tap /tmp/logfile.tap</code></p></li><li class="listitem"><p><code class="literal">--log-junit /tmp/logfile.xml</code></p></li><li class="listitem"><p><code class="literal">--testdox-html /tmp/testdox.html</code></p></li><li class="listitem"><p><code class="literal">--testdox-text /tmp/testdox.txt</code></p></li></ul></div><p>
      Os atributos <code class="literal">lowUpperBound</code>, <code class="literal">highLowerBound</code>,
      <code class="literal">logIncompleteSkipped</code> e
      <code class="literal">showUncoveredFiles</code> não possuem opção de 
      execução de teste TextUI equivalente.
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">lowUpperBound</code>: Porcentagem máxima de cobertura para ser considerado "moderadamente" coberto.</p></li><li class="listitem"><p><code class="literal">highLowerBound</code>: Porcentagem mínima de cobertura para ser considerado "altamente" coberto.</p></li><li class="listitem"><p><code class="literal">showUncoveredFiles</code>: Mostra todos arquivos da lista-branca na saída <code class="literal">--coverage-text</code> não apenas aqueles com informação de cobertura.</p></li><li class="listitem"><p><code class="literal">showOnlySummary</code>: Mostra somente o resumo na saída <code class="literal">--coverage-text</code>.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.configuration.test-listeners"></a>Ouvintes de Teste</h2></div></div></div><p>
      <a id="idp1683344" class="indexterm"></a>
      <a id="idp1683936" class="indexterm"></a>

      O elemento <code class="literal">&lt;listeners&gt;</code> e seus filhos
      <code class="literal">&lt;listener&gt;</code> podem ser usados para anexar 
      ouvintes adicionais de teste para a execução dos testes.
    </p><pre class="screen">&lt;listeners&gt;
  &lt;listener class="MyListener" file="/optional/path/to/MyListener.php"&gt;
    &lt;arguments&gt;
      &lt;array&gt;
        &lt;element key="0"&gt;
          &lt;string&gt;Sebastian&lt;/string&gt;
        &lt;/element&gt;
      &lt;/array&gt;
      &lt;integer&gt;22&lt;/integer&gt;
      &lt;string&gt;April&lt;/string&gt;
      &lt;double&gt;19.78&lt;/double&gt;
      &lt;null/&gt;
      &lt;object class="stdClass"/&gt;
    &lt;/arguments&gt;
  &lt;/listener&gt;
&lt;/listeners&gt;</pre><p>
      A configuração XML acima corresponde a anexar o objeto
      <code class="literal">$listener</code> (veja abaixo) à execução de teste:
    </p><pre class="screen">$listener = new MyListener(
  array('Sebastian'),
  22,
  'April',
  19.78,
  NULL,
  new stdClass
);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.configuration.php-ini-constants-variables"></a>Definindo configurações PHP INI, Constantes e Variáveis Globais</h2></div></div></div><p>
      <a id="idp1689344" class="indexterm"></a>
      <a id="idp1689920" class="indexterm"></a>
      <a id="idp1690496" class="indexterm"></a>

      O elemento <code class="literal">&lt;php&gt;</code> e seus filhos podem ser 
      usados para definir configurações do PHP, constantes e variáveis globais. Também pode 
      ser usado para preceder o <code class="literal">include_path</code>.
    </p><pre class="screen">&lt;php&gt;
  &lt;includePath&gt;.&lt;/includePath&gt;
  &lt;ini name="foo" value="bar"/&gt;
  &lt;const name="foo" value="bar"/&gt;
  &lt;var name="foo" value="bar"/&gt;
  &lt;env name="foo" value="bar"/&gt;
  &lt;post name="foo" value="bar"/&gt;
  &lt;get name="foo" value="bar"/&gt;
  &lt;cookie name="foo" value="bar"/&gt;
  &lt;server name="foo" value="bar"/&gt;
  &lt;files name="foo" value="bar"/&gt;
  &lt;request name="foo" value="bar"/&gt;
&lt;/php&gt;</pre><p>
      A configuração XML acima corresponde ao seguinte código PHP:
    </p><pre class="screen">ini_set('foo', 'bar');
define('foo', 'bar');
$GLOBALS['foo'] = 'bar';
$_ENV['foo'] = 'bar';
$_POST['foo'] = 'bar';
$_GET['foo'] = 'bar';
$_COOKIE['foo'] = 'bar';
$_SERVER['foo'] = 'bar';
$_FILES['foo'] = 'bar';
$_REQUEST['foo'] = 'bar';</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.configuration.selenium-rc"></a>Configurando Navegadores para Selenium RC</h2></div></div></div><p>
      <a id="idp1695904" class="indexterm"></a>

      O elemento <code class="literal">&lt;selenium&gt;</code> e seus filhos
      <code class="literal">&lt;browser&gt;</code> podem ser usados para 
      configurar uma lista de servidores Selenium RC.
    </p><pre class="screen">&lt;selenium&gt;
  &lt;browser name="Firefox on Linux"
           browser="*firefox /usr/lib/firefox/firefox-bin"
           host="my.linux.box"
           port="4444"
           timeout="30000"/&gt;
&lt;/selenium&gt;</pre><p>
      O arquivo de configuração XML acima corresponde ao seguinte código PHP:
    </p><pre class="screen">class WebTest extends PHPUnit_Extensions_SeleniumTestCase
{
    public static $browsers = array(
      array(
        'name'    =&gt; 'Firefox on Linux',
        'browser' =&gt; '*firefox /usr/lib/firefox/firefox-bin',
        'host'    =&gt; 'my.linux.box',
        'port'    =&gt; 4444,
        'timeout' =&gt; 30000
      )
    );

    // ...
}</pre></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="appendixes.upgrading"></a>Apêndice D. Atualizando</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="appendixes.upgrading.phpunit-4-0"></a>Atualizando de PHPUnit 3.7 para PHPUnit 4.0</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          O suporte limitado para <a class="ulink" href="http://sebastian-bergmann.de/blog/883-Stubbing-and-Mocking-Static-Methods.html" target="_top">esboçando
          e falsificando métodos estáticos</a> que foi introduzido no PHPUnit 3.5
          foi removido. Essa funcionalidade apenas funciona quando o método estático esboçado ou falsificado 
          era invocado de um outro método da mesma classe. Acreditamos 
          que o uso limitado desta funcionalidade não justificava o
          aumento da complexidade em geradores de dublês de testes em que incorreu.
          Pedimos desculpas por qualquer inconveniência que esta remoção possa causar e
          incentivamos a refatoração do código sobre teste para não exigir esse recurso 
          para testes.
        </p></li><li class="listitem"><p>
          O <code class="code">addRiskyTest()</code> foi adicionado a interface 
          <code class="code">PHPUnit_Framework_TestListener</code>. Classes que 
          implementam esta interface tem que implementar esse novo método. Essa é
          a razão por quê o PHPStorm 7 não é compatível com o PHPUnit 4, por
          exemplo.
        </p></li><li class="listitem"><p>
          As correções para <a class="ulink" href="https://github.com/sebastianbergmann/phpunit/issues/552" target="_top">#552</a>,
          <a class="ulink" href="https://github.com/sebastianbergmann/phpunit/issues/573" target="_top">#573</a>,
          e <a class="ulink" href="https://github.com/sebastianbergmann/phpunit/issues/582" target="_top">#582</a>
          necessita de uma alteração de como caminhos relativos são resolvidos para o arquivo de configuração 
          XML do PHPUnit. Todos caminhos relativos no arquivo de configuração agora são 
          resolvidos em relação a esse arquivo de configuração. Quando atualizar, você pode
          precisar atualizar os caminhos relativos para as configurações 
          <code class="code">testSuiteLoaderFile</code>, <code class="code">printerFile</code>,
          <code class="code">testsuites/file</code>, e <code class="code">testsuites/exclude</code>.
        </p></li><li class="listitem"><p>
          <a class="ulink" href="https://github.com/sebastianbergmann/phpunit/commit/f5df97cda0b25f2b7368395344da095ac529de62" target="_top">O 
          comparador numérico não é mais invocado quando fornecido com duas 
          strings</a>.
        </p></li></ul></div><p>
      Por favor, note que iniciar com PHPUnit 4.0.0, o pacote PEAR do PHPUnit 
      é apenas um mecanismo de distribuição para o PHP Archive (PHAR) e que 
      muitas dependências do PHPUnit não irão mais ser lançadas individualmente através 
      do PEAR. Iremos eventualmente parar de fazer lançamentos do PHPUnit disponível através do 
      PEAR completamente.
    </p><p>
      Por favor, note que usando o instalador PEAR para atualizar de PHPUnit 3.7 para 
      PHPUnit 4.0 vai deixar o arquivo-fonte obsoleto de versões anteriores das 
      dependências do PHPUnit (PHP_CodeCoverage, PHPUnit_MockObject, ...) por trás
      de seu diretório PEAR do ambiente do PHP. Aconselha-se desinstalar os 
      respectivos pacotes PEAR.
    </p></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="appendixes.index"></a>Apêndice E. Índice</h1></div></div></div><div class="index"><div class="titlepage"><div><div><h2 class="title"><a id="appendixes.index.index"></a></h2></div></div></div><div xmlns:xlink="http://www.w3.org/1999/xlink" class="index"><div class="indexdiv"><h3>Símbolos</h3><dl><dt id="ientry-idp499184">$backupGlobalsBlacklist, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.global-state">Estado Global</a></dt><dt id="ientry-idp504752">$backupStaticAttributesBlacklist, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.global-state">Estado Global</a></dt><dt id="ientry-idp611792">@author, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.author">@author</a></dt><dt id="ientry-idp498480">@backupGlobals, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.global-state">Estado Global</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.backupGlobals">@backupGlobals</a></dt><dt id="ientry-idp504048">@backupStaticAttributes, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.global-state">Estado Global</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.backupStaticAttributes">@backupStaticAttributes</a></dt><dt id="ientry-idp873888">@codeCoverageIgnore, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.ignoring-code-blocks">Ignorando Blocos de Código</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.codeCoverageIgnore">@codeCoverageIgnore*</a></dt><dt id="ientry-idp875056">@codeCoverageIgnoreEnd, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.ignoring-code-blocks">Ignorando Blocos de Código</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.codeCoverageIgnore">@codeCoverageIgnore*</a></dt><dt id="ientry-idp874464">@codeCoverageIgnoreStart, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.ignoring-code-blocks">Ignorando Blocos de Código</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.codeCoverageIgnore">@codeCoverageIgnore*</a></dt><dt id="ientry-idp883808">@covers, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.specifying-covered-methods">Especificando métodos cobertos</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.covers">@covers</a></dt><dt id="ientry-idp1873152">@coversDefaultClass, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.coversDefaultClass">@coversDefaultClass</a></dt><dt id="ientry-idp890512">@coversNothing, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.specifying-covered-methods">Especificando métodos cobertos</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.coversNothing">@coversNothing</a></dt><dt id="ientry-idp91360">@dataProvider, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.data-providers">Provedores de Dados</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.dataProvider">@dataProvider</a></dt><dt id="ientry-idp70848">@depends, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.test-dependencies">Dependências de Testes</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.data-providers">Provedores de Dados</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.depends">@depends</a></dt><dt id="ientry-idp379552">@expectedException, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions">Testando Exceções</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedException">@expectedException</a></dt><dt id="ientry-idp386848">@expectedExceptionCode, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions">Testando Exceções</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedExceptionCode">@expectedExceptionCode</a></dt><dt id="ientry-idp385664">@expectedExceptionMessage, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions">Testando Exceções</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedExceptionMessage">@expectedExceptionMessage</a></dt><dt id="ientry-idp386256">@expectedExceptionMessageRegExp, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions">Testando Exceções</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.expectedExceptionMessageRegExp">@expectedExceptionMessageRegExp</a></dt><dt id="ientry-idp612368">@group, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.group">@group</a></dt><dt id="ientry-idp1918992">@large, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.large">@large</a></dt><dt id="ientry-idp1925216">@medium, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.medium">@medium</a></dt><dt id="ientry-idp1931952">@preserveGlobalState, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.preserveGlobalState">@preserveGlobalState</a></dt><dt id="ientry-idp1935664">@requires, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.requires">@requires</a></dt><dt id="ientry-idp1944896">@runInSeparateProcess, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.runInSeparateProcess">@runInSeparateProcess</a></dt><dt id="ientry-idp1940416">@runTestsInSeparateProcesses, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.runTestsInSeparateProcesses">@runTestsInSeparateProcesses</a></dt><dt id="ientry-idp1658800">@small, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.small">@small</a></dt><dt id="ientry-idp266224">@test, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit">Escrevendo Testes para o PHPUnit</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.test">@test</a></dt><dt id="ientry-idp1673280">@testdox, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.testdox">@testdox</a></dt><dt id="ientry-idp1675776">@ticket, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.ticket">@ticket</a></dt><dt id="ientry-idp1678272">@uses, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.uses">@uses</a></dt></dl></div><div class="indexdiv"><h3>A</h3><dl><dt id="ientry-idp18256">Ambientes, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures">Ambientes</a></dt><dt id="ientry-idp265808">Anotação, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit">Escrevendo Testes para o PHPUnit</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.test-dependencies">Dependências de Testes</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.data-providers">Provedores de Dados</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.exceptions">Testando Exceções</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.ignoring-code-blocks">Ignorando Blocos de Código</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.specifying-covered-methods">Especificando métodos cobertos</a></dt><dt id="ientry-idp1417744">Anotações, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations">Anotações</a></dt><dt id="ientry-idp2313616">anything(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2315728">arrayHasKey(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp1425120">assertArrayHasKey(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertArrayHasKey">assertArrayHasKey()</a></dt><dt id="ientry-idp1425696">assertArrayNotHasKey(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertArrayHasKey">assertArrayHasKey()</a></dt><dt id="ientry-idp1647808">assertArraySubset(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertArraySubset">assertArraySubset()</a></dt><dt id="ientry-idp1534464">assertAttributeContains(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContains">assertContains()</a></dt><dt id="ientry-idp1997424">assertAttributeContainsOnly(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContainsOnly">assertContainsOnly()</a></dt><dt id="ientry-idp2026544">assertAttributeEmpty(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEmpty">assertEmpty()</a></dt><dt id="ientry-idp2047248">assertAttributeEquals(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEquals">assertEquals()</a></dt><dt id="ientry-idp2108960">assertAttributeGreaterThan(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertGreaterThan">assertGreaterThan()</a></dt><dt id="ientry-idp2118784">assertAttributeGreaterThanOrEqual(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertGreaterThanOrEqual">assertGreaterThanOrEqual()</a></dt><dt id="ientry-idp2129216">assertAttributeInstanceOf(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertInstanceOf">assertInstanceOf()</a></dt><dt id="ientry-idp2141456">assertAttributeInternalType(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertInternalType">assertInternalType()</a></dt><dt id="ientry-idp2176800">assertAttributeLessThan(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertLessThan">assertLessThan()</a></dt><dt id="ientry-idp2186544">assertAttributeLessThanOrEqual(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertLessThanOrEqual">assertLessThanOrEqual()</a></dt><dt id="ientry-idp1535056">assertAttributeNotContains(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContains">assertContains()</a></dt><dt id="ientry-idp1998016">assertAttributeNotContainsOnly(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContainsOnly">assertContainsOnly()</a></dt><dt id="ientry-idp2027120">assertAttributeNotEmpty(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEmpty">assertEmpty()</a></dt><dt id="ientry-idp2047824">assertAttributeNotEquals(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEquals">assertEquals()</a></dt><dt id="ientry-idp2129808">assertAttributeNotInstanceOf(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertInstanceOf">assertInstanceOf()</a></dt><dt id="ientry-idp2142048">assertAttributeNotInternalType(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertInternalType">assertInternalType()</a></dt><dt id="ientry-idp2255424">assertAttributeNotSame(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertSame">assertSame()</a></dt><dt id="ientry-idp2254848">assertAttributeSame(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertSame">assertSame()</a></dt><dt id="ientry-idp1433168">assertClassHasAttribute(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertClassHasAttribute">assertClassHasAttribute()</a></dt><dt id="ientry-idp1656272">assertClassHasStaticAttribute(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertClassHasStaticAttribute">assertClassHasStaticAttribute()</a></dt><dt id="ientry-idp1433712">assertClassNotHasAttribute(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertClassHasAttribute">assertClassHasAttribute()</a></dt><dt id="ientry-idp1656864">assertClassNotHasStaticAttribute(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertClassHasStaticAttribute">assertClassHasStaticAttribute()</a></dt><dt id="ientry-idp1533312">assertContains(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContains">assertContains()</a></dt><dt id="ientry-idp1996272">assertContainsOnly(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContainsOnly">assertContainsOnly()</a></dt><dt id="ientry-idp2009856">assertContainsOnlyInstancesOf(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContainsOnlyInstancesOf">assertContainsOnlyInstancesOf()</a></dt><dt id="ientry-idp2017024">assertCount(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertCount">assertCount()</a></dt><dt id="ientry-idp2025392">assertEmpty(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEmpty">assertEmpty()</a></dt><dt id="ientry-idp2046096">assertEquals(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEquals">assertEquals()</a></dt><dt id="ientry-idp2037072">assertEqualXMLStructure(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEqualXMLStructure">assertEqualXMLStructure()</a></dt><dt id="ientry-idp2084224">assertFalse(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertFalse">assertFalse()</a></dt><dt id="ientry-idp2091952">assertFileEquals(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertFileEquals">assertFileEquals()</a></dt><dt id="ientry-idp2100464">assertFileExists(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertFileExists">assertFileExists()</a></dt><dt id="ientry-idp2092528">assertFileNotEquals(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertFileEquals">assertFileEquals()</a></dt><dt id="ientry-idp2101040">assertFileNotExists(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertFileExists">assertFileExists()</a></dt><dt id="ientry-idp2108384">assertGreaterThan(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertGreaterThan">assertGreaterThan()</a></dt><dt id="ientry-idp2118192">assertGreaterThanOrEqual(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertGreaterThanOrEqual">assertGreaterThanOrEqual()</a></dt><dt id="ientry-idp2128064">assertInstanceOf(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertInstanceOf">assertInstanceOf()</a></dt><dt id="ientry-idp2140304">assertInternalType(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertInternalType">assertInternalType()</a></dt><dt id="ientry-idp2152496">assertJsonFileEqualsJsonFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertJsonFileEqualsJsonFile">assertJsonFileEqualsJsonFile()</a></dt><dt id="ientry-idp2153088">assertJsonFileNotEqualsJsonFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertJsonFileEqualsJsonFile">assertJsonFileEqualsJsonFile()</a></dt><dt id="ientry-idp2160368">assertJsonStringEqualsJsonFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertJsonStringEqualsJsonFile">assertJsonStringEqualsJsonFile()</a></dt><dt id="ientry-idp2168272">assertJsonStringEqualsJsonString(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertJsonStringEqualsJsonString">assertJsonStringEqualsJsonString()</a></dt><dt id="ientry-idp2160960">assertJsonStringNotEqualsJsonFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertJsonStringEqualsJsonFile">assertJsonStringEqualsJsonFile()</a></dt><dt id="ientry-idp2168864">assertJsonStringNotEqualsJsonString(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertJsonStringEqualsJsonString">assertJsonStringEqualsJsonString()</a></dt><dt id="ientry-idp2176224">assertLessThan(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertLessThan">assertLessThan()</a></dt><dt id="ientry-idp2185968">assertLessThanOrEqual(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertLessThanOrEqual">assertLessThanOrEqual()</a></dt><dt id="ientry-idp1533888">assertNotContains(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContains">assertContains()</a></dt><dt id="ientry-idp1996848">assertNotContainsOnly(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertContainsOnly">assertContainsOnly()</a></dt><dt id="ientry-idp2017600">assertNotCount(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertCount">assertCount()</a></dt><dt id="ientry-idp2025968">assertNotEmpty(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEmpty">assertEmpty()</a></dt><dt id="ientry-idp2046672">assertNotEquals(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertEquals">assertEquals()</a></dt><dt id="ientry-idp2128640">assertNotInstanceOf(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertInstanceOf">assertInstanceOf()</a></dt><dt id="ientry-idp2140880">assertNotInternalType(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertInternalType">assertInternalType()</a></dt><dt id="ientry-idp2196368">assertNotNull(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertNull">assertNull()</a></dt><dt id="ientry-idp2212768">assertNotRegExp(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertRegExp">assertRegExp()</a></dt><dt id="ientry-idp2254272">assertNotSame(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertSame">assertSame()</a></dt><dt id="ientry-idp2195792">assertNull(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertNull">assertNull()</a></dt><dt id="ientry-idp2204128">assertObjectHasAttribute(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertObjectHasAttribute">assertObjectHasAttribute()</a></dt><dt id="ientry-idp2204720">assertObjectNotHasAttribute(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertObjectHasAttribute">assertObjectHasAttribute()</a></dt><dt id="ientry-idp246768">assertPostConditions(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures">Ambientes</a></dt><dt id="ientry-idp246192">assertPreConditions(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures">Ambientes</a></dt><dt id="ientry-idp2212192">assertRegExp(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertRegExp">assertRegExp()</a></dt><dt id="ientry-idp2253696">assertSame(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertSame">assertSame()</a></dt><dt id="ientry-idp2271664">assertStringEndsNotWith(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringEndsWith">assertStringEndsWith()</a></dt><dt id="ientry-idp2271088">assertStringEndsWith(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringEndsWith">assertStringEndsWith()</a></dt><dt id="ientry-idp2279552">assertStringEqualsFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringEqualsFile">assertStringEqualsFile()</a></dt><dt id="ientry-idp2220592">assertStringMatchesFormat(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringMatchesFormat">assertStringMatchesFormat()</a></dt><dt id="ientry-idp2245104">assertStringMatchesFormatFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringMatchesFormatFile">assertStringMatchesFormatFile()</a></dt><dt id="ientry-idp2280144">assertStringNotEqualsFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringEqualsFile">assertStringEqualsFile()</a></dt><dt id="ientry-idp2221184">assertStringNotMatchesFormat(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringMatchesFormat">assertStringMatchesFormat()</a></dt><dt id="ientry-idp2245696">assertStringNotMatchesFormatFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringMatchesFormatFile">assertStringMatchesFormatFile()</a></dt><dt id="ientry-idp2288752">assertStringStartsNotWith(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringStartsWith">assertStringStartsWith()</a></dt><dt id="ientry-idp2288160">assertStringStartsWith(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertStringStartsWith">assertStringStartsWith()</a></dt><dt id="ientry-idp2296640">assertThat(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2381488">assertTrue(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertTrue">assertTrue()</a></dt><dt id="ientry-idp2389248">assertXmlFileEqualsXmlFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertXmlFileEqualsXmlFile">assertXmlFileEqualsXmlFile()</a></dt><dt id="ientry-idp2389840">assertXmlFileNotEqualsXmlFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertXmlFileEqualsXmlFile">assertXmlFileEqualsXmlFile()</a></dt><dt id="ientry-idp2397952">assertXmlStringEqualsXmlFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertXmlStringEqualsXmlFile">assertXmlStringEqualsXmlFile()</a></dt><dt id="ientry-idp2406656">assertXmlStringEqualsXmlString(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertXmlStringEqualsXmlString">assertXmlStringEqualsXmlString()</a></dt><dt id="ientry-idp2398544">assertXmlStringNotEqualsXmlFile(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertXmlStringEqualsXmlFile">assertXmlStringEqualsXmlFile()</a></dt><dt id="ientry-idp2407248">assertXmlStringNotEqualsXmlString(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertXmlStringEqualsXmlString">assertXmlStringEqualsXmlString()</a></dt><dt id="ientry-idp2311408">attribute(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2329312">attributeEqualTo(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt></dl></div><div class="indexdiv"><h3>C</h3><dl><dt id="ientry-idp2338000">classHasAttribute(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2340176">classHasStaticAttribute(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp543808">Cobertura de código, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dd><dl><dt>Lista-branca, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.including-excluding-files">Incluindo e Excluindo Arquivos</a></dt><dt>Lista-negra, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.including-excluding-files">Incluindo e Excluindo Arquivos</a></dt></dl></dd><dt id="ientry-idp1003616">Cobertura de Código, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis">Análise de Cobertura de Código</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.covers">@covers</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.blacklist-whitelist">Incluindo e Excluindo Arquivos para Cobertura de Código</a></dt><dd><dl><dt>Cobertura de Caminho, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.metrics">Métricas de Software para  Cobertura de Código</a></dt><dt>Cobertura de Classe e Trait, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.metrics">Métricas de Software para  Cobertura de Código</a></dt><dt>Cobertura de Código de Operação, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.metrics">Métricas de Software para  Cobertura de Código</a></dt><dt>Cobertura de Função e Método, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.metrics">Métricas de Software para  Cobertura de Código</a></dt><dt>Cobertura de Linha, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.metrics">Métricas de Software para  Cobertura de Código</a></dt><dt>Cobertura de Ramo, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.metrics">Métricas de Software para  Cobertura de Código</a></dt></dl></dd><dt id="ientry-idp932416">Componente Dependente, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles">Dublês de Testes</a></dt><dt id="ientry-idp691280">Configuração, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dt id="ientry-idp225008">Configuração XML, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#organizing-tests.xml-configuration">Compondo uma Suíte de Testes Usando uma Configuração XML</a></dt><dt id="ientry-idp1689344">Constante, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.php-ini-constants-variables">Definindo configurações PHP INI, Constantes e Variáveis Globais</a></dt><dt id="ientry-idp2317888">contains(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2320944">containsOnly(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2324032">containsOnlyInstancesOf(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt></dl></div><div class="indexdiv"><h3>D</h3><dl><dt id="ientry-idp276080">Dependências de Testes, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.test-dependencies">Dependências de Testes</a></dt><dt id="ientry-idp572992">Documentação Ágil, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests.agile-documentation">Documentação Ágil</a></dt><dt id="ientry-idp352208">Documentação Automatizada, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests.agile-documentation">Documentação Ágil</a></dt><dt id="ientry-idp918320">Documentando Suposições, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests.agile-documentation">Documentação Ágil</a></dt><dt id="ientry-idp932992">Dublê de Teste, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles">Dublês de Testes</a></dt></dl></div><div class="indexdiv"><h3>E</h3><dl><dt id="ientry-idp2327168">equalTo(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp325008">Erro, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui">O executor de testes em linha-de-comando</a></dt><dt id="ientry-idp997200">Esboço, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp922896">Esboços, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests.cross-team-tests">Testes Inter-Equipes</a></dt></dl></div><div class="indexdiv"><h3>F</h3><dl><dt id="ientry-idp325584">Falha, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui">O executor de testes em linha-de-comando</a></dt><dt id="ientry-idp2331536">fileExists(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt></dl></div><div class="indexdiv"><h3>G</h3><dl><dt id="ientry-idp812336">getMock(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp791184">getMockBuilder(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp1319232">getMockForAbstractClass(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mocking-traits-and-abstract-classes">Falsificando Traits e Classes Abstratas</a></dt><dt id="ientry-idp1315408">getMockForTrait(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mocking-traits-and-abstract-classes">Falsificando Traits e Classes Abstratas</a></dt><dt id="ientry-idp1324384">getMockFromWsdl(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubbing-and-mocking-web-services">Esboçando e Falsificando Serviços Web</a></dt><dt id="ientry-idp2333664">greaterThan(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2335824">greaterThanOrEqual(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp616896">Grupos de Teste, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.groups">Grupos</a></dt><dt id="ientry-idp610640">Grupos de Testes, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt></dl></div><div class="indexdiv"><h3>H</h3><dl><dt id="ientry-idp2342400">hasAttribute(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt></dl></div><div class="indexdiv"><h3>I</h3><dl><dt id="ientry-idp2344576">identicalTo(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp700816">include_path, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dt id="ientry-idp956784">Índice de Anti-Patterns de Mudança de Risco (CRAP - Change Risk Anti-Patterns), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis.metrics">Métricas de Software para  Cobertura de Código</a></dt><dt id="ientry-idp999520">Interface Fluente, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp2346720">isFalse(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2349296">isInstanceOf(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2351488">isNull(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp642560">Isoalmento de Teste, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dt id="ientry-idp641984">Isolamento de Processo, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dt id="ientry-idp648240">Isolamento de Teste, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dt id="ientry-idp490304">Isolamento de Testes, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.global-state">Estado Global</a></dt><dt id="ientry-idp2354064">isTrue(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2356640">isType(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt></dl></div><div class="indexdiv"><h3>J</h3><dl><dt id="ientry-idp569152">JSON, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt></dl></div><div class="indexdiv"><h3>L</h3><dl><dt id="ientry-idp2358800">lessThan(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2360960">lessThanOrEqual(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp1595472">Lista-branca, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.blacklist-whitelist">Incluindo e Excluindo Arquivos para Cobertura de Código</a></dt><dt id="ientry-idp1594896">Lista-negra, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.blacklist-whitelist">Incluindo e Excluindo Arquivos para Cobertura de Código</a></dt><dt id="ientry-idp78608">Localização de Defeitos, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.test-dependencies">Dependências de Testes</a></dt><dt id="ientry-idp562064">Logfile, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dt id="ientry-idp2363136">logicalAnd(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2365184">logicalNot(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2367264">logicalOr(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2369312">logicalXor(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt></dl></div><div class="indexdiv"><h3>M</h3><dl><dt id="ientry-idp425040">Manipulador de Erros, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.errors">Testando Erros PHP</a></dt><dt id="ientry-idp2371360">matchesRegularExpression(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp791760">method(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp532704">Método Modelo, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures">Ambientes</a></dt></dl></div><div class="indexdiv"><h3>O</h3><dl><dt id="ientry-idp1250272">Objeto Falso, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.mock-objects">Objetos Falsos</a></dt><dt id="ientry-idp1236096">onConsecutiveCalls(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp248496">onNotSuccessfulTest(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures">Ambientes</a></dt><dt id="ientry-idp1683936">Ouvintes de Teste, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.test-listeners">Ouvintes de Teste</a></dt></dl></div><div class="indexdiv"><h3>P</h3><dl><dt id="ientry-idp425616">PHP Error, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.errors">Testando Erros PHP</a></dt><dt id="ientry-idp426192">PHP Notice, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.errors">Testando Erros PHP</a></dt><dt id="ientry-idp426768">PHP Warning, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.errors">Testando Erros PHP</a></dt><dt id="ientry-idp1690496">php.ini, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.php-ini-constants-variables">Definindo configurações PHP INI, Constantes e Variáveis Globais</a></dt><dt id="ientry-idp427344">PHPUnit\Framework\Error, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.errors">Testando Erros PHP</a></dt><dt id="ientry-idp433648">PHPUnit\Framework\Error\Notice, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.errors">Testando Erros PHP</a></dt><dt id="ientry-idp434240">PHPUnit\Framework\Error\Warning, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit.errors">Testando Erros PHP</a></dt><dt id="ientry-idp1414864">PHPUnit_Extensions_RepeatedTest, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Extensions_TestDecorator">Subclasse PHPUnit_Extensions_TestDecorator</a></dt><dt id="ientry-idp1378064">PHPUnit_Extensions_Selenium2TestCase, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.selenium2testcase">PHPUnit_Extensions_Selenium2TestCase</a></dt><dt id="ientry-idp1387264">PHPUnit_Extensions_SeleniumTestCase, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.seleniumtestcase">PHPUnit_Extensions_SeleniumTestCase</a></dt><dt id="ientry-idp1413168">PHPUnit_Extensions_TestDecorator, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Extensions_TestDecorator">Subclasse PHPUnit_Extensions_TestDecorator</a></dt><dt id="ientry-idp1406640">PHPUnit_Framework_BaseTestListener, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Framework_TestListener">Implementando PHPUnit_Framework_TestListener</a></dt><dt id="ientry-idp105680">PHPUnit_Framework_IncompleteTest, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.incomplete-tests">Testes Incompletos</a></dt><dt id="ientry-idp106272">PHPUnit_Framework_IncompleteTestError, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.incomplete-tests">Testes Incompletos</a></dt><dt id="ientry-idp1517248">PHPUnit_Framework_Test, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Framework_Test">Implementando PHPUnit_Framework_Test</a></dt><dt id="ientry-idp148416">PHPUnit_Framework_TestCase, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#writing-tests-for-phpunit">Escrevendo Testes para o PHPUnit</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Framework_TestCase">Subclasse PHPUnit_Framework_TestCase</a></dt><dt id="ientry-idp685184">PHPUnit_Framework_TestListener, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Framework_TestListener">Implementando PHPUnit_Framework_TestListener</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.test-listeners">Ouvintes de Teste</a></dt><dt id="ientry-idp671632">PHPUnit_Runner_TestSuiteLoader, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dt id="ientry-idp685776">PHPUnit_Util_Printer, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dt id="ientry-idp1921056">PHP_Invoker, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.large">@large</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.medium">@medium</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.small">@small</a></dt><dt id="ientry-idp352752">Programação Extrema, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests.agile-documentation">Documentação Ágil</a></dt></dl></div><div class="indexdiv"><h3>R</h3><dl><dt id="ientry-idp821312">Refatorando, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#testing-practices.during-development">Durante o Desenvolvimento</a></dt><dt id="ientry-idp924592">Registrando, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#logging">Registrando</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.logging">Registrando</a></dt><dt id="ientry-idp551888">Relatório, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dt id="ientry-idp814064">returnArgument(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp1229872">returnCallback(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp1216224">returnSelf(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp1222448">returnValueMap(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt></dl></div><div class="indexdiv"><h3>S</h3><dl><dt id="ientry-idp1695904">Selenium RC, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.selenium-rc">Configurando Navegadores para Selenium RC</a></dt><dt id="ientry-idp857408">Servidor Selenium, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#selenium.selenium-rc">Servidor Selenium</a></dt><dt id="ientry-idp533280">setUp(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures">Ambientes</a></dt><dt id="ientry-idp308640">setUpBeforeClass, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.sharing-fixture">Compartilhando Ambientes</a></dt><dt id="ientry-idp237600">setUpBeforeClass(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures">Ambientes</a></dt><dt id="ientry-idp930880">Sistema Sob Teste, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles">Dublês de Testes</a></dt><dt id="ientry-idp2373568">stringContains(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2375744">stringEndsWith(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp2377920">stringStartsWith(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.assertions.assertThat">assertThat()</a></dt><dt id="ientry-idp539872">Suíte de Testes, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#organizing-tests">Organizando Testes</a></dt><dt id="ientry-idp1578016">Suítes de Teste, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.testsuites">Suítes de Teste</a></dt></dl></div><div class="indexdiv"><h3>T</h3><dl><dt id="ientry-idp533856">tearDown(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures">Ambientes</a></dt><dt id="ientry-idp309216">tearDownAfterClass, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.sharing-fixture">Compartilhando Ambientes</a></dt><dt id="ientry-idp239328">tearDownAfterClass(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures">Ambientes</a></dt><dt id="ientry-idp645104">Test Isolation, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#textui.clioptions">Opções de linha-de-comando</a></dt><dt id="ientry-idp353328">TestDox, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#other-uses-for-tests.agile-documentation">Documentação Ágil</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.testdox">@testdox</a></dt><dt id="ientry-idp1517824">Testes Guiados por Dados, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#extending-phpunit.PHPUnit_Framework_Test">Implementando PHPUnit_Framework_Test</a></dt><dt id="ientry-idp105104">Testes Incompletos, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#incomplete-and-skipped-tests.incomplete-tests">Testes Incompletos</a></dt><dt id="ientry-idp1242352">throwException(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp1921760">timeoutForLargeTests, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.large">@large</a></dt><dt id="ientry-idp1928480">timeoutForMediumTests, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.medium">@medium</a></dt><dt id="ientry-idp1662512">timeoutForSmallTests, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.annotations.small">@small</a></dt></dl></div><div class="indexdiv"><h3>V</h3><dl><dt id="ientry-idp489728">Variável Global, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#fixtures.global-state">Estado Global</a>, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#appendixes.configuration.php-ini-constants-variables">Definindo configurações PHP INI, Constantes e Variáveis Globais</a></dt></dl></div><div class="indexdiv"><h3>W</h3><dl><dt id="ientry-idp813488">will(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt><dt id="ientry-idp792336">willReturn(), <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#test-doubles.stubs">Esboços (stubs)</a></dt></dl></div><div class="indexdiv"><h3>X</h3><dl><dt id="ientry-idp1004192">Xdebug, <a class="indexterm" href="https://phpunit.de/manual/current/pt_br/phpunit-book.html#code-coverage-analysis">Análise de Cobertura de Código</a></dt></dl></div></div></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="appendixes.bibliography"></a>Apêndice F. Bibliografia</h1></div></div></div><div class="biblioentry"><a id="Astels2003"></a><p>[<abbr class="abbrev">Astels2003</abbr>] <span class="title"><em>Test Driven Development</em>. </span><span class="authorgroup"><span class="firstname">David</span> <span class="surname">Astels</span>. </span><span class="copyright">Copyright © 2003. </span><span class="publisher"><span class="publishername">Prentice Hall. </span></span><span class="isbn">ISBN 0131016490. </span></p></div><div class="biblioentry"><a id="Beck2002"></a><p>[<abbr class="abbrev">Beck2002</abbr>] <span class="title"><em>Test Driven Development by Example</em>. </span><span class="authorgroup"><span class="firstname">Kent</span> <span class="surname">Beck</span>. </span><span class="copyright">Copyright © 2002. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="isbn">ISBN 0-321-14653-0. </span></p></div><div class="biblioentry"><a id="Meszaros2007"></a><p>[<abbr class="abbrev">Meszaros2007</abbr>] <span class="title"><em>xUnit Test Patterns: Refactoring Test Code</em>. </span><span class="authorgroup"><span class="firstname">Gerard</span> <span class="surname">Meszaros</span>. </span><span class="copyright">Copyright © 2007. </span><span class="publisher"><span class="publishername">Addison-Wesley. </span></span><span class="isbn">ISBN 978-0131495050. </span></p></div></div><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="appendixes.copyright"></a>Apêndice G. Direitos autorais</h1></div></div></div><pre class="programlisting">Direitos autorais (c) 2005-2017 Sebastian Bergmann.

Este trabalho é licenciado sob a Licença Não-adaptada Creative Commons Attribution 3.0.

Um resumo da licença é dada abaixo, seguido pelo texto legal 
completo.

--------------------------------------------------------------------

Você tem o direito de:

    * Compartilhar — copiar, distribuir e transmitir o material
    * Adaptar — adaptar o material

De acordo com os termos seguintes:

Atribuição. Você deve atribuir o material da maneira especificado pelo
autor ou licenciador (mas não de qualquer form que sugira que eles
endossem você ou seu uso ao material).

    * Para qualquer reuso ou distribuição, você deve deixar claro 
      os termos da licença deste material. A melhor maneira de fazer isso e com
      um link para esta página web.

    * Qualquer das condições acima podem ser renunciadas se você 
      obter permissão de detentor dos direitos autorais.

    * Nada nesta licença prejudica ou restringe os diretos autorais do
      autor.

Sua justa negação e outros direitos não são, de maneira alguma, 
afetados pelo citado acima.

Esse é um resumo legível do Código Legal (a licença
completa) abaixo.

====================================================================
  
Creative Commons Legal Code
Attribution 3.0 Unported

CREATIVE COMMONS CORPORATION IS NOT A LAW FIRM AND DOES NOT PROVIDE
LEGAL SERVICES. DISTRIBUTION OF THIS LICENSE DOES NOT CREATE AN
ATTORNEY-CLIENT RELATIONSHIP. CREATIVE COMMONS PROVIDES THIS
INFORMATION ON AN "AS-IS" BASIS. CREATIVE COMMONS MAKES NO
WARRANTIES REGARDING THE INFORMATION PROVIDED, AND DISCLAIMS
LIABILITY FOR DAMAGES RESULTING FROM ITS USE.

License

THE WORK (AS DEFINED BELOW) IS PROVIDED UNDER THE TERMS OF THIS
CREATIVE COMMONS PUBLIC LICENSE ("CCPL" OR "LICENSE"). THE WORK IS
PROTECTED BY COPYRIGHT AND/OR OTHER APPLICABLE LAW. ANY USE OF THE
WORK OTHER THAN AS AUTHORIZED UNDER THIS LICENSE OR COPYRIGHT LAW
IS PROHIBITED.

BY EXERCISING ANY RIGHTS TO THE WORK PROVIDED HERE, YOU ACCEPT AND
AGREE TO BE BOUND BY THE TERMS OF THIS LICENSE. TO THE EXTENT THIS
LICENSE MAY BE CONSIDERED TO BE A CONTRACT, THE LICENSOR GRANTS YOU
THE RIGHTS CONTAINED HERE IN CONSIDERATION OF YOUR ACCEPTANCE OF
SUCH TERMS AND CONDITIONS.

1. Definitions

   a. "Adaptation" means a work based upon the Work, or upon the
      Work and other pre-existing works, such as a translation,
      adaptation, derivative work, arrangement of music or other
      alterations of a literary or artistic work, or phonogram or
      performance and includes cinematographic adaptations or any
      other form in which the Work may be recast, transformed, or
      adapted including in any form recognizably derived from the
      original, except that a work that constitutes a Collection
      will not be considered an Adaptation for the purpose of this
      License. For the avoidance of doubt, where the Work is a
      musical work, performance or phonogram, the synchronization of
      the Work in timed-relation with a moving image ("synching")
      will be considered an Adaptation for the purpose of this
      License.

   b. "Collection" means a collection of literary or artistic works,
      such as encyclopedias and anthologies, or performances,
      phonograms or broadcasts, or other works or subject matter
      other than works listed in Section 1(f) below, which, by
      reason of the selection and arrangement of their contents,
      constitute intellectual creations, in which the Work is
      included in its entirety in unmodified form along with one or
      more other contributions, each constituting separate and
      independent works in themselves, which together are assembled
      into a collective whole. A work that constitutes a Collection
      will not be considered an Adaptation (as defined above) for
      the purposes of this License.

   c. "Distribute" means to make available to the public the
      original and copies of the Work or Adaptation, as appropriate,
      through sale or other transfer of ownership.

   d. "Licensor" means the individual, individuals, entity or
      entities that offer(s) the Work under the terms of this License.

   e. "Original Author" means, in the case of a literary or artistic
      work, the individual, individuals, entity or entities who
      created the Work or if no individual or entity can be
      identified, the publisher; and in addition (i) in the case of
      a performance the actors, singers, musicians, dancers, and
      other persons who act, sing, deliver, declaim, play in,
      interpret or otherwise perform literary or artistic works or
      expressions of folklore; (ii) in the case of a phonogram the
      producer being the person or legal entity who first fixes the
      sounds of a performance or other sounds; and, (iii) in the
      case of broadcasts, the organization that transmits the
      broadcast.

   f. "Work" means the literary and/or artistic work offered under
      the terms of this License including without limitation any
      production in the literary, scientific and artistic domain,
      whatever may be the mode or form of its expression including
      digital form, such as a book, pamphlet and other writing; a
      lecture, address, sermon or other work of the same nature; a
      dramatic or dramatico-musical work; a choreographic work or
      entertainment in dumb show; a musical composition with or
      without words; a cinematographic work to which are assimilated
      works expressed by a process analogous to cinematography; a
      work of drawing, painting, architecture, sculpture, engraving
      or lithography; a photographic work to which are assimilated
      works expressed by a process analogous to photography; a work
      of applied art; an illustration, map, plan, sketch or three-
      dimensional work relative to geography, topography,
      architecture or science; a performance; a broadcast; a
      phonogram; a compilation of data to the extent it is protected
      as a copyrightable work; or a work performed by a variety or
      circus performer to the extent it is not otherwise considered
      a literary or artistic work.

   g. "You" means an individual or entity exercising rights under
      this License who has not previously violated the terms of
      this License with respect to the Work, or who has received
      express permission from the Licensor to exercise rights under
      this License despite a previous violation.

   h. "Publicly Perform" means to perform public recitations of the
      Work and to communicate to the public those public
      recitations, by any means or process, including by wire or
      wireless means or public digital performances; to make
      available to the public Works in such a way that members of
      the public may access these Works from a place and at a place
      individually chosen by them; to perform the Work to the public
      by any means or process and the communication to the public of
      the performances of the Work, including by public digital
      performance; to broadcast and rebroadcast the Work by any
      means including signs, sounds or images.

   i. "Reproduce" means to make copies of the Work by any means
      including without limitation by sound or visual recordings and
      the right of fixation and reproducing fixations of the Work,
      including storage of a protected performance or phonogram in
      digital form or other electronic medium.

2. Fair Dealing Rights. Nothing in this License is intended to
   reduce, limit, or restrict any uses free from copyright or rights
   arising from limitations or exceptions that are provided for in
   connection with the copyright protection under copyright law or
   other applicable laws.

3. License Grant. Subject to the terms and conditions of this
   License, Licensor hereby grants You a worldwide, royalty-free,
   non-exclusive, perpetual (for the duration of the applicable
   copyright) license to exercise the rights in the Work as stated
   below:

   a. to Reproduce the Work, to incorporate the Work into one or
      more Collections, and to Reproduce the Work as incorporated
      in the Collections;

   b. to create and Reproduce Adaptations provided that any such
      Adaptation, including any translation in any medium, takes
      reasonable steps to clearly label, demarcate or otherwise
      identify that changes were made to the original Work. For
      example, a translation could be marked "The original work was
      translated from English to Spanish," or a modification could
      indicate "The original work has been modified.";

   c. to Distribute and Publicly Perform the Work including as
      incorporated in Collections; and,

   d. to Distribute and Publicly Perform Adaptations.

   e. For the avoidance of doubt:

      i. Non-waivable Compulsory License Schemes. In those
         jurisdictions in which the right to collect royalties
         through any statutory or compulsory licensing scheme cannot
         be waived, the Licensor reserves the exclusive right to
         collect such royalties for any exercise by You of the
         rights granted under this License;

      ii. Waivable Compulsory License Schemes. In those
          jurisdictions in which the right to collect royalties
          through any statutory or compulsory licensing scheme can
          be waived, the Licensor waives the exclusive right to
          collect such royalties for any exercise by You of the
          rights granted under this License; and,

      iii. Voluntary License Schemes. The Licensor waives the right
           to collect royalties, whether individually or, in the
           event that the Licensor is a member of a collecting
           society that administers voluntary licensing schemes, via
           that society, from any exercise by You of the rights
           granted under this License.

The above rights may be exercised in all media and formats whether
now known or hereafter devised. The above rights include the right
to make such modifications as are technically necessary to exercise
the rights in other media and formats. Subject to Section 8(f), all
rights not expressly granted by Licensor are hereby reserved.

4. Restrictions. The license granted in Section 3 above is expressly
   made subject to and limited by the following restrictions:

   a. You may Distribute or Publicly Perform the Work only under the
      terms of this License. You must include a copy of, or the
      Uniform Resource Identifier (URI) for, this License with every
      copy of the Work You Distribute or Publicly Perform. You may
      not offer or impose any terms on the Work that restrict the
      terms of this License or the ability of the recipient of the
      Work to exercise the rights granted to that recipient under
      the terms of the License. You may not sublicense the Work. You
      must keep intact all notices that refer to this License and to
      the disclaimer of warranties with every copy of the Work You
      Distribute or Publicly Perform. When You Distribute or
      Publicly Perform the Work, You may not impose any effective
      technological measures on the Work that restrict the ability
      of a recipient of the Work from You to exercise the rights
      granted to that recipient under the terms of the License. This
      Section 4(a) applies to the Work as incorporated in a
      Collection, but this does not require the Collection apart
      from the Work itself to be made subject to the terms of this
      License. If You create a Collection, upon notice from any
      Licensor You must, to the extent practicable, remove from the
      Collection any credit as required by Section 4(b), as
      requested. If You create an Adaptation, upon notice from any
      Licensor You must, to the extent practicable, remove from the
      Adaptation any credit as required by Section 4(b), as requested.

   b. If You Distribute, or Publicly Perform the Work or any
      Adaptations or Collections, You must, unless a request has
      been made pursuant to Section 4(a), keep intact all copyright
      notices for the Work and provide, reasonable to the medium or
      means You are utilizing: (i) the name of the Original Author
      (or pseudonym, if applicable) if supplied, and/or if the
      Original Author and/or Licensor designate another party or
      parties (e.g., a sponsor institute, publishing entity,
      journal) for attribution ("Attribution Parties") in Licensor's
      copyright notice, terms of service or by other reasonable
      means, the name of such party or parties; (ii) the title of
      the Work if supplied; (iii) to the extent reasonably
      practicable, the URI, if any, that Licensor specifies to be
      associated with the Work, unless such URI does not refer to
      the copyright notice or licensing information for the Work;
      and (iv), consistent with Section 3(b), in the case of an
      Adaptation, a credit identifying the use of the Work in the
      Adaptation (e.g., "French translation of the Work by Original
      Author," or "Screenplay based on original Work by Original
      Author"). The credit required by this Section 4 (b) may be
      implemented in any reasonable manner; provided, however, that
      in the case of a Adaptation or Collection, at a minimum such
      credit will appear, if a credit for all contributing authors
      of the Adaptation or Collection appears, then as part of these
      credits and in a manner at least as prominent as the credits
      for the other contributing authors. For the avoidance of
      doubt, You may only use the credit required by this Section
      for the purpose of attribution in the manner set out above
      and, by exercising Your rights under this License, You may not
      implicitly or explicitly assert or imply any connection with,
      sponsorship or endorsement by the Original Author, Licensor
      and/or Attribution Parties, as appropriate, of You or Your use
      of the Work, without the separate, express prior written
      permission of the Original Author, Licensor and/or
      Attribution Parties.

   c. Except as otherwise agreed in writing by the Licensor or as
      may be otherwise permitted by applicable law, if You
      Reproduce, Distribute or Publicly Perform the Work either by
      itself or as part of any Adaptations or Collections, You must
      not distort, mutilate, modify or take other derogatory action
      in relation to the Work which would be prejudicial to the
      Original Author's honor or reputation. Licensor agrees that in
      those jurisdictions (e.g. Japan), in which any exercise of the
      right granted in Section 3(b) of this License (the right to
      make Adaptations) would be deemed to be a distortion,
      mutilation, modification or other derogatory action
      prejudicial to the Original Author's honor and reputation, the
      Licensor will waive or not assert, as appropriate, this
      Section, to the fullest extent permitted by the applicable
      national law, to enable You to reasonably exercise Your right
      under Section 3(b) of this License (right to make Adaptations)
      but not otherwise.

5. Representations, Warranties and Disclaimer

UNLESS OTHERWISE MUTUALLY AGREED TO BY THE PARTIES IN WRITING,
LICENSOR OFFERS THE WORK AS-IS AND MAKES NO REPRESENTATIONS OR
WARRANTIES OF ANY KIND CONCERNING THE WORK, EXPRESS, IMPLIED,
STATUTORY OR OTHERWISE, INCLUDING, WITHOUT LIMITATION, WARRANTIES OF
TITLE, MERCHANTIBILITY, FITNESS FOR A PARTICULAR PURPOSE,
NONINFRINGEMENT, OR THE ABSENCE OF LATENT OR OTHER DEFECTS,
ACCURACY, OR THE PRESENCE OF ABSENCE OF ERRORS, WHETHER OR NOT
DISCOVERABLE. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF
IMPLIED WARRANTIES, SO SUCH EXCLUSION MAY NOT APPLY TO YOU.

6. Limitation on Liability. EXCEPT TO THE EXTENT REQUIRED BY
   APPLICABLE LAW, IN NO EVENT WILL LICENSOR BE LIABLE TO YOU ON ANY
   LEGAL THEORY FOR ANY SPECIAL, INCIDENTAL, CONSEQUENTIAL, PUNITIVE
   OR EXEMPLARY DAMAGES ARISING OUT OF THIS LICENSE OR THE USE OF
   THE WORK, EVEN IF LICENSOR HAS BEEN ADVISED OF THE POSSIBILITY
   OF SUCH DAMAGES.

7. Termination

   a. This License and the rights granted hereunder will terminate
      automatically upon any breach by You of the terms of this
      License. Individuals or entities who have received Adaptations
      or Collections from You under this License, however, will not
      have their licenses terminated provided such individuals or
      entities remain in full compliance with those licenses.
      Sections 1, 2, 5, 6, 7, and 8 will survive any termination of
      this License.

   b. Subject to the above terms and conditions, the license granted
      here is perpetual (for the duration of the applicable
      copyright in the Work). Notwithstanding the above, Licensor
      reserves the right to release the Work under different license
      terms or to stop distributing the Work at any time; provided,
      however that any such election will not serve to withdraw this
      License (or any other license that has been, or is required to
      be, granted under the terms of this License), and this License
      will continue in full force and effect unless terminated as
      stated above.

8. Miscellaneous

   a. Each time You Distribute or Publicly Perform the Work or a
      Collection, the Licensor offers to the recipient a license to
      the Work on the same terms and conditions as the license
      granted to You under this License.

   b. Each time You Distribute or Publicly Perform an Adaptation,
      Licensor offers to the recipient a license to the original
      Work on the same terms and conditions as the license granted
      to You under this License.

   c. If any provision of this License is invalid or unenforceable
      under applicable law, it shall not affect the validity or
      enforceability of the remainder of the terms of this License,
      and without further action by the parties to this agreement,
      such provision shall be reformed to the minimum extent
      necessary to make such provision valid and enforceable.

   d. No term or provision of this License shall be deemed waived
      and no breach consented to unless such waiver or consent shall
      be in writing and signed by the party to be charged with such
      waiver or consent.

   e. This License constitutes the entire agreement between the
      parties with respect to the Work licensed here. There are no
      understandings, agreements or representations with respect to
      the Work not specified here. Licensor shall not be bound by
      any additional provisions that may appear in any communication
      from You. This License may not be modified without the mutual
      written agreement of the Licensor and You.

   f. The rights granted under, and the subject matter referenced,
      in this License were drafted utilizing the terminology of the
      Berne Convention for the Protection of Literary and Artistic
      Works (as amended on September 28, 1979), the Rome Convention
      of 1961, the WIPO Copyright Treaty of 1996, the WIPO
      Performances and Phonograms Treaty of 1996 and the Universal
      Copyright Convention (as revised on July 24, 1971). These
      rights and subject matter take effect in the relevant
      jurisdiction in which the License terms are sought to be
      enforced according to the corresponding provisions of the
      implementation of those treaty provisions in the applicable
      national law. If the standard suite of rights granted under
      applicable copyright law includes additional rights not
      granted under this License, such additional rights are deemed
      to be included in the License; this License is not intended to
      restrict the license of any rights under applicable law.

Creative Commons is not a party to this License, and makes no
warranty whatsoever in connection with the Work. Creative Commons
will not be liable to You or any party on any legal theory for any
damages whatsoever, including without limitation any general,
special, incidental or consequential damages arising in connection
to this license. Notwithstanding the foregoing two (2) sentences,
if Creative Commons has expressly identified itself as the Licensor
hereunder, it shall have all rights and obligations of Licensor.

Except for the limited purpose of indicating to the public that the
Work is licensed under the CCPL, Creative Commons does not authorize
the use by either party of the trademark "Creative Commons" or any
related trademark or logo of Creative Commons without the prior
written consent of Creative Commons. Any permitted use will be in
compliance with Creative Commons' then-current trademark usage
guidelines, as may be published on its website or otherwise made
available upon request from time to time. For the avoidance of
doubt, this trademark restriction does not form part of this
License.

Creative Commons may be contacted at http://creativecommons.org/.

====================================================================</pre></div></div>
</body></html>